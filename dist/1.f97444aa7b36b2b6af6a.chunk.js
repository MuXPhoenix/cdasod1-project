webpackJsonp([1,112],{"+9Zk":function(t,e,i){"use strict";var n=i("T2D5"),r=i("vV8s");i.d(e,"a",function(){return o});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),o=function(t){function e(e,i,n,r){var a=t.call(this,e,i,n,r)||this;return a.iconPoints=[],a.scaledIconPoints=[],a.getDragIconPoints(a.iconPoints,1),a.getDragIconPoints(a.scaledIconPoints,1.2),a}return a(e,t),e.prototype.draw=function(t){this.over||this.drag?this.drawIcon(t,this.scaledIconPoints):this.drawIcon(t,this.iconPoints)},e.prototype.getDragIconPoints=function(t,e){var i=17*e,n=14*e,a=8*e,o=4*e;t.push(r.a.instance.borrow(-o/2,i-a)),t.push(r.a.instance.borrow(-n/2,i-a)),t.push(r.a.instance.borrow(0,i)),t.push(r.a.instance.borrow(n/2,i-a)),t.push(r.a.instance.borrow(o/2,i-a)),t.push(r.a.instance.borrow(o/2,o/2)),t.push(r.a.instance.borrow(i-a,o/2)),t.push(r.a.instance.borrow(i-a,n/2)),t.push(r.a.instance.borrow(i,0)),t.push(r.a.instance.borrow(i-a,-n/2)),t.push(r.a.instance.borrow(i-a,-o/2)),t.push(r.a.instance.borrow(o/2,-o/2)),t.push(r.a.instance.borrow(o/2,-i+a)),t.push(r.a.instance.borrow(n/2,-i+a)),t.push(r.a.instance.borrow(0,-i)),t.push(r.a.instance.borrow(-n/2,-i+a)),t.push(r.a.instance.borrow(-o/2,-i+a)),t.push(r.a.instance.borrow(-o/2,-o/2)),t.push(r.a.instance.borrow(-i+a,-o/2)),t.push(r.a.instance.borrow(-i+a,-n/2)),t.push(r.a.instance.borrow(-i,0)),t.push(r.a.instance.borrow(-i+a,n/2)),t.push(r.a.instance.borrow(-i+a,o/2)),t.push(r.a.instance.borrow(-o/2,o/2))},e.prototype.drawIcon=function(t,e){t.beginPath(),t.moveTo(e[0].x+this.position.x,e[0].y+this.position.y);for(var i=0;i<e.length;i++){var n=e[i];t.lineTo(n.x+this.position.x,n.y+this.position.y)}t.closePath(),t.fillStyle=this.cropperSettings.cropperDrawSettings.dragIconFillColor,t.fill(),t.lineWidth=this.cropperSettings.cropperDrawSettings.dragIconStrokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.dragIconStrokeColor,t.stroke()},e.prototype.recalculatePosition=function(t){var e=t.getCentre();this.setPosition(e.x,e.y),r.a.instance.returnPoint(e)},e}(n.a)},"1lVi":function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();o=r([i.i(n.Component)({selector:"sa-stats",template:i("f3lI")}),a("design:paramtypes",[])],o)},"3bjF":function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("Ute4");i.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},s=function(){function t(){}return t}();s=o([i.i(n.NgModule)({imports:[r.CommonModule],declarations:[a.a],exports:[a.a]})],s)},"3yjK":function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(t){this.el=t}return t.prototype.ngOnInit=function(){var t=this;i.e(110).then(i.bind(null,"Tci7")).then(function(){$(t.el.nativeElement).progressbar(t.saProgressbar||{display_text:"fill"})})},t}();r([i.i(n.Input)(),a("design:type",Object)],o.prototype,"saProgressbar",void 0),o=r([i.i(n.Directive)({selector:"[saProgressbar]"}),a("design:paramtypes",["function"==typeof(s=void 0!==n.ElementRef&&n.ElementRef)&&s||Object])],o);var s},"47rR":function(t,e,i){"use strict";var n=(i("TqQ6"),i("Ap4N"),i("Yk75"));i.d(e,"a",function(){return n.a});i("Dh6c"),i("DF0p"),i("yajt"),i("VnpU"),i("dGcM")},"4cn0":function(t,e,i){"use strict";var n=i("5oXY"),r=i("oUpo");i.d(e,"a",function(){return o});var a=[{path:"",component:r.a}],o=n.b.forChild(a)},"4hmS":function(t,e,i){"use strict";function n(t,e){return Array.isArray(e)||(e=[e]),e.forEach(function(e){t.classList?t.classList.add(e):t.className+=" "+e}),t}function r(t,e){return Array.isArray(e)||(e=[e]),e.forEach(function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}),t}e.a=n,e.b=r},"4qOI":function(t,e,i){"use strict";var n=i("3j3K"),r=i("sgBC");i.n(r);i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.el=t,this.container=this.el.nativeElement}return t.prototype.ngOnInit=function(){this.drawSparklines()},t.prototype.barChart=function(t){var e=t.data("sparkline-bar-color")||t.css("color")||"#0000f0",i=t.data("sparkline-height")||"26px",n=t.data("sparkline-barwidth")||5,r=t.data("sparkline-barspacing")||2,a=t.data("sparkline-negbar-color")||"#A90329",o=t.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"];t.sparkline("html",{barColor:e,type:"bar",height:i,barWidth:n,barSpacing:r,stackedBarColor:o,negBarColor:a,zeroAxis:"false",tooltipContainer:this.container})},t.prototype.lineChart=function(t){var e=t.data("sparkline-height")||"20px",i=t.data("sparkline-width")||"90px",n=t.data("sparkline-line-color")||t.css("color")||"#0000f0",r=t.data("sparkline-line-width")||1,a=t.data("fill-color")||"#c0d0f0",o=t.data("sparkline-spot-color")||"#f08000",s=t.data("sparkline-minspot-color")||"#ed1c24",c=t.data("sparkline-maxspot-color")||"#f08000",l=t.data("sparkline-highlightspot-color")||"#50f050",h=t.data("sparkline-highlightline-color")||"f02020",p=t.data("sparkline-spotradius")||1.5,d=t.data("sparkline-min-y"),u=t.data("sparkline-max-y"),g=t.data("sparkline-min-x"),f=t.data("sparkline-max-x"),b=t.data("min-val"),m=t.data("max-val"),v=t.data("norm-color")||"#c0c0c0",y=t.data("draw-normal")||!1;t.sparkline("html",{type:"line",width:i,height:e,lineWidth:r,lineColor:n,fillColor:a,spotColor:o,minSpotColor:s,maxSpotColor:c,highlightSpotColor:l,highlightLineColor:h,spotRadius:p,chartRangeMin:d,chartRangeMax:u,chartRangeMinX:g,chartRangeMaxX:f,normalRangeMin:b,normalRangeMax:m,normalRangeColor:v,drawNormalOnTop:y,tooltipContainer:this.container})},t.prototype.pieChart=function(t){var e=t.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],i=t.data("sparkline-piesize")||90,n=t.data("border-color")||"#45494C",r=t.data("sparkline-offset")||0;t.sparkline("html",{type:"pie",width:i,height:i,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:e,borderWidth:1,offset:r,borderColor:n,tooltipContainer:this.container})},t.prototype.boxChart=function(t){var e=t.data("sparkline-width")||"auto",i=t.data("sparkline-height")||"auto",n=t.data("sparkline-boxraw"),r=t.data("sparkline-targetval"),a=t.data("sparkline-min"),o=t.data("sparkline-max"),s=t.data("sparkline-showoutlier")||!0,c=t.data("sparkline-outlier-iqr")||1.5,l=t.data("sparkline-spotradius")||1.5,h=t.css("color")||"#000000",p=t.data("fill-color")||"#c0d0f0",d=t.data("sparkline-whis-color")||"#000000",u=t.data("sparkline-outline-color")||"#303030",g=t.data("sparkline-outlinefill-color")||"#f0f0f0",f=t.data("sparkline-outlinemedian-color")||"#f00000",b=t.data("sparkline-outlinetarget-color")||"#40a020";t.sparkline("html",{type:"box",width:e,height:i,raw:n,target:r,minValue:a,maxValue:o,showOutliers:s,outlierIQR:c,spotRadius:l,boxLineColor:h,boxFillColor:p,whiskerColor:d,outlierLineColor:u,outlierFillColor:g,medianColor:f,targetColor:b,tooltipContainer:this.container})},t.prototype.bulletChart=function(t){var e=t.data("sparkline-height")||"auto",i=t.data("sparkline-width")||2,n=t.data("sparkline-bullet-color")||"#ed1c24",r=t.data("sparkline-performance-color")||"#3030f0",a=t.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"];t.sparkline("html",{type:"bullet",height:e,targetWidth:i,targetColor:n,performanceColor:r,rangeColors:a,tooltipContainer:this.container})},t.prototype.discreteChart=function(t){var e=t.data("sparkline-height")||26,i=t.data("sparkline-width")||50,n=t.css("color"),r=t.data("sparkline-line-height")||5,a=t.data("sparkline-threshold"),o=t.data("sparkline-threshold-color")||"#ed1c24";t.sparkline("html",{type:"discrete",width:i,height:e,lineColor:n,lineHeight:r,thresholdValue:a,thresholdColor:o,tooltipContainer:this.container})},t.prototype.tristaneChart=function(t){var e=t.data("sparkline-height")||26,i=t.data("sparkline-posbar-color")||"#60f060",n=t.data("sparkline-negbar-color")||"#f04040",r=t.data("sparkline-zerobar-color")||"#909090",a=t.data("sparkline-barwidth")||5,o=t.data("sparkline-barspacing")||2,s=t.data("sparkline-zeroaxis");t.sparkline("html",{type:"tristate",height:e,posBarColor:i,negBarColor:n,zeroBarColor:r,barWidth:a,barSpacing:o,zeroAxis:s,tooltipContainer:this.container})},t.prototype.compositeBarChart=function(t){var e=t.data("sparkline-height")||"20px",i=t.data("sparkline-width")||"100%",n=t.data("sparkline-barwidth")||3,r=t.data("sparkline-line-width")||1,a=t.data("sparkline-color-top")||"#ed1c24",o=t.data("sparkline-color-bottom")||"#333333";t.sparkline(t.data("sparkline-bar-val"),{type:"bar",width:i,height:e,barColor:o,barWidth:n,tooltipContainer:this.container}),t.sparkline(t.data("sparkline-line-val"),{width:i,height:e,lineColor:a,lineWidth:r,composite:!0,fillColor:!1,tooltipContainer:this.container})},t.prototype.compositeLineChart=function(t){var e=t.data("sparkline-height"),i=t.data("sparkline-width"),n=t.data("sparkline-bar-val"),r=t.data("sparkline-bar-val-spots-top"),a=t.data("sparkline-bar-val-spots-bottom"),o=t.data("sparkline-line-width-top"),s=t.data("sparkline-line-width-bottom"),c=t.data("sparkline-color-top"),l=t.data("sparkline-color-bottom"),h=t.data("sparkline-spotradius-top"),p=t.data("sparkline-spotradius-bottom"),d=t.data("sparkline-spot-color"),u=t.data("sparkline-minspot-color-top"),g=t.data("sparkline-maxspot-color-top"),f=t.data("sparkline-minspot-color-bottom"),b=t.data("sparkline-maxspot-color-bottom"),m=t.data("sparkline-highlightspot-color-top"),v=t.data("sparkline-highlightline-color-top"),y=t.data("sparkline-highlightspot-color-bottom"),x=t.data("sparkline-highlightline-color-bottom"),w=t.data("sparkline-fillcolor-top"),_=t.data("sparkline-fillcolor-bottom");t.sparkline(n,{type:"line",spotRadius:h,spotColor:d,minSpotColor:u,maxSpotColor:g,highlightSpotColor:m,highlightLineColor:v,valueSpots:r,lineWidth:o,width:i,height:e,lineColor:c,fillColor:w,tooltipContainer:this.container}),t.sparkline(t.data("sparkline-line-val"),{type:"line",spotRadius:p,spotColor:d,minSpotColor:f,maxSpotColor:b,highlightSpotColor:y,highlightLineColor:x,valueSpots:a,lineWidth:s,width:i,height:e,lineColor:l,composite:!0,fillColor:_,tooltipContainer:this.container})},t.prototype.drawSparklines=function(){var t=this;$(".sparkline:not(:has(>canvas))",this.container).each(function(e,i){var n=$(i),r=n.data("sparkline-type")||"bar";"bar"==r&&t.barChart(n),"line"==r&&t.lineChart(n),"pie"==r&&t.pieChart(n),"box"==r&&t.boxChart(n),"bullet"==r&&t.bulletChart(n),"discrete"==r&&t.discreteChart(n),"tristate"==r&&t.tristaneChart(n),"compositebar"==r&&t.compositeBarChart(n),"compositeline"==r&&t.compositeLineChart(n)})},t}();s=a([i.i(n.Directive)({selector:"[saSparklineContainer]"}),o("design:paramtypes",["function"==typeof(c=void 0!==n.ElementRef&&n.ElementRef)&&c||Object])],s);var c},"6TGv":function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(t){this.el=t}return t.prototype.ngOnInit=function(){var t=this;i.e(103).then(i.bind(null,"JF0I")).then(function(){t.render()})},t.prototype.render=function(){$(this.el.nativeElement).markdown(this.markdownEditor||{})},t}();r([i.i(n.Input)(),a("design:type",Object)],o.prototype,"markdownEditor",void 0),o=r([i.i(n.Directive)({selector:"[markdownEditor]"}),a("design:paramtypes",["function"==typeof(s=void 0!==n.ElementRef&&n.ElementRef)&&s||Object])],o);var s},"74BS":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return Object.defineProperty(t.prototype,"next",{get:function(){return this._next},set:function(t){this._next=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"prev",{get:function(){return this._prev},set:function(t){this._prev=t},enumerable:!0,configurable:!0}),t}()},Atu6:function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=s=function(){function t(){this.modelChange=new n.EventEmitter}return t.prototype.ngOnInit=function(){this.value=this.model,this.widgetId="on-off-switch"+s.widgetsCounter++},t.prototype.onChange=function(){this.modelChange.emit(this.value)},t}();o.widgetsCounter=0,r([i.i(n.Input)(),a("design:type",String)],o.prototype,"title",void 0),r([i.i(n.Input)(),a("design:type",Boolean)],o.prototype,"model",void 0),r([i.i(n.Output)(),a("design:type",Object)],o.prototype,"modelChange",void 0),r([i.i(n.Input)(),a("design:type",Object)],o.prototype,"value",void 0),o=s=r([i.i(n.Component)({selector:"on-off-switch",template:i("NLnk")}),a("design:paramtypes",[])],o);var s},CmaY:function(t,e,i){i("P+fo")(i("xS9c"))},DF0p:function(t,e,i){"use strict";i("qM/N"),i("d+Hv"),i("DQF6"),i("uyj9"),i("HS8E"),i("ZZPW")},DQF6:function(t,e,i){"use strict";i("pREj")},"Dc/W":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.setPressed=function(t){this.pressed=t},t.setReleased=function(t){this.pressed},t.setOver=function(t){this.over=t},t.setStyle=function(t,e){void 0!==this.pressed?this.pressed:this.over},t.share={},t}()},Dh6c:function(t,e,i){"use strict";i("WDoJ")},EzSG:function(t,e,i){"use strict";i("7HuI")},"FZ+f":function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var a=n(r);return[i].concat(r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"})).concat([a]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},Ggwh:function(t,e,i){"use strict";var n=i("WNfM"),r=i("yqdk"),a=i("gOVf"),o=i("+9Zk"),s=i("KquD"),c=i("Dc/W"),l=i("vV8s");i.d(e,"a",function(){return p});var h=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),p=function(t){function e(e){var i=t.call(this)||this,n=0,a=0,s=e.width,c=e.height,h=e.keepAspect,p=e.touchRadius,d=e.minWidth,u=e.minHeight,g=e.croppedWidth,f=e.croppedHeight;return i.cropperSettings=e,i.crop=i,i.x=n,i.y=a,void 0===s&&(i.width=100),void 0===c&&(i.height=50),void 0===h&&(i.keepAspect=!0),void 0===p&&(i.touchRadius=20),i.minWidth=d,i.minHeight=u,i.keepAspect=!1,i.aspectRatio=0,i.currentDragTouches=[],i.isMouseDown=!1,i.ratioW=1,i.ratioH=1,i.fileType=e.fileType,i.imageSet=!1,i.pointPool=new l.a(200),i.tl=new r.a(n,a,p,i.cropperSettings),i.tr=new r.a(n+s,a,p,i.cropperSettings),i.bl=new r.a(n,a+c,p,i.cropperSettings),i.br=new r.a(n+s,a+c,p,i.cropperSettings),i.tl.addHorizontalNeighbour(i.tr),i.tl.addVerticalNeighbour(i.bl),i.tr.addHorizontalNeighbour(i.tl),i.tr.addVerticalNeighbour(i.br),i.bl.addHorizontalNeighbour(i.br),i.bl.addVerticalNeighbour(i.tl),i.br.addHorizontalNeighbour(i.bl),i.br.addVerticalNeighbour(i.tr),i.markers=[i.tl,i.tr,i.bl,i.br],i.center=new o.a(n+s/2,a+c/2,p,i.cropperSettings),i.keepAspect=h,i.aspectRatio=c/s,i.croppedImage=new Image,i.currentlyInteracting=!1,i.cropWidth=g,i.cropHeight=f,i}return h(e,t),e.sign=function(t){return+t===t?0===t?t:t>0?1:-1:NaN},e.getMousePos=function(t,e){var i=t.getBoundingClientRect();return l.a.instance.borrow(e.clientX-i.left,e.clientY-i.top)},e.getTouchPos=function(t,e){var i=t.getBoundingClientRect();return l.a.instance.borrow(e.clientX-i.left,e.clientY-i.top)},e.detectVerticalSquash=function(t){var e=t.height,i=document.createElement("canvas");i.width=1,i.height=e;var n=i.getContext("2d");n.drawImage(t,0,0);var r=n.getImageData(0,0,1,e);if(r){for(var a=r.data,o=0,s=e,c=e;c>o;){0===a[4*(c-1)+3]?s=c:o=c,c=s+o>>1}var l=c/e;return 0===l?1:l}return 1},e.prototype.getDataUriMimeType=function(t){var e=t.substring(0,50),i="image/png",n=RegExp(/^(data:)([\w\/\+]+);(charset=[\w-]+|base64).*,(.*)/gi),r=n.exec(e);return r&&r[2]&&"image/jpg"==(i=r[2])&&(i="image/jpeg"),i},e.prototype.prepare=function(t){this.buffer=document.createElement("canvas"),this.cropCanvas=document.createElement("canvas");var e=t.parentElement?t.parentElement.clientWidth:0;e>0&&this.cropperSettings.dynamicSizing?(this.cropCanvas.width=e,this.buffer.width=e,t.width=e):(this.cropCanvas.width=this.cropWidth,this.buffer.width=t.width),this.cropCanvas.height=this.cropHeight,this.buffer.height=t.height,this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.draw(this.ctx)},e.prototype.resizeCanvas=function(t,e,i){void 0===i&&(i=!1),this.canvas.width=this.cropCanvas.width=this.width=this.canvasWidth=this.buffer.width=t,this.canvas.height=this.cropCanvas.height=this.height=this.canvasHeight=this.buffer.height=e,i&&this.setImage(this.srcImage)},e.prototype.reset=function(){this.setImage(void 0)},e.prototype.draw=function(t){var e=this.getBounds();if(this.srcImage){t.clearRect(0,0,this.canvasWidth,this.canvasHeight);var i=this.srcImage.height/this.srcImage.width,n=this.canvasHeight/this.canvasWidth,r=this.canvasWidth,a=this.canvasHeight;n>i?(r=this.canvasWidth,a=this.canvasWidth*i):(a=this.canvasHeight,r=this.canvasHeight/i),this.ratioW=r/this.srcImage.width,this.ratioH=a/this.srcImage.height,n<i?this.drawImageIOSFix(t,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,this.buffer.width/2-r/2,0,r,a):this.drawImageIOSFix(t,this.srcImage,0,0,this.srcImage.width,this.srcImage.height,0,this.buffer.height/2-a/2,r,a),this.buffer.getContext("2d").drawImage(this.canvas,0,0,this.canvasWidth,this.canvasHeight),t.lineWidth=this.cropperSettings.cropperDrawSettings.strokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.strokeColor,this.cropperSettings.rounded?(t.beginPath(),t.arc(e.left+e.width/2,e.top+e.height/2,e.width/2,0,2*Math.PI,!0),t.closePath(),t.stroke()):(t.fillStyle="rgba(0, 0, 0, 0.6)",t.fillRect(0,0,this.canvasWidth,this.canvasHeight),t.drawImage(this.buffer,e.left,e.top,Math.max(e.width,1),Math.max(e.height,1),e.left,e.top,e.width,e.height),t.strokeRect(e.left,e.top,e.width,e.height));for(var o=void 0,s=0;s<this.markers.length;s++)o=this.markers[s],o.draw(t);this.center.draw(t)}else t.fillStyle="rgba(192,192,192,1)",t.fillRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.dragCenter=function(t,e,i){var n=this.getBounds(),r=t-n.width/2,a=t+n.width/2,o=e-n.height/2,s=e+n.height/2;a>=this.maxXClamp&&(t=this.maxXClamp-n.width/2),r<=this.minXClamp&&(t=n.width/2+this.minXClamp),o<this.minYClamp&&(e=n.height/2+this.minYClamp),s>=this.maxYClamp&&(e=this.maxYClamp-n.height/2),this.tl.moveX(t-n.width/2),this.tl.moveY(e-n.height/2),this.tr.moveX(t+n.width/2),this.tr.moveY(e-n.height/2),this.bl.moveX(t-n.width/2),this.bl.moveY(e+n.height/2),this.br.moveX(t+n.width/2),this.br.moveY(e+n.height/2),i.setPosition(t,e)},e.prototype.enforceMinSize=function(t,e,i){var n=t-i.getHorizontalNeighbour().position.x,r=e-i.getVerticalNeighbour().position.y,a=this.minWidth-Math.abs(n),o=this.minHeight-Math.abs(r);return 0===n||0===r?(t=i.position.x,e=i.position.y,l.a.instance.borrow(t,e)):(this.keepAspect?a>0&&o/this.aspectRatio>0?a>o/this.aspectRatio?n<0?(t-=a,r<0?e-=a*this.aspectRatio:e+=a*this.aspectRatio):(t+=a,r<0?e-=a*this.aspectRatio:e+=a*this.aspectRatio):r<0?(e-=o,n<0?t-=o/this.aspectRatio:t+=o/this.aspectRatio):(e+=o,n<0?t-=o/this.aspectRatio:t+=o/this.aspectRatio):a>0?n<0?(t-=a,r<0?e-=a*this.aspectRatio:e+=a*this.aspectRatio):(t+=a,r<0?e-=a*this.aspectRatio:e+=a*this.aspectRatio):o>0&&(r<0?(e-=o,n<0?t-=o/this.aspectRatio:t+=o/this.aspectRatio):(e+=o,n<0?t-=o/this.aspectRatio:t+=o/this.aspectRatio)):(a>0&&(n<0?t-=a:t+=a),o>0&&(r<0?e-=o:e+=o)),(t<this.minXClamp||t>this.maxXClamp||e<this.minYClamp||e>this.maxYClamp)&&(t=i.position.x,e=i.position.y),l.a.instance.borrow(t,e))},e.prototype.dragCorner=function(t,e,i){var n,r=0,a=0,o=0,s=0,c=0,h=0,p=0,d=0,u=0;if(this.keepAspect){if(n=i.getHorizontalNeighbour().getVerticalNeighbour(),o=n.position.x,s=n.position.y,t<=n.position.x){if(e<=n.position.y){if(r=o-100/this.aspectRatio,a=s-100/this.aspectRatio*this.aspectRatio,(u=this.getSide(l.a.instance.borrow(r,a),n.position,l.a.instance.borrow(t,e)))>0){c=Math.abs(n.position.y-e),h=c/this.aspectRatio,p=n.position.y-c,d=n.position.x-h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}else if(u<0){h=Math.abs(n.position.x-t),c=h*this.aspectRatio,p=n.position.y-c,d=n.position.x-h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}}else if(r=o-100/this.aspectRatio,a=s+100/this.aspectRatio*this.aspectRatio,(u=this.getSide(l.a.instance.borrow(r,a),n.position,l.a.instance.borrow(t,e)))>0){h=Math.abs(n.position.x-t),c=h*this.aspectRatio,p=n.position.y+c,d=n.position.x-h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}else if(u<0){c=Math.abs(n.position.y-e),h=c/this.aspectRatio,p=n.position.y+c,d=n.position.x-h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}}else if(e<=n.position.y){if(r=o+100/this.aspectRatio,a=s-100/this.aspectRatio*this.aspectRatio,(u=this.getSide(l.a.instance.borrow(r,a),n.position,l.a.instance.borrow(t,e)))<0){c=Math.abs(n.position.y-e),h=c/this.aspectRatio,p=n.position.y-c,d=n.position.x+h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}else if(u>0){h=Math.abs(n.position.x-t),c=h*this.aspectRatio,p=n.position.y-c,d=n.position.x+h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}}else if(r=o+100/this.aspectRatio,a=s+100/this.aspectRatio*this.aspectRatio,(u=this.getSide(l.a.instance.borrow(r,a),n.position,l.a.instance.borrow(t,e)))<0){h=Math.abs(n.position.x-t),c=h*this.aspectRatio,p=n.position.y+c,d=n.position.x+h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}else if(u>0){c=Math.abs(n.position.y-e),h=c/this.aspectRatio,p=n.position.y+c,d=n.position.x+h;var g=this.enforceMinSize(d,p,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}}else{var g=this.enforceMinSize(t,e,i);i.move(g.x,g.y),l.a.instance.returnPoint(g)}this.center.recalculatePosition(this.getBounds())},e.prototype.getSide=function(t,i,n){var r=e.sign((i.x-t.x)*(n.y-t.y)-(i.y-t.y)*(n.x-t.x));return l.a.instance.returnPoint(t),l.a.instance.returnPoint(n),r},e.prototype.handleRelease=function(t){if(null!=t){for(var e=0,i=0;i<this.currentDragTouches.length;i++)t.id===this.currentDragTouches[i].id&&(this.currentDragTouches[i].dragHandle.setDrag(!1),e=i);this.currentDragTouches.splice(e,1),this.draw(this.ctx)}},e.prototype.handleMove=function(t){for(var e=!1,i=0;i<this.currentDragTouches.length;i++)if(t.id===this.currentDragTouches[i].id&&null!=this.currentDragTouches[i].dragHandle){var n=this.currentDragTouches[i],a=this.clampPosition(t.x-n.dragHandle.offset.x,t.y-n.dragHandle.offset.y);t.x=a.x,t.y=a.y,l.a.instance.returnPoint(a),n.dragHandle instanceof r.a?this.dragCorner(t.x,t.y,n.dragHandle):this.dragCenter(t.x,t.y,n.dragHandle),this.currentlyInteracting=!0,e=!0,c.a.setPressed(this.canvas);break}if(!e){for(var o=0;o<this.markers.length;o++){var s=this.markers[o];if(s.touchInBounds(t.x,t.y)){t.dragHandle=s,this.currentDragTouches.push(t),s.setDrag(!0),t.dragHandle.offset.x=t.x-t.dragHandle.position.x,t.dragHandle.offset.y=t.y-t.dragHandle.position.y,this.dragCorner(t.x-t.dragHandle.offset.x,t.y-t.dragHandle.offset.y,t.dragHandle);break}}null!==t.dragHandle&&void 0!==t.dragHandle||this.center.touchInBounds(t.x,t.y)&&(t.dragHandle=this.center,this.currentDragTouches.push(t),t.dragHandle.setDrag(!0),t.dragHandle.offset.x=t.x-t.dragHandle.position.x,t.dragHandle.offset.y=t.y-t.dragHandle.position.y,this.dragCenter(t.x-t.dragHandle.offset.x,t.y-t.dragHandle.offset.y,t.dragHandle))}},e.prototype.updateClampBounds=function(){var t=this.srcImage.height/this.srcImage.width,e=this.canvas.height/this.canvas.width,i=this.canvas.width,n=this.canvas.height;e>t?(i=this.canvas.width,n=this.canvas.width*t):(n=this.canvas.height,i=this.canvas.height/t),this.minXClamp=this.canvas.width/2-i/2,this.minYClamp=this.canvas.height/2-n/2,this.maxXClamp=this.canvas.width/2+i/2,this.maxYClamp=this.canvas.height/2+n/2},e.prototype.getCropBounds=function(){var t=this.getBounds();return t.top=Math.round((t.top-this.minYClamp)/this.ratioH),t.bottom=Math.round((t.bottom-this.minYClamp)/this.ratioH),t.left=Math.round((t.left-this.minXClamp)/this.ratioW),t.right=Math.round((t.right-this.minXClamp)/this.ratioW),t},e.prototype.clampPosition=function(t,e){return t<this.minXClamp&&(t=this.minXClamp),t>this.maxXClamp&&(t=this.maxXClamp),e<this.minYClamp&&(e=this.minYClamp),e>this.maxYClamp&&(e=this.maxYClamp),l.a.instance.borrow(t,e)},e.prototype.isImageSet=function(){return this.imageSet},e.prototype.setImage=function(t){if(this.srcImage=t,t){this.imageSet=!0,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);this.buffer.getContext("2d").clearRect(0,0,this.buffer.width,this.buffer.height),this.cropperSettings.fileType||(this.fileType=this.getDataUriMimeType(t.src)),this.cropperSettings.minWithRelativeToResolution&&(this.minWidth=this.canvas.width*this.cropperSettings.minWidth/this.srcImage.width,this.minHeight=this.canvas.height*this.cropperSettings.minHeight/this.srcImage.height),this.updateClampBounds(),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height;var e=this.getCropPositionFromMarkers();this.setCropPosition(e)}else this.imageSet=!1,this.draw(this.ctx)},e.prototype.updateCropPosition=function(t){var e=this.getCropPositionFromBounds(t);this.setCropPosition(e)},e.prototype.setCropPosition=function(t){this.tl.setPosition(t[0].x,t[0].y),this.tr.setPosition(t[1].x,t[1].y),this.bl.setPosition(t[2].x,t[2].y),this.br.setPosition(t[3].x,t[3].y),this.center.setPosition(t[4].x,t[4].y);for(var i=0,n=t;i<n.length;i++){var r=n[i];l.a.instance.returnPoint(r)}this.vertSquashRatio=e.detectVerticalSquash(this.srcImage),this.draw(this.ctx),this.croppedImage=this.getCroppedImageHelper(!1,this.cropWidth,this.cropHeight)},e.prototype.getCropPositionFromMarkers=function(){var t,e,i,n,r,a=this.canvas.width,o=this.canvas.height,s=this.srcImage.height/this.srcImage.width,c=this.getBounds(),h=c.height/c.width,p=this.canvas.width/2,d=this.canvas.height/2;if(h>s){var u=Math.min(a*s,o),g=u/h;t=l.a.instance.borrow(p-g/2,d+u/2),e=l.a.instance.borrow(p+g/2,d+u/2),i=l.a.instance.borrow(p-g/2,d-u/2),n=l.a.instance.borrow(p+g/2,d-u/2)}else{var f=Math.min(o/s,a),b=f*h;t=l.a.instance.borrow(p-f/2,d+b/2),e=l.a.instance.borrow(p+f/2,d+b/2),i=l.a.instance.borrow(p-f/2,d-b/2),n=l.a.instance.borrow(p+f/2,d-b/2)}return r=l.a.instance.borrow(p,d),[t,e,i,n,r]},e.prototype.getCropPositionFromBounds=function(t){var e=0,i=0,n=this.canvasHeight/this.canvasWidth,r=this.srcImage.height/this.srcImage.width;n>r?e=this.buffer.height/2-this.canvasWidth*r/2:i=this.buffer.width/2-this.canvasHeight/r/2;var a=(this.canvasWidth-2*i)/this.srcImage.width,o=(this.canvasHeight-2*e)/this.srcImage.height,s=t.height*o,c=t.width*a,h=t.left*a+i,p=t.top*o+e;if(this.keepAspect){var d=s/this.aspectRatio,u=c*this.aspectRatio;this.getCropBounds().height===t.height?s=u:this.getCropBounds().width===t.width?c=d:Math.abs(u-s)<Math.abs(d-c)?c=d:s=u}return[l.a.instance.borrow(h,p+s),l.a.instance.borrow(h+c,p+s),l.a.instance.borrow(h,p),l.a.instance.borrow(h+c,p),l.a.instance.borrow(h+c/2,p+s/2)]},e.prototype.getCroppedImageHelper=function(t,e,i){return this.cropperSettings.cropOnResize?this.getCroppedImage(t,e,i):this.croppedImage?this.croppedImage:document.createElement("img")},e.prototype.getCroppedImage=function(t,e,i){var n=this.getBounds();if(this.srcImage){var r=this.srcImage.height/this.srcImage.width,a=this.canvas.height/this.canvas.width,o=this.canvas.width,s=this.canvas.height;a>r?(o=this.canvas.width,s=this.canvas.width*r):a<r?(s=this.canvas.height,o=this.canvas.height/r):(s=this.canvas.height,o=this.canvas.width),this.ratioW=o/this.srcImage.width,this.ratioH=s/this.srcImage.height;var c=(this.buffer.height-s)/2/this.ratioH,l=(this.buffer.width-o)/2/this.ratioW,h=this.cropCanvas.getContext("2d");if(this.cropperSettings.preserveSize||t){var p=Math.round(n.right/this.ratioW-n.left/this.ratioW),d=Math.round(n.bottom/this.ratioH-n.top/this.ratioH);this.cropCanvas.width=p,this.cropCanvas.height=d,this.cropperSettings.croppedWidth=this.cropCanvas.width,this.cropperSettings.croppedHeight=this.cropCanvas.height}else this.cropCanvas.width=this.cropWidth,this.cropCanvas.height=this.cropHeight;return h.clearRect(0,0,this.cropCanvas.width,this.cropCanvas.height),this.drawImageIOSFix(h,this.srcImage,Math.max(Math.round(n.left/this.ratioW-l),0),Math.max(Math.round(n.top/this.ratioH-c),0),Math.max(Math.round(n.width/this.ratioW),1),Math.max(Math.round(n.height/this.ratioH),1),0,0,this.cropCanvas.width,this.cropCanvas.height),this.cropperSettings.resampleFn&&this.cropperSettings.resampleFn(this.cropCanvas),this.croppedImage.width=this.cropCanvas.width,this.croppedImage.height=this.cropCanvas.height,this.croppedImage.src=this.cropCanvas.toDataURL(this.fileType,this.cropperSettings.compressRatio),this.croppedImage}return document.createElement("img")},e.prototype.getBounds=function(){for(var t=Number.MAX_VALUE,e=Number.MAX_VALUE,i=-Number.MAX_VALUE,r=-Number.MAX_VALUE,a=0;a<this.markers.length;a++){var o=this.markers[a];o.position.x<t&&(t=o.position.x),o.position.x>i&&(i=o.position.x),o.position.y<e&&(e=o.position.y),o.position.y>r&&(r=o.position.y)}var s=new n.a;return s.left=t,s.right=i,s.top=e,s.bottom=r,s},e.prototype.setBounds=function(t){for(var e=this.getBounds(),i=0;i<this.markers.length;i++){var n=this.markers[i];n.position.x===e.left?n.position.y===e.top?n.setPosition(t.left,t.top):n.setPosition(t.left,t.bottom):n.position.y===e.top?n.setPosition(t.right,t.top):n.setPosition(t.right,t.bottom)}this.center.recalculatePosition(t),this.center.draw(this.ctx),this.draw(this.ctx)},e.prototype.onTouchMove=function(t){if(this.crop.isImageSet()){if(t.preventDefault(),1===t.touches.length)for(var i=0;i<t.touches.length;i++){var n=t.touches[i],r=e.getTouchPos(this.canvas,n),o=new a.a(r.x,r.y,n.identifier);l.a.instance.returnPoint(r),this.move(o)}else if(2===t.touches.length){var s=(t.touches[0].clientX-t.touches[1].clientX)*(t.touches[0].clientX-t.touches[1].clientX)+(t.touches[0].clientY-t.touches[1].clientY)*(t.touches[0].clientY-t.touches[1].clientY);if(this.previousDistance&&this.previousDistance!==s){var c=this.getBounds();s<this.previousDistance&&(c.top+=1,c.left+=1,c.right-=1,c.bottom-=1),s>this.previousDistance&&(c.top!==this.minYClamp&&c.bottom!==this.maxYClamp&&c.left!==this.minXClamp&&c.right!==this.maxXClamp?(c.top-=1,c.left-=1,c.right+=1,c.bottom+=1):c.top!==this.minYClamp&&c.bottom!==this.maxYClamp&&c.left===this.minXClamp&&c.right!==this.maxXClamp?(c.top-=1,c.right+=2,c.bottom+=1):c.top!==this.minYClamp&&c.bottom!==this.maxYClamp&&c.left!==this.minXClamp&&c.right===this.maxXClamp?(c.top-=1,c.left-=2,c.bottom+=1):c.top===this.minYClamp&&c.bottom!==this.maxYClamp&&c.left!==this.minXClamp&&c.right!==this.maxXClamp?(c.left-=1,c.right+=1,c.bottom+=2):c.top!==this.minYClamp&&c.bottom===this.maxYClamp&&c.left!==this.minXClamp&&c.right!==this.maxXClamp?(c.top-=2,c.left-=1,c.right+=1):c.top===this.minYClamp&&c.bottom!==this.maxYClamp&&c.left===this.minXClamp&&c.right!==this.maxXClamp?(c.right+=2,c.bottom+=2):c.top===this.minYClamp&&c.bottom!==this.maxYClamp&&c.left!==this.minXClamp&&c.right===this.maxXClamp?(c.left-=2,c.bottom+=2):c.top!==this.minYClamp&&c.bottom===this.maxYClamp&&c.left===this.minXClamp&&c.right!==this.maxXClamp?(c.top-=2,c.right+=2):c.top!==this.minYClamp&&c.bottom===this.maxYClamp&&c.left!==this.minXClamp&&c.right===this.maxXClamp&&(c.top-=2,c.left-=2)),c.top<this.minYClamp&&(c.top=this.minYClamp),c.bottom>this.maxYClamp&&(c.bottom=this.maxYClamp),c.left<this.minXClamp&&(c.left=this.minXClamp),c.right>this.maxXClamp&&(c.right=this.maxXClamp),this.setBounds(c)}this.previousDistance=s}this.draw(this.ctx)}},e.prototype.onMouseMove=function(t){if(this.crop.isImageSet()&&this.isMouseDown){var i=e.getMousePos(this.canvas,t);this.move(new a.a(i.x,i.y,0));var n=this.getDragTouchForID(0);n?(n.x=i.x,n.y=i.y):n=new a.a(i.x,i.y,0),l.a.instance.returnPoint(i),this.drawCursors(n),this.draw(this.ctx)}},e.prototype.move=function(t){this.isMouseDown&&this.handleMove(t)},e.prototype.getDragTouchForID=function(t){for(var e=0;e<this.currentDragTouches.length;e++)if(t===this.currentDragTouches[e].id)return this.currentDragTouches[e]},e.prototype.drawCursors=function(t){var e=!1;null!=t&&(t.dragHandle===this.center&&(c.a.setStyle(this.canvas,"move"),e=!0),null!==t.dragHandle&&t.dragHandle instanceof r.a&&(this.drawCornerCursor(t.dragHandle,t.dragHandle.position.x,t.dragHandle.position.y),e=!0));var i=!1;if(!e){for(var n=0;n<this.markers.length;n++)i=i||this.drawCornerCursor(this.markers[n],t.x,t.y);i||c.a.setStyle(this.canvas,"initial")}i||e||!this.center.touchInBounds(t.x,t.y)?this.center.setOver(!1):(this.center.setOver(!0),c.a.setOver(this.canvas),c.a.setStyle(this.canvas,"move"))},e.prototype.drawCornerCursor=function(t,e,i){return t.touchInBounds(e,i)?(t.setOver(!0),t.getHorizontalNeighbour().position.x>t.position.x?t.getVerticalNeighbour().position.y>t.position.y?(c.a.setOver(this.canvas),c.a.setStyle(this.canvas,"nwse-resize")):(c.a.setOver(this.canvas),c.a.setStyle(this.canvas,"nesw-resize")):t.getVerticalNeighbour().position.y>t.position.y?(c.a.setOver(this.canvas),c.a.setStyle(this.canvas,"nesw-resize")):(c.a.setOver(this.canvas),c.a.setStyle(this.canvas,"nwse-resize")),!0):(t.setOver(!1),!1)},e.prototype.onTouchStart=function(t){this.crop.isImageSet()&&(this.isMouseDown=!0)},e.prototype.onTouchEnd=function(t){if(this.crop.isImageSet()){for(var e=0;e<t.changedTouches.length;e++){var i=t.changedTouches[e],n=this.getDragTouchForID(i.identifier);n&&void 0!==n&&((n.dragHandle instanceof r.a||n.dragHandle instanceof o.a)&&n.dragHandle.setOver(!1),this.handleRelease(n))}0===this.currentDragTouches.length&&(this.isMouseDown=!1,this.currentlyInteracting=!1)}},e.prototype.drawImageIOSFix=function(t,e,i,n,r,a,o,s,c,l){t.drawImage(e,i,n,r,a,o,s,c,l)},e.prototype.onMouseDown=function(t){this.crop.isImageSet()&&(this.isMouseDown=!0)},e.prototype.onMouseUp=function(t){this.crop.isImageSet()&&(c.a.setReleased(this.canvas),this.isMouseDown=!1,this.handleRelease(new a.a(0,0,0)))},e}(s.a)},HS8E:function(t,e,i){"use strict";i("4y6z"),i("6gVj")},"I+zP":function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("iD8S");i.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},s=function(){function t(){}return t}();s=o([i.i(n.NgModule)({imports:[r.CommonModule],declarations:[a.a],exports:[a.a]})],s)},IoIA:function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("1lVi"),o=i("kCVe");i.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},c=function(){function t(){}return t}();c=s([i.i(n.NgModule)({imports:[r.CommonModule,o.a],declarations:[a.a],exports:[a.a]})],c)},"JOm+":function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("lB+u"),o=i("Vpmx"),s=i("zeio"),c=i("6TGv");i.d(e,"a",function(){return h});var l=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},h=function(){function t(){}return t}();h=l([i.i(n.NgModule)({imports:[r.CommonModule],declarations:[a.a,o.a,s.a,c.a],exports:[a.a,o.a,s.a,c.a]})],h)},KTZk:function(t,e){t.exports='<div id="content">\r\n \x3c!-- <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'仓库管理\', \'商品档案\']" icon="pencil-square-o" ></sa-big-breadcrumbs>\r\n  </div>--\x3e\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12 ">\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" [colorbutton]="false">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-table"></i> </span>\r\n            <h2>商品档案</h2>\r\n          </header>\r\n\r\n          <div>\r\n            <div class="widget-body no-padding" >\r\n              <div  class="row">\r\n                <article  class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <form  class="navbar-form navbar-left ng-pristine ng-valid ng-touched" novalidate="" role="search" >\r\n                      <div class="form-group pdlr-4">\r\n                        <a class="btn btn-success btn-sm" (click)="getAddProductDefault(0);">\r\n                          <span class="glyphicon glyphicon-plus mr-5"></span>添加</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4">\r\n                        <a [ngClass]="{\'btn default-btn btn-sm\':true,\'not-click\':isStatus == 0}" (click)="detailProduct(\'edit\')">\r\n                          <span class="glyphicon glyphicon-pencil mr-5 color-yellow"></span>修改</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4">\r\n                        <a [ngClass]="{\'btn default-btn btn-sm\':true,\'not-click\':isStatus == 0}"  (click)="deleteProduct(\'id\')">\r\n                          <span class="fa-fw fa  fa-trash-o mr-5 color-red"></span>删除</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4">\r\n                        <a [ngClass]="{\'btn default-btn btn-sm\':true,\'not-click\':isStatus == 0}" (click)="detailProduct(\'detail\')">\r\n                          <span class="glyphicon glyphicon-zoom-in mr-5 color-green"></span>详情</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isStatus == 2">\r\n                        <a class="btn default-btn btn-sm" (click)="editStatus(1,\'id\')">\r\n                          <span class="fa-fw fa fa-play mr-5 color-green"></span>启用</a>\r\n                      </div>\r\n                      <div class="form-group pdlr-4" *ngIf="isStatus == 1">\r\n                        <a class="btn default-btn btn-sm" (click)="editStatus(2,\'id\')" >\r\n                          <span class="fa-fw fa fa-stop mr-5 txt-color-blueDark"></span>无效</a>\r\n                      </div>\r\n                      <div class="form-group btn-group pdlr-4">\r\n                        <a class="btn default-btn btn-sm dropdown-toggle" (click)="showAllCheck()" data-toggle="dropdown">\r\n                          <span class="fa-fw fa fa-th-large mr-5 color-red"></span>批处理<i class="fa fa-fw fa-chevron-down"></i></a>\r\n                        <ul class="dropdown-menu" role="menu">\r\n                          <li><a  (click)="editStatus(1,\'all\')"><span class="fa-fw fa fa-play mr-5 color-green"></span>批量设为启动</a></li>\r\n                          <li><a  (click)="editStatus(2,\'all\')"><span class="fa-fw fa fa-stop mr-5 txt-color-blueDark"></span>批量设为无效</a></li>\r\n                          <li class="divider"></li>\r\n                          <li><a (click)="deleteProduct(\'all\')"><span class="fa-fw fa  fa-trash-o color-red mr-5"></span>批量删除</a></li>\r\n                        </ul>\r\n                      </div>\r\n                    </form>\r\n                    <form  class="navbar-form navbar-left ng-pristine ng-valid ng-touched" novalidate="" role="search" >\r\n                      <div class="form-group pdlr-4">\r\n                        <input  class="form-control ng-pristine ng-valid ng-touched" maxlength="15" [(ngModel)]="keyword"  name="keyword" placeholder="请输入搜索内容" type="text">\r\n                      </div>\r\n                      <div class="form-group pdlr-4">\r\n                        <button class="btn btn-default" type="button" (click)="getProductList(1,0)">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n              <div class="pt">\r\n                <article class="form-group col col-xs-4">\r\n                  <sa-widget class="jarviswidget well" [colorbutton]="false" [editbutton]="false" [togglebutton]="false"\r\n                             [deletebutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">\r\n                    <div>\r\n                      <div class="widget-body no-padding">\r\n                        <alert type="info" class="no-margin">\r\n                          <i class="fa-fw fa fa-sitemap"></i>\r\n                          商品分类\r\n                        </alert>\r\n                        <div class="pd-10">\r\n                          <div class="widget-body">\r\n                            <div class="tree smart-form">\r\n                              <ul class="">\r\n                                <li class=" parent_li">\r\n                                  <span><label class="checkbox inline-block tree-label pt-12 ">\r\n                                          <input type="checkbox" name="checkbox-inline" [checked]="select_category_ids[0]" (click)="selectCategoryAll()"><i></i>\r\n                                        </label>\r\n                                    <i class="fa fa-lg fa-folder-open"></i>全部\r\n                                    <i class="sa-icon fa fa-lg fa-plus-circle" *ngIf="showUl == 0" (click)="showLeftUl(1)"></i>\r\n                                    <i class="sa-icon fa fa-lg fa-minus-circle" *ngIf="showUl == 1" (click)="showLeftUl(0)"></i>\r\n                                  </span>\r\n                                  <ul class="" *ngIf="showUl == 1">\r\n                                    <li class=" parent_li" *ngFor="let c of productDefault?.result?.categoryList;let ind = index;">\r\n                                    <span>\r\n                                      <label class="checkbox inline-block tree-label ">\r\n                                        <input type="checkbox" name="checkbox-inline" [checked]="select_category_ids[c.category_id]" (click)="selectDepartment(c.category_id,ind,0,1)">\r\n                                        <i></i>{{c.category_desc}}\r\n                                        <em class="txt-color-blue">({{c.child_count}})</em>\r\n                                      </label>\r\n                                      <i class="sa-icon fa fa-lg fa-minus-circle" *ngIf="showUlChild == c.category_id && c.has_child != 0" (click)="showLeftUlChild(0)"></i>\r\n                                      <i class="sa-icon fa fa-lg fa-plus-circle" *ngIf="showUlChild != c.category_id && c.has_child != 0" (click)="showLeftUlChild(c.category_id)"></i>\r\n                                    </span>\r\n                                      <ul class="" *ngIf="showUlChild == c.category_id">\r\n                                        <li *ngFor="let dc of c.child;let indChild = index;">\r\n                                        <span>\r\n                                          <label class="checkbox inline-block tree-label">\r\n                                            <input type="checkbox" name="checkbox-inline" [checked]="select_category_ids[c.category_id] || select_category_ids[dc.category_id]" (click)="selectDepartment(dc.category_id,ind,indChild,c.category_id)">\r\n                                            <i></i>{{dc.category_desc}}\r\n                                            <em class="txt-color-blue">({{c.child_count}})</em>\r\n                                          </label>\r\n                                        </span>\r\n                                        </li>\r\n                                      </ul>\r\n                                    </li>\r\n                                  </ul>\r\n                                </li>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </sa-widget>\r\n                </article>\r\n                <article class="form-group col col-xs-8">\r\n                  <sa-widget class="jarviswidget well" [colorbutton]="false" [editbutton]="false" [togglebutton]="false"\r\n                             [deletebutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">\r\n                    <div>\r\n                      <div class="widget-body no-padding">\r\n                        <alert type="info" class="no-margin" >\r\n                          <i class="fa-fw fa fa-table"></i>\r\n                          商品列表\r\n                        </alert>\r\n                        <div class="mt-10"  style="padding:0;">\r\n                          <div *ngIf="isAll != 0" [ngStyle]="{\'padding\': \'0\',\'z-index\': \'2\',\'width\':width,\'float\':\'left\'}" class="table-scrolling">\r\n                            <table class="table table-striped   smart-form table-height-32">\r\n                              <thead>\r\n                              <tr style="height: 37px;" >\r\n                                <td><label class="checkbox " >\r\n                                  <input type="checkbox" name="checkbox-inline" [checked]="check" (change)="changeCheckAll($event)" >\r\n                                  <i></i>\r\n                                </label>\r\n                                </td>\r\n                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                              <tr  style="height: 34.5px;" *ngFor="let p of productList.result?.productList?.data">\r\n                                <td >\r\n                                  <div class="">\r\n                                    <label class="checkbox padding-top-10" *ngIf="cid != super_admin_id && cid != p.c_id" >\r\n                                      <input type="checkbox" name="checkbox-inline" disabled="disabled">\r\n                                      <i></i>\r\n                                    </label>\r\n                                    <label class="checkbox padding-top-10" *ngIf="cid == super_admin_id || cid == p.c_id" >\r\n                                      <input type="checkbox" name="checkbox-inline" value="{{ p.p_id }}" [checked]="selects[p.p_id]" (change)="handle($event)">\r\n                                      <i></i>\r\n                                    </label>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                          <div style="padding: 0;z-index: 2;width:20%;float:left;" class="table-scrolling">\r\n                            <table class="table table-striped   smart-form table-height-32">\r\n                              <thead>\r\n                              <tr >\r\n                                <th><span class="">商品编号</span></th>\r\n                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                              <tr *ngFor="let p of productList.result?.productList?.data" (click)="isStatusShow(p.p_id,p.p_status)" [ngClass]="{\'table-color\':editStatusProductId == p.p_id}">\x3c!--class="table-color"--\x3e\r\n                                <td><span class="">{{p.p_product_id}}</span></td>\r\n                              </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                          <div [ngStyle]="{\'padding\': \'0\',\'z-index\': \'1\',\'width\':width_1,\'float\':\'left\'}" class="table-responsive">\r\n                            <table class="table table-striped  smart-form table-height-32">\r\n                              <thead>\r\n                              <tr>\r\n                                <th ><span class="">商品属性</span></th>\r\n                                <th><span class="">商品名称</span></th>\r\n                                <th><span class="">商品分类</span></th>\r\n                                <th><span class="">生产厂家</span></th>\r\n                                <th><span class="">参考售价</span></th>\r\n                                <th><span class="">图片</span></th>\r\n                                <th><span class="">状态</span></th>\r\n                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                              <tr *ngFor="let p1 of productList.result?.productList?.data" (click)="isStatusShow(p1.p_id,p1.p_status)" [ngClass]="{\'table-color\':editStatusProductId == p1.p_id}">\x3c!-- class="table-color"--\x3e\r\n                                <td><span class="">{{(p1.p_property == 1) ? \'销售\':\'外购\'}}</span></td>\r\n                                <td><span class="">{{p1.p_name}}</span></td>\r\n                                <td><span class="">{{p1.category}}</span></td>\r\n                                <td><span class="">{{p1.c_name}}</span></td>\r\n                                <td><span class="">{{p1.p_purchase_price}}</span></td>\r\n                                <td>\r\n                                  <div class="" style="height:auto;" *ngIf="p1.imgs">\r\n                                    <img *ngFor="let i of p1.imgs" alt=""  height="22" width="22" class="img-picture"  src="{{url}}{{i}}">\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                   <span [ngSwitch]="p1.p_status">\r\n                                      <span class="label-normal" *ngSwitchCase="1">正常</span>\r\n                                      <span class="label-invalid" *ngSwitchCase="2">无效</span>\r\n                                   </span>\r\n                                </td>\r\n                              </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                        \x3c!-- 底部-（分页部分）--\x3e\r\n                        <div class="dt-toolbar">\r\n                          <div class="col-xs-12 col-sm-6">\r\n                            <span>共{{productList.result?.productList?.total}}条</span>\r\n                          </div>\r\n                          <div class="hidden-xs right">\r\n                            <ul class="pagination pagination-sm">\r\n                              <li *ngFor="let p of productList?.result?.page" class="{{p.class}}">\r\n                                <a (click)="pagination(p.value)" *ngIf="p.method==\'method\'">{{p.text}}</a>\r\n                                <a *ngIf="p.method==\'\'">{{p.text}}</a>\r\n                              </li>\r\n                            </ul>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </sa-widget>\r\n                  \x3c!-- end widget --\x3e\r\n                </article>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n\r\n  <div class="modal fade" bsModal #lgModal="bs-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          \x3c!-- 关闭按钮 --\x3e\r\n          <button type="button" class="close"  (click)="clear_();lgModal.hide()">\r\n            ×\r\n          </button>\r\n          \x3c!-- 标题 --\x3e\r\n          <h3 *ngIf="editStatusProductId == 0" class="modal-title txt-color-blue" data-ng-bind=\'results.title\'><i class="fa-fw fa fa-plus"></i>添加商品档案</h3>\r\n          <h3 *ngIf="editStatusProductId != 0" class="modal-title  color-yellow" data-ng-bind=\'results.title\'><i class="glyphicon glyphicon-pencil"></i>修改商品档案</h3>\r\n        </div>\r\n        <div class="modal-body">\r\n          <sa-widget [editbutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">\r\n            <header>\r\n              <ul class="nav nav-tabs pull-left in">\r\n                <li [class.active]="state.tabs.demo3==\'hr1\'" class="active">\r\n                  <a (click)="state.tabs.demo3 = \'hr1\'">基本信息</a>\r\n                </li>\r\n                <li [class.active]="state.tabs.demo3==\'hr2\'" class="active">\r\n                  <a (click)="state.tabs.demo3 = \'hr2\'">其他信息</a>\r\n                </li>\r\n                <li [class.active]="state.tabs.demo3==\'hr3\'" class="active">\r\n                  <a (click)="state.tabs.demo3 = \'hr3\'">多单位</a>\r\n                </li>\r\n                \x3c!--<li [class.active]="state.tabs.demo3==\'hr4\'" class="active">--\x3e\r\n                  \x3c!--<a (click)="state.tabs.demo3 = \'hr4\'">多级价格</a>--\x3e\r\n                \x3c!--</li>--\x3e\r\n                <li [class.active]="state.tabs.demo3==\'hr5\'" class="active">\r\n                  <a (click)="state.tabs.demo3 = \'hr5\'">图片信息</a>\r\n                </li>\r\n              </ul>\r\n            </header>\r\n            <div class="height-overflow-380">\r\n              <div class="widget-body">\r\n                <tabset>\r\n                  <tab [active]="state.tabs.demo3 == \'hr1\'">\r\n                    <tabset >\r\n                      <tab [active]="state.tabs.demo3 == \'hr1\'">\r\n                        <div class="row">\r\n                          <form   class="smart-form ">\r\n                            <fieldset>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label txt-color-blue">商品编号<span class="asterisk-color">*</span></label>\r\n                                  <label class="input">\r\n                                    <input type="text" name="p_product_id" [(ngModel)]="p_product_id" placeholder="商品编号" [disabled]="isDetail==\'detail\'" >\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label txt-color-blue">商品名称<span class="asterisk-color">*</span></label>\r\n                                  <label class="input">\r\n                                    <input type="text" placeholder="商品名称"  name="p_name" [(ngModel)]="p_name" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label">规格型号</label>\r\n                                  <label class="input">\r\n                                    <input type="text" placeholder=""  name="p_specification" [(ngModel)]="p_specification" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <label class="label txt-color-blue">商品分类<span class="asterisk-color">*</span></label>\r\n                                <section>\r\n                                  <div class="input-group">\r\n                                    <label   class="select form-control border-0">\r\n                                      <select class="input-sm" name="p_category_id" [(ngModel)]="p_category_id" [disabled]="isDetail==\'detail\'">\r\n                                        <option [selected]="p_id == 0" value="0">--请选择--</option>\r\n                                        <option *ngFor="let c of addProductDefault?.result?.categoryListForAdd" [selected]="productInfo?.result?.p_category_id == c.category_id" value="{{ c.category_id }}" [disabled]="(c.category_depth == 0 && c.child_count > 0) ? \'disabled\' : false" [ngStyle]="{\'font-weight\':((c.category_depth == 0) ? \'bold\' : \'normal\'),\'color\':((c.category_depth == 0 && c.child_count > 0) ? \'black\' : \'#404040\')}">\r\n                                          <strong *ngIf="c.category_depth == 0">{{c.category_desc}}</strong>\r\n                                          <span *ngIf="c.category_depth != 0">--{{c.category_desc}}</span>\r\n                                        </option>\r\n                                      </select><i></i>\r\n                                    </label>\r\n                                    <div class="input-group-btn">\r\n                                      <a  href="http://cn.i3ot.com/#/inventory-management/inventory-classification" target="_blank" (click)="smartModEg1()" class="btn btn-default btn-sm pb-6" type="button">\r\n                                        \x3c!-- <i class="fa fa-plus "></i>--\x3e 添加\r\n                                      </a>\r\n                                      <a class="btn btn-default btn-sm pb-6" type="button" (click)="getAddProductDefault()"><i class="fa fa-link"></i>\r\n                                        刷新\r\n                                      </a>\r\n\r\n                                    </div>\r\n                                  </div>\r\n\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label">助记码</label>\r\n                                  <label class="input">\r\n                                    <input type="text" placeholder="助记码" name="p_shortcode" [(ngModel)]="p_shortcode" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label">商品属性</label>\r\n                                  <label class="select">\r\n                                    <select class="input-sm" name="p_property" [(ngModel)]="p_property" (change)="changePoperty($event)" [disabled]="isDetail==\'detail\'">\r\n                                      <option value="0">--请选择--</option>\r\n                                      <option value="1">销售</option>\r\n                                      <option value="2">外购</option>\r\n                                    </select> <i></i>\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label">计量单位</label>\r\n                                  <label class="select">\r\n                                    <select class="input-sm" name="p_unit" [(ngModel)]="p_unit" [disabled]="isDetail==\'detail\'">\r\n                                      <option value="0" disabled="disabled" >选择计量单位</option>\r\n                                      <option value="件" >件</option>\r\n                                      <option value="颗" >颗</option>\r\n                                      <option value="kg" >kg</option>\r\n                                      <option value="吨" >吨</option>\r\n                                    </select> <i></i> </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12" *ngIf="p_property_id == 2">\r\n                                <section>\r\n                                  <label class="label ">参考进价</label>\r\n                                  <label class="input">\r\n                                    <input type="number" placeholder="参考进价"  name="p_purchase_price" [(ngModel)]="p_purchase_price" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12" *ngIf="p_property_id == 1">\r\n                                <section>\r\n                                  <label class="label ">参考售价</label>\r\n                                  <label class="input">\r\n                                    <input type="number" placeholder="参考售价"  name="p_purchase_price" [(ngModel)]="p_purchase_price" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n\r\n                              <div class="form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12">\r\n                                <section>\r\n                                  <label class="label">备注</label>\r\n                                  <label class="textarea textarea-resizable">\r\n                                    <textarea class="custom-scroll" rows="2" name="p_notes" [(ngModel)]="p_notes" [disabled]="isDetail==\'detail\'"></textarea>\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-12 col-md-12 col-sm-12 col-xs-12">\r\n                                <section>\r\n                                  <label class="label ">条码</label>\r\n                                  <label class="input">\r\n                                    <input type="text" placeholder="" name="p_qrcode" [(ngModel)]="p_qrcode" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                            </fieldset>\r\n                          </form>\r\n                        </div>\r\n                      </tab>\r\n                    </tabset>\r\n                  </tab>\r\n                  <tab [active]="state.tabs.demo3 == \'hr2\'">\r\n                    <tabset >\r\n                      <tab [active]="state.tabs.demo3 == \'hr2\'">\r\n                        <div class="row">\r\n                          <form   class="smart-form ">\r\n                            <fieldset>\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">厂家</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input name="c_id" [(ngModel)]="c_id" type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section >\r\n                                  <label class="label ">最高库存</label>\r\n                                  <label class="input">\r\n                                    <input name="p_max_stock" [(ngModel)]="p_max_stock" type="text" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section >\r\n                                  <label class="label ">最低库存</label>\r\n                                  <label class="input">\r\n                                    <input name="p_min_stock" [(ngModel)]="p_min_stock" type="text" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section >\r\n                                  <label class="label ">参考成本</label>\r\n                                  <label class="input">\r\n                                    <input name="p_cost" [(ngModel)]="p_cost" type="text" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section>\r\n                                  <label class="label">销售提成方式</label>\r\n                                  <label class="select">\r\n                                    <select class="input-sm" name="p_retail_method" [(ngModel)]="p_retail_method" [disabled]="isDetail==\'detail\'">\r\n                                      <option value="1" >不设置</option>\r\n                                      <option value="2" >按金额</option>\r\n                                      <option value="3" >按比例</option>\r\n                                    </select> <i></i> </label>\r\n                                </section>\r\n                              </div>\r\n                              <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">\r\n                                <section >\r\n                                  <label class="label ">销售提成设置</label>\r\n                                  <label class="input">\r\n                                    <input name="p_retail_amout" [(ngModel)]="p_retail_amout" type="text" [disabled]="isDetail==\'detail\'">\r\n                                  </label>\r\n                                </section>\r\n                              </div>\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">停用时间</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input name="p_stop_time" [(ngModel)]="p_stop_time" disabled="disabled" type="text" [disabled]="isDetail==\'detail\'">--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">停用人</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input name="p_stop_use" [(ngModel)]="p_stop_use" disabled="disabled" type="text" [disabled]="isDetail==\'detail\'">--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                            </fieldset>\r\n                          </form>\r\n                        </div>\r\n                      </tab>\r\n                    </tabset>\r\n                  </tab>\r\n                  <tab [active]="state.tabs.demo3 == \'hr3\'">\r\n                    <tabset >\r\n                      <tab [active]="state.tabs.demo3 == \'hr3\'">\r\n                        <div class="row">\r\n                          <div class="well padding">\r\n                            只能设置一个库存单位,当库存单位设置为浮动换算时,只能设置一个辅单位。\r\n                            主计量单位数量=辅计量单位数量*换算率。<br/>\r\n                            例如：一箱有100包，主单位为"包"，辅单位为"箱"，换算率为100（包装数）, 或者 主单位为"箱"，辅单位为"包"，换算率为0.01（1/100）\r\n                          </div>\r\n                          <div class="table-responsive padding0 table-minheight">\r\n                            <table class="table table-striped  table-hover smart-form">\r\n                              <thead>\r\n                              <tr>\r\n                                <th>操作</th>\r\n                                <th>辅单位 </th>\r\n                                <th>库存单位 </th>\r\n                                <th>浮动换算</th>\r\n                                <th>换算率  </th>\r\n                                <th>条码 </th>\r\n                              </tr>\r\n                              </thead>\r\n                              <tbody>\r\n                              <tr>\r\n                                <td><a class="btn btn-warning btn-xs"  ><span class="glyphicon glyphicon-plus"></span></a>\r\n                                  <a class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-remove"></span></a>\r\n                                </td>\r\n                                <td>\r\n                                  <div style="text-align: center; width: 100px;" >\r\n                                    <table border="0" cellspacing="0" cellpadding="1">\r\n                                      <tbody>\r\n                                      <tr>\r\n                                        <td>\r\n                                          <form class="smart-form">\r\n                                            <section>\r\n                                              <label class="input">\r\n                                                <select class="form-control">\r\n                                                  <option value="">选择辅助单位</option>\r\n                                                  <option value="">包</option>\r\n                                                  <option value="">箱</option>\r\n                                                  <option value="">条</option>\r\n                                                </select>\r\n                                              </label>\r\n                                            </section>\r\n                                          </form>\r\n                                        </td>\r\n                                        <td>\r\n                                        </td>\r\n                                      </tr>\r\n                                      </tbody>\r\n                                    </table>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div style="text-align: center; width: 100px;" >\r\n                                    否\r\n                                    <span class="txt-color-red">请先设置辅单位</span>\r\n                                    <table border="0" cellspacing="0" cellpadding="1">\r\n                                      <tbody>\r\n                                      <tr>\r\n                                        <td>\r\n                                          <form class="smart-form">\r\n                                            <section>\r\n                                              <div class="inline-group">\r\n                                                <label class="radio">\r\n                                                  <input  name="radio-inline" type="radio">\r\n                                                  <i></i>是</label>\r\n                                                <label class="radio">\r\n                                                  <input name="radio-inline" checked="" type="radio">\r\n                                                  <i></i>否</label>\r\n                                              </div>\r\n                                            </section>\r\n                                          </form>\r\n                                        </td>\r\n                                      </tr>\r\n                                      </tbody>\r\n                                    </table>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div style="text-align: center; width: 100px;" >\r\n                                    否\r\n                                    <span class="txt-color-red">请先设置辅单位</span>\r\n                                    <table border="0" cellspacing="0" cellpadding="1">\r\n                                      <tbody>\r\n                                      <tr>\r\n                                        <td>\r\n                                          <form class="smart-form">\r\n                                            <section>\r\n                                              <div class="inline-group">\r\n                                                <label class="radio">\r\n                                                  <input  name="radio-inline" type="radio">\r\n                                                  <i></i>是</label>\r\n                                                <label class="radio">\r\n                                                  <input name="radio-inline" checked="" type="radio">\r\n                                                  <i></i>否</label>\r\n                                              </div>\r\n                                            </section>\r\n                                          </form>\r\n                                        </td>\r\n                                      </tr>\r\n                                      </tbody>\r\n                                    </table>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div style="text-align: center; width: 100px;" >\r\n                                    <span class="txt-color-red">请先设置辅单位</span>\r\n                                    <table border="0" cellspacing="0" cellpadding="1">\r\n                                      <tbody>\r\n                                      <tr>\r\n                                        <td>\r\n                                          <form class="smart-form">\r\n                                            <section>\r\n                                              <label class="input">\r\n                                                <input  name="" type="text">\r\n                                              </label>\r\n                                            </section>\r\n                                          </form>\r\n                                        </td>\r\n                                      </tr>\r\n                                      </tbody>\r\n                                    </table>\r\n                                  </div>\r\n                                </td>\r\n                                <td>\r\n                                  <div style="text-align: center; width: 100px;" >\r\n                                    <span class="txt-color-red">请先设置辅单位</span>\r\n                                    <table border="0" cellspacing="0" cellpadding="1">\r\n                                      <tbody>\r\n                                      <tr>\r\n                                        <td>\r\n                                          <form class="smart-form">\r\n                                            <section>\r\n                                              <label class="input">\r\n                                                <input  name="" type="text">\r\n                                              </label>\r\n                                            </section>\r\n                                          </form>\r\n                                        </td>\r\n                                      </tr>\r\n                                      </tbody>\r\n                                    </table>\r\n                                  </div>\r\n                                </td>\r\n                              </tr>\r\n                              </tbody>\r\n                            </table>\r\n                          </div>\r\n                        </div>\r\n                      </tab>\r\n                    </tabset>\r\n                  </tab>\r\n                  \x3c!--<tab [active]="state.tabs.demo3 == \'hr4\'">--\x3e\r\n                    \x3c!--<tabset >--\x3e\r\n                      \x3c!--<tab [active]="state.tabs.demo3 == \'hr4\'">--\x3e\r\n                        \x3c!--<div class="row">--\x3e\r\n                          \x3c!--<form   class="smart-form ">--\x3e\r\n                            \x3c!--<fieldset>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">一级价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">二级价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">三级价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">市场价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">厉害价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">最高级</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">参考价格</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">跳楼价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">蹦极价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                              \x3c!--<div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12">--\x3e\r\n                                \x3c!--<section >--\x3e\r\n                                  \x3c!--<label class="label ">十级价</label>--\x3e\r\n                                  \x3c!--<label class="input">--\x3e\r\n                                    \x3c!--<input  name=""    type="text" >--\x3e\r\n                                  \x3c!--</label>--\x3e\r\n                                \x3c!--</section>--\x3e\r\n                              \x3c!--</div>--\x3e\r\n                            \x3c!--</fieldset>--\x3e\r\n                          \x3c!--</form>--\x3e\r\n                        \x3c!--</div>--\x3e\r\n                      \x3c!--</tab>--\x3e\r\n                    \x3c!--</tabset>--\x3e\r\n                  \x3c!--</tab>--\x3e\r\n                  <tab [active]="state.tabs.demo3 == \'hr5\'">\r\n                    <tabset >\r\n                      <tab [active]="state.tabs.demo3 == \'hr5\'">\r\n                        <div class="row">\r\n                          <div class="col-xs-12">\r\n                            <div>\r\n                              <ul class="ace-thumbnails clearfix">\r\n                                <li class="canDel" *ngFor="let img of imgList;let ind = index;">\r\n                                  <a class="cboxElement" href="{{url}}{{img}}" >\r\n                                    <img width="150" height="150" alt="150x150" src="{{url}}{{img}}">\r\n                                  </a>\r\n                                  <div class="tools tools-top" *ngIf="isDetail!=\'detail\'">\r\n                                    <a class="pull-right" (click)="removeImg(ind)">\r\n                                      <i class="ace-icon fa fa-times txt-color-red">\r\n                                      </i>\r\n                                    </a>\r\n                                  </div>\r\n                                  \x3c!--<div class="c-content-inner">--\x3e\r\n                                    \x3c!--<div  class="c-file-upload">--\x3e\r\n                                      \x3c!--<button class="btn btn-primary ">浏览图片</button>--\x3e\r\n                                      \x3c!--&lt;!&ndash;<input id="image-input" class="btn btn-primary " type="file" c-img-cropper-select [cropper]="cropper">&ndash;&gt;--\x3e\r\n                                    \x3c!--</div>--\x3e\r\n                                  \x3c!--</div>--\x3e\r\n                                </li>\r\n                                <li *ngIf="isDetail!=\'detail\'">\r\n                                  <img-cropper #cropper [image]="data1" [settings]="cropperSettings1" (onCrop)="cropped($event)"></img-cropper>\r\n                                </li>\r\n                                <li *ngIf="isDetail!=\'detail\'">\r\n                                  <div  class="c-file-upload">\r\n                                    \x3c!--<button class="btn btn-primary ">浏览图片</button>--\x3e\r\n                                    <a class="btn btn-primary " style="width: 150px; height: 150px;" >\r\n                                      <i class="fa fa-plus fa-2x" style="color: #ccc; padding-top: 7px; padding-left: 16px; font-size: 152px;"></i>\r\n                                    </a>\r\n                                    <input id="image-input" class="btn btn-primary " type="file" c-img-cropper-select [cropper]="cropper">\r\n                                  </div>\r\n                                </li>\r\n                                <li *ngIf="isDetail!=\'detail\'"><button type="button" class="btn btn-primary" (click)="postFile()">确认上传</button></li>\r\n                              </ul>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </tab>\r\n                    </tabset>\r\n                  </tab>\r\n                </tabset>\r\n              </div>\r\n            </div>\r\n          </sa-widget>\r\n        </div>\r\n        <div class="modal-footer">\r\n          \x3c!--<button type="button" class="btn btn-success btn-sm" ><span class="glyphicon glyphicon-plus"></span>保存并新增</button>--\x3e\r\n          <button [disabled]="isDetail==\'detail\'" type="button" class="btn btn-primary"  (click)="onSubmit();">保存</button>\r\n          <button type="button" class="btn btn-default"  (click)="clear_();lgModal.hide()">返回</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n'},KquD:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t}()},N56p:function(t,e,i){"use strict";i("apuz")},NLnk:function(t,e){t.exports='<div class="onoffswitch-container">\r\n  <span class="onoffswitch-title">{{title}}<ng-content></ng-content></span>\r\n  <span class="onoffswitch">\r\n    <input type="checkbox" class="onoffswitch-checkbox" [(ngModel)]="value" [checked]="value"\r\n           (ngModelChange)="onChange()"\r\n           id="{{widgetId}}"/>\r\n    <label class="onoffswitch-label" htmlFor="{{widgetId}}">\r\n      <span class="onoffswitch-inner"  data-swchon-text="ON"\r\n            data-swchoff-text="OFF"></span>\r\n        <span class="onoffswitch-switch"></span>\r\n    </label>\r\n  </span>\r\n</div>\r\n'},NuOl:function(t,e,i){"use strict";var n=i("2Je8"),r=i("3j3K"),a=i("orhe");i.d(e,"a",function(){return o});var o=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[n.CommonModule],declarations:[a.a],exports:[a.a]}]}],t.ctorParameters=function(){return[]},t}()},OMJi:function(t,e,i){(function(t,n){function r(t,i){var n={seen:[],stylize:o};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),f(i)?n.showHidden=i:i&&e._extend(n,i),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),c(n,t,n.depth)}function a(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function o(t,e){return t}function s(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function c(t,i,n){if(t.customInspect&&i&&R(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,t);return y(r)||(r=c(t,r,n)),r}var a=l(t,i);if(a)return a;var o=Object.keys(i),f=s(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(i)),S(i)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return h(i);if(0===o.length){if(R(i)){var b=i.name?": "+i.name:"";return t.stylize("[Function"+b+"]","special")}if(_(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(k(i))return t.stylize(Date.prototype.toString.call(i),"date");if(S(i))return h(i)}var m="",v=!1,x=["{","}"];if(g(i)&&(v=!0,x=["[","]"]),R(i)){m=" [Function"+(i.name?": "+i.name:"")+"]"}if(_(i)&&(m=" "+RegExp.prototype.toString.call(i)),k(i)&&(m=" "+Date.prototype.toUTCString.call(i)),S(i)&&(m=" "+h(i)),0===o.length&&(!v||0==i.length))return x[0]+m+x[1];if(n<0)return _(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var w;return w=v?p(t,i,n,f,o):o.map(function(e){return d(t,i,n,f,e,v)}),t.seen.pop(),u(w,m,x)}function l(t,e){if(w(e))return t.stylize("undefined","undefined");if(y(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return v(e)?t.stylize(""+e,"number"):f(e)?t.stylize(""+e,"boolean"):b(e)?t.stylize("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function p(t,e,i,n,r){for(var a=[],o=0,s=e.length;o<s;++o)M(e,String(o))?a.push(d(t,e,i,n,String(o),!0)):a.push("");return r.forEach(function(r){r.match(/^\d+$/)||a.push(d(t,e,i,n,r,!0))}),a}function d(t,e,i,n,r,a){var o,s,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),M(n,r)||(o="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=b(i)?c(t,l.value,null):c(t,l.value,i-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(o)){if(a&&r.match(/^\d+$/))return s;o=JSON.stringify(""+r),o.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function u(t,e,i){var n=0;return t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1]}function g(t){return Array.isArray(t)}function f(t){return"boolean"==typeof t}function b(t){return null===t}function m(t){return null==t}function v(t){return"number"==typeof t}function y(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function w(t){return void 0===t}function _(t){return C(t)&&"[object RegExp]"===P(t)}function C(t){return"object"==typeof t&&null!==t}function k(t){return C(t)&&"[object Date]"===P(t)}function S(t){return C(t)&&("[object Error]"===P(t)||t instanceof Error)}function R(t){return"function"==typeof t}function j(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t}function P(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}function D(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),E[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var H=/%[sdj%]/g;e.format=function(t){if(!y(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,a=n.length,o=String(t).replace(H,function(t){if("%%"===t)return"%";if(i>=a)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),s=n[i];i<a;s=n[++i])b(s)||!C(s)?o+=" "+s:o+=" "+r(s);return o},e.deprecate=function(i,r){function a(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return i.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var o=!1;return a};var O,L={};e.debuglog=function(t){if(w(O)&&(O=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!L[t])if(new RegExp("\\b"+t+"\\b","i").test(O)){var i=n.pid;L[t]=function(){var n=e.format.apply(e,arguments);console.error("%s %d: %s",t,i,n)}}else L[t]=function(){};return L[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=g,e.isBoolean=f,e.isNull=b,e.isNullOrUndefined=m,e.isNumber=v,e.isString=y,e.isSymbol=x,e.isUndefined=w,e.isRegExp=_,e.isObject=C,e.isDate=k,e.isError=S,e.isFunction=R,e.isPrimitive=j,e.isBuffer=i("fC4T");var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.log=function(){console.log("%s - %s",D(),e.format.apply(e,arguments))},e.inherits=i("ONRY"),e._extend=function(t,e){if(!e||!C(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(e,i("DuR2"),i("W2nU"))},ONRY:function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},Oj6k:function(t,e,i){"use strict";var n=i("qWpH");i.d(e,"a",function(){return r});var r=function(){function t(){this.canvasWidth=300,this.canvasHeight=300,this.dynamicSizing=!1,this.width=200,this.height=200,this.minWidth=50,this.minHeight=50,this.minWithRelativeToResolution=!0,this.croppedWidth=100,this.croppedHeight=100,this.cropperDrawSettings=new n.a,this.touchRadius=20,this.noFileInput=!1,this.allowedFilesRegex=/\.(jpe?g|png|gif)$/i,this.cropOnResize=!0,this.preserveSize=!1,this.compressRatio=1,this._rounded=!1,this._keepAspect=!0}return Object.defineProperty(t.prototype,"rounded",{get:function(){return this._rounded},set:function(t){this._rounded=t,t&&(this._keepAspect=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepAspect",{get:function(){return this._keepAspect},set:function(t){if(!1===t&&this._rounded)throw new Error("Cannot set keep aspect to false on rounded cropper. Ellipsis not supported");this._keepAspect=t},enumerable:!0,configurable:!0}),t}()},"P+fo":function(t,e){t.exports=function(t){"undefined"!=typeof execScript?execScript(t):eval.call(null,t)}},T2D5:function(t,e,i){"use strict";var n=i("74BS"),r=i("Oj6k");i.d(e,"a",function(){return a});var a=function(){function t(t,e,i,a){this.cropperSettings=new r.a,this.over=!1,this.drag=!1,this._position=new n.a(t,e),this.offset=new n.a(0,0),this.radius=i,this.cropperSettings=a}return t.prototype.setDrag=function(t){this.drag=t,this.setOver(t)},t.prototype.draw=function(t){},t.prototype.setOver=function(t){this.over=t},t.prototype.touchInBounds=function(t,e){return t>this.position.x-this.radius+this.offset.x&&t<this.position.x+this.radius+this.offset.x&&e>this.position.y-this.radius+this.offset.y&&e<this.position.y+this.radius+this.offset.y},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},enumerable:!0,configurable:!0}),t.prototype.setPosition=function(t,e){this._position.x=t,this._position.y=e},t}()},Ute4:function(t,e,i){"use strict";var n=i("3j3K"),r=i("4hmS");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.el=t,i.i(r.a)(this.el.nativeElement,["sa-cloak","sa-hidden"])}return t.prototype.ngOnInit=function(){var t=this;i.e(106).then(i.bind(null,"l0Om")).then(function(){$(t.el.nativeElement).select2(),i.i(r.b)(t.el.nativeElement,["sa-hidden"])})},t}();s=a([i.i(n.Directive)({selector:"[select2]"}),o("design:paramtypes",["function"==typeof(c=void 0!==n.ElementRef&&n.ElementRef)&&c||Object])],s);var c},V9dY:function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("Atu6"),o=i("NVOs");i.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},c=function(){function t(){}return t}();c=s([i.i(n.NgModule)({imports:[r.CommonModule,o.a],declarations:[a.a],exports:[a.a]})],c)},VnpU:function(t,e,i){"use strict";i("zV2L")},Vpmx:function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(){}return t.prototype.render=function(){$(this.summernoteAttach).summernote({focus:!0})},t.prototype.ngOnInit=function(){i.e(102).then(i.bind(null,"EF56"))},t}();r([i.i(n.Input)(),a("design:type",Object)],o.prototype,"summernoteAttach",void 0),r([i.i(n.HostListener)("click"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],o.prototype,"render",null),o=r([i.i(n.Directive)({selector:"[summernoteAttach]"}),a("design:paramtypes",[])],o)},W2nU:function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function a(t){if(p===clearTimeout)return clearTimeout(t);if((p===n||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function o(){f&&u&&(f=!1,u.length?g=u.concat(g):b=-1,g.length&&s())}function s(){if(!f){var t=r(o);f=!0;for(var e=g.length;e;){for(u=g,g=[];++b<e;)u&&u[b].run();b=-1,e=g.length}u=null,f=!1,a(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var h,p,d=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{p="function"==typeof clearTimeout?clearTimeout:n}catch(t){p=n}}();var u,g=[],f=!1,b=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];g.push(new c(t,e)),1!==g.length||f||r(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=l,d.addListener=l,d.once=l,d.off=l,d.removeListener=l,d.removeAllListeners=l,d.emit=l,d.prependListener=l,d.prependOnceListener=l,d.listeners=function(t){return[]},d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},WNfM:function(t,e,i){"use strict";var n=i("vV8s");i.d(e,"a",function(){return r});var r=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.left=t,this.right=t+i,this.top=e,this.bottom=e+n}return Object.defineProperty(t.prototype,"width",{get:function(){return this.right-this.left},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.bottom-this.top},enumerable:!0,configurable:!0}),t.prototype.getCentre=function(){var t=this.width,e=this.height;return n.a.instance.borrow(this.left+t/2,this.top+e/2)},t}()},ZZPW:function(t,e,i){"use strict";i("R0Q5"),i("g4xB"),i("EzSG"),i("N56p")},a3dU:function(t,e,i){"use strict";var n=i("NuOl");i.d(e,"a",function(){return n.a});var r=i("orhe");i.d(e,"c",function(){return r.a});var a=(i("Ggwh"),i("Oj6k"));i.d(e,"b",function(){return a.a});i("qWpH"),i("WNfM"),i("pHts")},dGcM:function(t,e,i){"use strict";i("NpAM")},f1tB:function(t,e,i){e=t.exports=i("FZ+f")(!1),e.push([t.i,".c-file-upload{display:block;overflow:hidden;position:relative}.c-file-upload [type=file]{cursor:pointer;display:block;filter:alpha(opacity=0);min-height:100%;min-width:100%;opacity:0;position:absolute;right:0;text-align:right;top:0}.c-content-inner{background-color:#fff;border:0;border-radius:1px;box-shadow:1px 2px 6px rgba(0,0,0,.03);-moz-box-shadow:1px 2px 6px rgba(0,0,0,.03);padding:15px}.c-mt15{margin-top:15px}",""]),t.exports=t.exports.toString()},f3lI:function(t,e){t.exports='<div class="col-xs-12 col-sm-5 col-md-5 col-lg-8" saSparklineContainer>\r\n  <ul id="sparks" class="">\r\n    <li class="sparks-info">\r\n      <h5> My Income <span class="txt-color-blue">$47,171</span></h5>\r\n      <div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">\r\n        1300, 1877, 2500, 2577, 2000, 2100, 3000, 2700, 3631, 2471, 2700, 3631, 2471\r\n      </div>\r\n    </li>\r\n    <li class="sparks-info">\r\n      <h5> Site Traffic <span class="txt-color-purple"><i class="fa fa-arrow-circle-up"></i>&nbsp;45%</span></h5>\r\n      <div class="sparkline txt-color-purple hidden-mobile hidden-md hidden-sm">\r\n        110,150,300,130,400,240,220,310,220,300, 270, 210\r\n      </div>\r\n    </li>\r\n    <li class="sparks-info">\r\n      <h5> Site Orders <span class="txt-color-greenDark"><i class="fa fa-shopping-cart"></i>&nbsp;2447</span></h5>\r\n      <div class="sparkline txt-color-greenDark hidden-mobile hidden-md hidden-sm">\r\n        110,150,300,130,400,240,220,310,220,300, 270, 210\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},fC4T:function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},g4xB:function(t,e,i){"use strict";i("jChl")},gOVf:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.id=i,this.x=t,this.y=e}return t}()},hA8a:function(t,e){t.exports='/* jquery.sparkline 2.1.3 - http://omnipotent.net/jquery.sparkline/ \r\n Licensed under the New BSD License - see above site for details */\r\n!function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}\')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}\')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{value:map}}\'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)\')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D=\'.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}\',f=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=g=f({fre:/\\{\\{([\\w.]+?)(:(.+?))?\\}\\}/g,precre:/(\\w+)\\.(\\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var e,f,g,h,i,j=this,k=a;return this.format.replace(this.fre,function(){var a;return f=arguments[1],g=arguments[3],e=j.precre.exec(f),e?(i=e[2],f=e[1]):i=!1,h=k[f],h===c?"":g&&b&&b[g]?(a=b[g],a.get?b[g].get(h)||h:b[g][h]||h):(m(h)&&(h=d.get("numberFormatter")?d.get("numberFormatter")(h):r(h,i,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),h)})}}),d.spformat=function(a,b){return new g(a,b)},h=function(a,b,c){return b>a?b:a>c?c:a},i=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},j=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},k=function(a){var b,c=[];for(b=a.length;b--;)c[b]=j(a[b]);return c},l=function(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)a[c]!==b&&e.push(a[c]);return e},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=function(a,b,c,e,f){var g,h;for(a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},n=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},o=function(a){var b,c=0;for(b=a.length;b--;)c+="number"==typeof a[b]?a[b]:0;return c},q=function(a){return d.isArray(a)?a:[a]},p=function(b){var c,d;if(a.createStyleSheet)try{return a.createStyleSheet().cssText=b,void 0}catch(e){d=!0}c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),d?a.styleSheets[a.styleSheets.length-1].cssText=b:c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new H(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c){return new I(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=s=f({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-1/0:parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var b,d,e,f=this.rangelist;if((e=this.map[a])!==c)return e;if(f)for(b=f.length;b--;)if(d=f[b],d[0]<=a&&d[1]>=a)return d[2];return c}}),d.range_map=function(a){return new s(a)},t=f({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new u(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var b,c,e=this.splist,f=e.length,g=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),c=0;f>c;c++)b=e[c],b.clearRegionHighlight()&&(g=!0);g&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var a,b,c,e,f,g=this.splist,h=g.length,i=!1,j=this.$canvas.offset(),k=this.currentPageX-j.left,l=this.currentPageY-j.top;if(this.over){for(c=0;h>c;c++)b=g[c],e=b.setRegionHighlight(this.currentEl,k,l),e&&(i=!0);if(i){if(f=d.Event("sparklineRegionChange"),f.sparklines=this.splist,this.$el.trigger(f),this.tooltip){for(a="",c=0;h>c;c++)b=g[c],a+=b.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}null===e&&this.mouseleave()}}}),u=f({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c,e=b.get("tooltipClassname","jqstooltip"),f=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:f,"class":e}),this.tooltip=d("<div/>",{id:"jqstooltip","class":e}).appendTo(this.container),c=this.tooltip.offset(),this.offsetLeft=c.left,this.offsetTop=c.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){return a?(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),this.hidden=!0,void 0)},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),E=function(){p(D)},d(E),J=[],d.fn.sparkline=function(b,e){return this.each(function(){var f,g,h=new d.fn.sparkline.options(this,e),i=d(this);if(f=function(){var e,f,g,j,k,l,m;return"html"===b||b===c?(m=this.getAttribute(h.get("tagValuesAttribute")),(m===c||null===m)&&(m=i.html()),e=m.replace(/(^\\s*\x3c!--)|(--\x3e\\s*$)|\\s+/g,"").split(",")):e=b,f="auto"===h.get("width")?e.length*h.get("defaultPixelsPerValue"):h.get("width"),"auto"===h.get("height")?h.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",i.html(j),g=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):g=h.get("height"),h.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?h.get("composite")||k.reset():(k=new t(this,h),d.data(this,"_jqs_mhandler",k))),h.get("composite")&&!d.data(this,"_jqs_vcanvas")?(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0)),void 0):(l=new(d.fn.sparkline[h.get("type")])(this,e,h,f,g),l.render(),k&&k.registerSparkline(l),void 0)},d(this).html()&&!h.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!h.get("composite")&&d.data(this,"_jqs_pending"))for(g=J.length;g;g--)J[g-1][0]==this&&J.splice(g-1,1);J.push([this,f]),d.data(this,"_jqs_pending",!0)}else f.call(this)})},d.fn.sparkline.defaults=e(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=J.length;c>b;b++)a=J[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(J[b][1].call(a),d.data(J[b][0],"_jqs_pending",!1),e.push(b)):d(a).closest("html").length||d.data(a,"_jqs_pending")||(d.data(J[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)J.splice(e[b-1],1)},d.fn.sparkline.options=f({init:function(a,b){var c,e,f,g;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},e=d.fn.sparkline.defaults,f=e.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||f.tagOptionsPrefix),g=this.getTagSetting("type"),c=g===K?e[b.type||f.type]:e[g],this.mergedOptions=d.extend({},f,c,b)},getTagSetting:function(a){var b,d,e,f,g=this.tagOptionsPrefix;if(g===!1||g===c)return K;if(this.tagValCache.hasOwnProperty(a))b=this.tagValCache.key;else{if(b=this.tag.getAttribute(g+a),b===c||null===b)b=K;else if("["===b.substr(0,1))for(b=b.substr(1,b.length-2).split(","),d=b.length;d--;)b[d]=j(b[d].replace(/(^\\s*)|(\\s*$)/g,""));else if("{"===b.substr(0,1))for(e=b.substr(1,b.length-2).split(","),b={},d=e.length;d--;)f=e[d].split(":",2),b[f[0].replace(/(^\\s*)|(\\s*$)/g,"")]=j(f[1].replace(/(^\\s*)|(\\s*$)/g,""));else b=j(b);this.tagValCache.key=b}return b},get:function(a,b){var d,e=this.getTagSetting(a);return e!==K?e:(d=this.mergedOptions[a])===c?b:d}}),d.fn.sparkline._base=f({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(a,b,d){var e,f=this.currentRegion,g=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||0>b||0>d?null:(e=this.getRegion(a,b,d),f!==e?(f!==c&&g&&this.removeHighlight(),this.currentRegion=e,e!==c&&g&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==c?(this.removeHighlight(),this.currentRegion=c,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var a,b,e,f,h,i,j,k,l,m,n,o,p,q,r=this.options,s="",t=[];if(this.currentRegion===c)return"";if(a=this.getCurrentRegionFields(),n=r.get("tooltipFormatter"))return n(this,r,a);if(r.get("tooltipChartTitle")&&(s+=\'<div class="jqs jqstitle">\'+r.get("tooltipChartTitle")+"</div>\\n"),b=this.options.get("tooltipFormat"),!b)return"";if(d.isArray(b)||(b=[b]),d.isArray(a)||(a=[a]),j=this.options.get("tooltipFormatFieldlist"),k=this.options.get("tooltipFormatFieldlistKey"),j&&k){for(l=[],i=a.length;i--;)m=a[i][k],-1!=(q=d.inArray(m,j))&&(l[q]=a[i]);a=l}for(e=b.length,p=a.length,i=0;e>i;i++)for(o=b[i],"string"==typeof o&&(o=new g(o)),f=o.fclass||"jqsfield",q=0;p>q;q++)a[q].isNull&&r.get("tooltipSkipNull")||(d.extend(a[q],{prefix:r.get("tooltipPrefix"),suffix:r.get("tooltipSuffix")}),h=o.render(a[q],r.get("tooltipValueLookups"),r),t.push(\'<div class="\'+f+\'">\'+h+"</div>"));return t.length?s+t.join("\\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var d,e,f,g,i=c.get("highlightColor"),j=c.get("highlightLighten");if(i)return i;if(j&&(d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(f=[],e=4===a.length?16:1,g=0;3>g;g++)f[g]=h(b.round(parseInt(d[g+1],16)*e*j),0,255);return"rgb("+f.join(",")+")"}return a}}),v={changeHighlight:function(a){var b,c=this.currentRegion,e=this.target,f=this.regionShapes[c];f&&(b=this.renderRegion(c,a),d.isArray(b)||d.isArray(f)?(e.replaceWithShapes(f,b),this.regionShapes[c]=d.map(b,function(a){return a.id})):(e.replaceWithShape(f,b),this.regionShapes[c]=b.id))},render:function(){var a,b,c,e,f=this.values,g=this.target,h=this.regionShapes;if(this.cls._super.render.call(this)){for(c=f.length;c--;)if(a=this.renderRegion(c))if(d.isArray(a)){for(b=[],e=a.length;e--;)a[e].append(),b.push(a[e].id);h[c]=b}else a.append(),h[c]=a.id;else h[c]=null;g.render()}}},d.fn.sparkline.line=w=f(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){w._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b){var d,e=this.regionMap;for(d=e.length;d--;)if(null!==e[d]&&b>=e[d][0]&&b<=e[d][1])return e[d][2];return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a,b,d=this.currentRegion,e=this.target,f=this.vertices[d],g=this.options,h=g.get("spotRadius"),i=g.get("highlightSpotColor"),j=g.get("highlightLineColor");f&&(h&&i&&(a=e.drawCircle(f[0],f[1],h,c,i),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),j&&(b=e.drawLine(f[0],this.canvasTop,f[0],this.canvasTop+this.canvasHeight,j),this.highlightLineId=b.id,e.insertAfterShape(this.lastShapeId,b)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var a,c,d,e,f,g=this.values,h=g.length,i=this.xvalues,j=this.yvalues,k=this.yminmax;for(a=0;h>a;a++)c=g[a],d="string"==typeof g[a],e="object"==typeof g[a]&&g[a]instanceof Array,f=d&&g[a].split(":"),d&&2===f.length?(i.push(Number(f[0])),j.push(Number(f[1])),k.push(Number(f[1]))):e?(i.push(c[0]),j.push(c[1]),k.push(c[1])):(i.push(a),null===g[a]||"null"===g[a]?j.push(null):(j.push(Number(c)),k.push(Number(c))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,k),this.miny=this.minyorg=b.min.apply(b,k),this.maxx=b.max.apply(b,i),this.minx=b.min.apply(b,i),this.xvalues=i,this.yvalues=j,this.yminmax=k},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,x,y,z,A,B,C,D,E=this.options,F=this.target,G=this.canvasWidth,H=this.canvasHeight,I=this.vertices,J=E.get("spotRadius"),K=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),B=this.xvalues,C=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(g=h=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,e=this.maxy-this.miny===0?1:this.maxy-this.miny,f=this.yvalues.length-1,J&&(4*J>G||4*J>H)&&(J=0),J&&(z=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(z||E.get("minSpotColor")||E.get("spotColor")&&C[f]===this.miny)&&(H-=b.ceil(J)),(z||E.get("maxSpotColor")||E.get("spotColor")&&C[f]===this.maxy)&&(H-=b.ceil(J),g+=b.ceil(J)),(z||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(C[0]===this.miny||C[0]===this.maxy))&&(h+=b.ceil(J),G-=b.ceil(J)),(z||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(C[f]===this.miny||C[f]===this.maxy))&&(G-=b.ceil(J))),H--,E.get("normalRangeMin")===c||E.get("drawNormalOnTop")||this.drawNormalRange(h,g,H,G,e),j=[],k=[j],q=r=null,t=C.length,D=0;t>D;D++)l=B[D],n=B[D+1],m=C[D],o=h+b.round((l-this.minx)*(G/a)),p=t-1>D?h+b.round((n-this.minx)*(G/a)):G,r=o+(p-o)/2,K[D]=[q||0,r,D],q=r,null===m?D&&(null!==C[D-1]&&(j=[],k.push(j)),I.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),j.length||j.push([o,g+H]),i=[o,g+b.round(H-H*((m-this.miny)/e))],j.push(i),I.push(i));for(u=[],v=[],x=k.length,D=0;x>D;D++)j=k[D],j.length&&(E.get("fillColor")&&(j.push([j[j.length-1][0],g+H]),v.push(j.slice(0)),j.pop()),j.length>2&&(j[0]=[j[0][0],j[1][1]]),u.push(j));for(x=v.length,D=0;x>D;D++)F.drawShape(v[D],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==c&&E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),x=u.length,D=0;x>D;D++)F.drawShape(u[D],E.get("lineColor"),c,E.get("lineWidth")).append();if(J&&E.get("valueSpots"))for(y=E.get("valueSpots"),y.get===c&&(y=new s(y)),D=0;t>D;D++)A=y.get(C[D]),A&&F.drawCircle(h+b.round((B[D]-this.minx)*(G/a)),g+b.round(H-H*((C[D]-this.miny)/e)),J,c,A).append();J&&E.get("spotColor")&&null!==C[f]&&F.drawCircle(h+b.round((B[B.length-1]-this.minx)*(G/a)),g+b.round(H-H*((C[f]-this.miny)/e)),J,c,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(J&&E.get("minSpotColor")&&(l=B[d.inArray(this.minyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.minyorg-this.miny)/e)),J,c,E.get("minSpotColor")).append()),J&&E.get("maxSpotColor")&&(l=B[d.inArray(this.maxyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.maxyorg-this.miny)/e)),J,c,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=g,F.render()}}}),d.fn.sparkline.bar=x=f(d.fn.sparkline._base,v,{type:"bar",init:function(a,e,f,g,i){var m,n,o,p,q,r,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K=parseInt(f.get("barWidth"),10),L=parseInt(f.get("barSpacing"),10),M=f.get("chartRangeMin"),N=f.get("chartRangeMax"),O=f.get("chartRangeClip"),P=1/0,Q=-1/0;for(x._super.init.call(this,a,e,f,g,i),r=0,t=e.length;t>r;r++)H=e[r],m="string"==typeof H&&H.indexOf(":")>-1,(m||d.isArray(H))&&(C=!0,m&&(H=e[r]=k(H.split(":"))),H=l(H,null),n=b.min.apply(b,H),o=b.max.apply(b,H),P>n&&(P=n),o>Q&&(Q=o));this.stacked=C,this.regionShapes={},this.barWidth=K,this.barSpacing=L,this.totalBarWidth=K+L,this.width=g=e.length*K+(e.length-1)*L,this.initTarget(),O&&(A=M===c?-1/0:M,B=N===c?1/0:N),q=[],p=C?[]:q;var R=[],S=[];for(r=0,t=e.length;t>r;r++)if(C)for(D=e[r],e[r]=G=[],R[r]=0,p[r]=S[r]=0,E=0,F=D.length;F>E;E++)H=G[E]=O?h(D[E],A,B):D[E],null!==H&&(H>0&&(R[r]+=H),0>P&&Q>0?0>H?S[r]+=b.abs(H):p[r]+=H:p[r]+=b.abs(H-(0>H?Q:P)),q.push(H));else H=O?h(e[r],A,B):e[r],H=e[r]=j(H),null!==H&&q.push(H);this.max=z=b.max.apply(b,q),this.min=y=b.min.apply(b,q),this.stackMax=Q=C?b.max.apply(b,R):z,this.stackMin=P=C?b.min.apply(b,q):y,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>z)&&(z=f.get("chartRangeMax")),this.zeroAxis=v=f.get("zeroAxis",!0),w=0>=y&&z>=0&&v?0:0==v?y:y>0?y:z,this.xaxisOffset=w,u=C?b.max.apply(b,p)+b.max.apply(b,S):z-y,this.canvasHeightEf=v&&0>y?this.canvasHeight-2:this.canvasHeight-1,w>y?(J=C&&z>=0?Q:z,I=(J-w)/u*this.canvasHeight,I!==b.ceil(I)&&(this.canvasHeightEf-=2,I=b.ceil(I))):I=this.canvasHeight,this.yoffset=I,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.range=u},getRegion:function(a,d){var e=b.floor(d/this.totalBarWidth);return 0>e||e>=this.values.length?c:e},getCurrentRegionFields:function(){var a,b,c=this.currentRegion,d=q(this.values[c]),e=[];for(b=d.length;b--;)a=d[b],e.push({isNull:null===a,value:a,color:this.calcColor(b,a,c),offset:c});return e},calcColor:function(a,b,e){var f,g,h=this.colorMapByIndex,i=this.colorMapByValue,j=this.options;return f=this.stacked?j.get("stackedBarColor"):0>b?j.get("negBarColor"):j.get("barColor"),0===b&&j.get("zeroColor")!==c&&(f=j.get("zeroColor")),i&&(g=i.get(b))?f=g:h&&h.length>e&&(f=h[e]),d.isArray(f)?f[a%f.length]:f},renderRegion:function(a,e){var f,g,h,i,j,k,l,m,o,p,q=this.values[a],r=this.options,s=this.xaxisOffset,t=[],u=this.range,v=this.stacked,w=this.target,x=a*this.totalBarWidth,y=this.canvasHeightEf,z=this.yoffset;if(q=d.isArray(q)?q:[q],l=q.length,m=q[0],i=n(null,q),p=n(s,q,!0),i)return r.get("nullColor")?(h=e?r.get("nullColor"):this.calcHighlightColor(r.get("nullColor"),r),f=z>0?z-1:z,w.drawRect(x,f,this.barWidth-1,0,h,h)):c;for(j=z,k=0;l>k;k++){if(m=q[k],v&&m===s){if(!p||o)continue;o=!0}g=u>0?b.floor(y*(b.abs(m-s)/u))+1:1,s>m||m===s&&0===z?(f=j,j+=g):(f=z-g,z-=g),h=this.calcColor(k,m,a),e&&(h=this.calcHighlightColor(h,r)),t.push(w.drawRect(x,f,this.barWidth-1,g-1,h,h))}return 1===t.length?t[0]:t}}),d.fn.sparkline.tristate=y=f(d.fn.sparkline._base,v,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);y._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c,d,e=this.values,f=this.options,g=this.colorMapByIndex,h=this.colorMapByValue;return c=h&&(d=h.get(a))?d:g&&g.length>b?g[b]:e[b]<0?f.get("negBarColor"):e[b]>0?f.get("posBarColor"):f.get("zeroBarColor")},renderRegion:function(a,c){var d,e,f,g,h,i,j=this.values,k=this.options,l=this.target;return d=l.pixelHeight,f=b.round(d/2),g=a*this.totalBarWidth,j[a]<0?(h=f,e=f-1):j[a]>0?(h=0,e=f-1):(h=f-1,e=2),i=this.calcColor(j[a],a),null!==i?(c&&(i=this.calcHighlightColor(i,k)),l.drawRect(g,h,this.barWidth-1,e-1,i,i)):void 0}}),d.fn.sparkline.discrete=z=f(d.fn.sparkline._base,v,{type:"discrete",init:function(a,e,f,g,h){z._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var d,e,f,g,i=this.values,j=this.options,k=this.min,l=this.max,m=this.range,n=this.interval,o=this.target,p=this.canvasHeight,q=this.lineHeight,r=p-q;return e=h(i[a],k,l),g=a*n,d=b.round(r-r*((e-k)/m)),f=j.get("thresholdColor")&&e<j.get("thresholdValue")?j.get("thresholdColor"):j.get("lineColor"),c&&(f=this.calcHighlightColor(f,j)),o.drawLine(g,d,g,d+q,f)}}),d.fn.sparkline.bullet=A=f(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;A._super.init.call(this,a,d,e,f,g),this.values=d=k(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?0>h?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var b,c=this.currentRegion,d=this.valueShapes[c];switch(delete this.shapes[d],c.substr(0,1)){case"r":b=this.renderRange(c.substr(1),a);break;case"p":b=this.renderPerformance(a);break;case"t":b=this.renderTarget(a)}this.valueShapes[c]=b.id,this.shapes[b.id]=c,this.target.replaceWithShape(d,b)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var a,b,c=this.values.length,d=this.target;if(A._super.render.call(this)){for(a=2;c>a;a++)b=this.renderRange(a).append(),this.shapes[b.id]="r"+a,this.valueShapes["r"+a]=b.id;null!==this.values[1]&&(b=this.renderPerformance().append(),this.shapes[b.id]="p1",this.valueShapes.p1=b.id),null!==this.values[0]&&(b=this.renderTarget().append(),this.shapes[b.id]="t0",this.valueShapes.t0=b.id),d.render()}}}),d.fn.sparkline.pie=B=f(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var h,i=0;if(B._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(h=c.length;h--;)i+=c[h];this.total=i,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var e,f,g,h,i,j=this.target,k=this.options,l=this.radius,m=k.get("borderWidth"),n=k.get("offset"),o=2*b.PI,p=this.values,q=this.total,r=n?2*b.PI*(n/360):0;for(h=p.length,g=0;h>g;g++){if(e=r,f=r,q>0&&(f=r+o*(p[g]/q)),a===g)return i=k.get("sliceColors")[g%k.get("sliceColors").length],d&&(i=this.calcHighlightColor(i,k)),j.drawPieSlice(l,l,l-m,e,f,c,i);\r\nr=f}},render:function(){var a,d,e=this.target,f=this.values,g=this.options,h=this.radius,i=g.get("borderWidth");if(B._super.render.call(this)){for(i&&e.drawCircle(h,h,b.floor(h-i/2),g.get("borderColor"),c,i).append(),d=f.length;d--;)f[d]&&(a=this.renderSlice(d).append(),this.valueShapes[d]=a.id,this.shapes[a.id]=d);e.render()}}}),d.fn.sparkline.box=C=f(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){C._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var a,d,e,f,g,h,j,k,l,m,n,o=this.target,p=this.values,q=p.length,r=this.options,s=this.canvasWidth,t=this.canvasHeight,u=r.get("chartRangeMin")===c?b.min.apply(b,p):r.get("chartRangeMin"),v=r.get("chartRangeMax")===c?b.max.apply(b,p):r.get("chartRangeMax"),w=0;if(C._super.render.call(this)){if(r.get("raw"))r.get("showOutliers")&&p.length>5?(d=p[0],a=p[1],f=p[2],g=p[3],h=p[4],j=p[5],k=p[6]):(a=p[0],f=p[1],g=p[2],h=p[3],j=p[4]);else if(p.sort(function(a,b){return a-b}),f=i(p,1),g=i(p,2),h=i(p,3),e=h-f,r.get("showOutliers")){for(a=j=c,l=0;q>l;l++)a===c&&p[l]>f-e*r.get("outlierIQR")&&(a=p[l]),p[l]<h+e*r.get("outlierIQR")&&(j=p[l]);d=p[0],k=p[q-1]}else a=p[0],j=p[q-1];this.quartiles=[f,g,h],this.lwhisker=a,this.rwhisker=j,this.loutlier=d,this.routlier=k,n=s/(v-u+1),r.get("showOutliers")&&(w=b.ceil(r.get("spotRadius")),s-=2*b.ceil(r.get("spotRadius")),n=s/(v-u+1),a>d&&o.drawCircle((d-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append(),k>j&&o.drawCircle((k-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append()),o.drawRect(b.round((f-u)*n+w),b.round(.1*t),b.round((h-f)*n),b.round(.8*t),r.get("boxLineColor"),r.get("boxFillColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/2),b.round((f-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/4),b.round((a-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/2),b.round((h-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/4),b.round((j-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((g-u)*n+w),b.round(.1*t),b.round((g-u)*n+w),b.round(.9*t),r.get("medianColor")).append(),r.get("target")&&(m=b.ceil(r.get("spotRadius")),o.drawLine(b.round((r.get("target")-u)*n+w),b.round(t/2-m),b.round((r.get("target")-u)*n+w),b.round(t/2+m),r.get("targetColor")).append(),o.drawLine(b.round((r.get("target")-u)*n+w-m),b.round(t/2),b.round((r.get("target")-u)*n+w+m),b.round(t/2),r.get("targetColor")).append()),o.render()}}}),F=f({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),G=f({_pxregex:/(\\d+)(px)?\\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),this.pixelHeight=e?e[1]:d(c).height(),e=this._pxregex.exec(a),this.pixelWidth=e?e[1]:d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new F(this,c,a,b)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=f(G,{init:function(b,e,f,g){H._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){var a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var g,h,i=this._getContext(d,e,f);for(i.beginPath(),i.moveTo(b[0][0]+.5,b[0][1]+.5),g=1,h=b.length;h>g;g++)i.lineTo(b[g][0]+.5,b[g][1]+.5);d!==c&&i.stroke(),e!==c&&i.fill(),this.targetX!==c&&this.targetY!==c&&i.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c,d=this.shapeseq;for(this.shapes[b.id]=b,c=d.length;c--;)d[c]==a&&(d[c]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c,d,e,f=this.shapeseq,g={};for(d=a.length;d--;)g[a[d]]=!0;for(d=f.length;d--;)c=f[d],g[c]&&(f.splice(d,1),delete this.shapes[c],e=d);for(d=b.length;d--;)f.splice(e,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(a,b){var c,d=this.shapeseq;for(c=d.length;c--;)if(d[c]===a)return d.splice(c+1,0,b.id),this.shapes[b.id]=b,void 0},removeShapeId:function(a){var b,c=this.shapeseq;for(b=c.length;b--;)if(c[b]===a){c.splice(b,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var a,b,c,d=this.shapeseq,e=this.shapes,f=d.length,g=this._getContext();for(g.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;f>c;c++)a=d[c],b=e[a],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=f(G,{init:function(b,c,e){var f;I._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f=\'<v:group coordorigin="0 0" coordsize="\'+this.pixelWidth+" "+this.pixelHeight+\'" style="position:absolute;top:0;left:0;width:\'+this.pixelWidth+"px;height="+this.pixelHeight+\'px;"></v:group>\',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var g,h,i,j,k,l,m,n=[];for(m=0,l=b.length;l>m;m++)n[m]=""+b[m][0]+","+b[m][1];return g=n.splice(0,1),f=f===c?1:f,h=d===c?\' stroked="false" \':\' strokeWeight="\'+f+\'px" strokeColor="\'+d+\'" \',i=e===c?\' filled="false"\':\' fillColor="\'+e+\'" filled="true" \',j=n[0]===n[n.length-1]?"x ":"",k=\'<v:shape coordorigin="0 0" coordsize="\'+this.pixelWidth+" "+this.pixelHeight+\'"  id="jqsshape\'+a+\'" \'+h+i+\' style="position:absolute;left:0px;top:0px;height:\'+this.pixelHeight+"px;width:"+this.pixelWidth+\'px;padding:0px;margin:0px;"  path="m \'+g+" l "+n.join(", ")+" "+j+\'e"> </v:shape>\'},_drawCircle:function(a,b,d,e,f,g,h){var i,j,k;return b-=e,d-=e,i=f===c?\' stroked="false" \':\' strokeWeight="\'+h+\'px" strokeColor="\'+f+\'" \',j=g===c?\' filled="false"\':\' fillColor="\'+g+\'" filled="true" \',k=\'<v:oval  id="jqsshape\'+a+\'" \'+i+j+\' style="position:absolute;top:\'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+\'px"></v:oval>\'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r;if(g===h)return"";if(h-g===2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?\' stroked="false" \':\' strokeWeight="1px" strokeColor="\'+i+\'" \',q=j===c?\' filled="false"\':\' fillColor="\'+j+\'" filled="true" \',r=\'<v:shape coordorigin="0 0" coordsize="\'+this.pixelWidth+" "+this.pixelHeight+\'"  id="jqsshape\'+a+\'" \'+p+q+\' style="position:absolute;left:0px;top:0px;height:\'+this.pixelHeight+"px;width:"+this.pixelWidth+\'px;padding:0px;margin:0px;"  path="m \'+d+","+e+" wa "+k.join(", ")+\' x e"> </v:shape>\')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var c,e=d("#jqsshape"+a[0]),f="",g=b.length;for(c=0;g>c;c++)f+=this["_draw"+b[c].type].apply(this,b[c].args);for(e[0].outerHTML=f,c=1;c<a.length;c++)d("#jqsshape"+a[c]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a){var b=a.id.substr(8);return b},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math);'},iD8S:function(t,e,i){"use strict";var n=i("3j3K"),r=i("a3dU");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.elementRef=t}return t.prototype.onChange=function(){var t=this.elementRef.nativeElement.files;if(t&&t.length>0){var e=new Image,i=t[0],n=new FileReader,r=this;n.onloadend=function(t){e.src=t.target.result,r.cropper.setImage(e)},n.readAsDataURL(i)}},t}();a([i.i(n.Input)(),o("design:type","function"==typeof(c=void 0!==r.c&&r.c)&&c||Object)],s.prototype,"cropper",void 0),a([i.i(n.HostListener)("change"),o("design:type",Function),o("design:paramtypes",[]),o("design:returntype",Object)],s.prototype,"onChange",null),s=a([i.i(n.Directive)({selector:"[c-img-cropper-select]"}),o("design:paramtypes",["function"==typeof(l=void 0!==n.ElementRef&&n.ElementRef)&&l||Object])],s);var c,l},kCVe:function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("sz1r"),o=i("4qOI");i.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},c=function(){function t(){}return t}();c=s([i.i(n.NgModule)({imports:[r.CommonModule],declarations:[a.a,o.a],exports:[a.a,o.a]})],c)},"lB+u":function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(t){this.el=t,this.summernote={},this.change=new n.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;i.e(102).then(i.bind(null,"EF56")).then(function(){t.render()})},t.prototype.render=function(){var t=this;$(this.el.nativeElement).summernote(Object.assign(this.summernote,{tabsize:2,callbacks:{onChange:function(e,i,n){t.change.emit(i)}}}))},t}();r([i.i(n.Input)(),a("design:type",Object)],o.prototype,"summernote",void 0),r([i.i(n.Output)(),a("design:type",Object)],o.prototype,"change",void 0),o=r([i.i(n.Directive)({selector:"[summernote]"}),a("design:paramtypes",["function"==typeof(s=void 0!==n.ElementRef&&n.ElementRef)&&s||Object])],o);var s},"lk+7":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("3j3K"),r=i("2Je8"),a=i("4cn0"),o=i("oUpo"),s=i("JOm+"),c=i("pvSQ"),l=i("NVOs"),h=i("jfyD"),p=(i.n(h),i("ntJC")),d=i("I+zP"),u=i("a3dU");i.d(e,"SettingArchivesModule",function(){return f});var g=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},f=function(){function t(){}return t}();f=g([i.i(n.NgModule)({imports:[r.CommonModule,s.a,c.a,l.a,l.b,a.a,u.a,d.a],declarations:[o.a],providers:[h.CookieService,p.a]})],f)},lnCK:function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("3yjK");i.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},s=function(){function t(){}return t}();s=o([i.i(n.NgModule)({imports:[r.CommonModule],declarations:[a.a],exports:[a.a]})],s)},oUpo:function(t,e,i){"use strict";var n=i("3j3K"),r=i("Fzro"),a=i("5oXY"),o=i("ntJC"),s=i("R12H"),c=i("Exih"),l=i("OMJi"),h=(i.n(l),i("a3dU")),p=i("xHjW");i.d(e,"a",function(){return g});var d=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,i,n,r){this.http=t,this.router=e,this.cookieStore=i,this.globalService=n,this.notificationService=r,this.state={tabs:{demo3:"hr1"}},this.prev=!1,this.next=!1,this.productDefault=[],this.addProductDefault=[],this.productList=[],this.productInfo=[],this.selects=[],this.check=!1,this.p_id=0,this.p_product_id="",this.p_name="",this.p_category_id="0",this.p_specification="",this.p_type=2,this.p_shortcode="",this.p_property="0",this.p_unit="0",this.p_purchase_price="0",this.p_notes="",this.p_qrcode="",this.p_max_stock="",this.p_min_stock="",this.p_cost="",this.p_retail_method="1",this.p_retail_amout="",this.p_stop_use="",this.p_stop_time="",this.select_category_ids=[],this.showUl=1,this.showUlChild=0,this.editStatusProductId=0,this.isStatus=0,this.isAll=0,this.width="0%",this.width_1="80%",this.isDetail="",this.p_property_id=1,this.keyword="",this.cid=0,this.super_admin_id=0,this.category_type=6,this.rollback_url="/management/setting-archives",this.imgList=[],this.url=this.globalService.getDomain(),this.path="",this.globalService.navEventEmitter.emit('{"title":"商品档案","url":"/management/setting-archives","class_":"active"}'),window.scrollTo(0,0),this.super_admin_id=this.globalService.getAdminID(),this.cid=this.cookieStore.getCookie("cid"),this.getProductDefault(),this.cropperSettings1=new h.b,this.cropperSettings1.width=150,this.cropperSettings1.height=150,this.cropperSettings1.croppedWidth=150,this.cropperSettings1.croppedHeight=150,this.cropperSettings1.canvasWidth=200,this.cropperSettings1.canvasHeight=200,this.cropperSettings1.minWidth=10,this.cropperSettings1.minHeight=10,this.cropperSettings1.rounded=!1,this.cropperSettings1.keepAspect=!0,this.cropperSettings1.cropperDrawSettings.strokeColor="rgba(255,255,255,1)",this.cropperSettings1.cropperDrawSettings.strokeWidth=2,this.data1={}}return t.prototype.cropped=function(t){this.croppedHeight=t.bottom-t.top,this.croppedWidth=t.right-t.left},t.prototype.ngOnInit=function(){},t.prototype.getProductDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+"/api/v1/getProductDefault?type=list&p_type="+this.p_type+"&category_type="+this.category_type+"&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(e){t.productDefault=e,console.log(t.productDefault),202==t.productDefault.status&&(alert(t.productDefault.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"])),t.select_category_ids[0]=!0,t.productDefault.result.categoryList.forEach(function(e,i,n){t.select_category_ids[e.category_id]=!0,e.has_child>=1&&e.child.forEach(function(e,i,n){t.select_category_ids[e.category_id]=!0})});var i="";t.select_category_ids.forEach(function(t,e,n){1==t&&(i+=e+",")}),t.getProductList("1",i)})},t.prototype.getProductList=function(t,e){var i=this,n=this.globalService.getDomain()+"/api/v1/getProductList?p_type="+this.p_type+"&page="+t+"&sid="+this.cookieStore.getCookie("sid");if(""!=this.keyword.trim()&&(n+="&keyword="+this.keyword.trim()),0!=e)n+="&category_ids="+e;else{var r="";this.select_category_ids.forEach(function(t,e,i){1==t&&(r+=e+",")}),n+="&category_ids="+r}this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){if(i.productList=t,console.log(i.productList),202==i.productList.status&&(i.cookieStore.removeAll(i.rollback_url),i.router.navigate(["/auth/login"])),i.productList.length>0){i.productList.result.productList.current_page==i.productList.result.productList.last_page?i.next=!0:i.next=!1,1==i.productList.result.productList.current_page?i.prev=!0:i.prev=!1,i.selects=[];for(var e=0,n=i.productList.result.productList.data;e<n.length;e++){var r=n[e];i.selects[r.p_id]=!1}i.check=!1}})},t.prototype.pagination=function(t){this.page=t,this.getProductList(this.page,0)},t.prototype.changeCheckAll=function(t){var e=this,i=t.target,n=i.checked;this.selects.forEach(function(t,i,r){e.selects[i]=n}),this.check=n},t.prototype.handle=function(t){var e=t.target,i=e.value,n=e.checked;this.selects[i]=n;for(var r=0,a=0,o=this.selects;a<o.length;a++){0==o[a]&&(r+=1)}this.check=!(r>=1)},t.prototype.getAddProductDefault=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getProductDefault?type=add&p_type="+this.p_type+"&category_type="+this.category_type+"&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(i){e.addProductDefault=i,console.log(e.addProductDefault),202==e.addProductDefault.status&&(alert(e.addProductDefault.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),0==t&&(e.editStatusProductId=0,e.lgModal.show())})},t.prototype.changePoperty=function(t){this.p_property_id=t.target.value},t.prototype.onSubmit=function(){var t=this;if(""==this.p_product_id.trim())return alert("请输入编号！"),!1;if(""==this.p_name.trim())return alert("请输入名称！"),!1;var e="";this.select_category_ids.forEach(function(t,i,n){1==t&&(e+=i+",")}),this.http.post(this.globalService.getDomain()+"/api/v1/addProduct",{p_id:this.p_id,product_id:this.p_product_id,name:this.p_name,category_id:this.p_category_id,specification:this.p_specification,unit:this.p_unit,notes:this.p_notes,p_img:JSON.stringify(this.imgList),p_type:this.p_type,p_purchase_price:this.p_purchase_price,p_shortcode:this.p_shortcode,p_property:this.p_property,p_qrcode:this.p_qrcode,p_max_stock:this.p_max_stock,p_min_stock:this.p_min_stock,p_cost:this.p_cost,p_retail_method:this.p_retail_method,p_retail_amout:this.p_retail_amout,p_stop_use:this.p_stop_use,p_stop_time:this.p_stop_time,category_ids:e,u_id:this.cookieStore.getCookie("uid"),sid:this.cookieStore.getCookie("sid")}).subscribe(function(e){var i=JSON.parse(e._body);if(console.log(i.status),201==i.status)return alert(i.msg),!1;if(200==i.status){if(t.productList=i,t.productList){t.productList.result.productList.current_page==t.productList.result.productList.last_page?t.next=!0:t.next=!1,1==t.productList.result.productList.current_page?t.prev=!0:t.prev=!1,t.selects=[];for(var n=0,r=t.productList.result.productList.data;n<r.length;n++){var a=r[n];t.selects[a.p_id]=!1}t.check=!1}t.clear_(),t.lgModal.hide()}else 202==i.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))})},t.prototype.clear_=function(){this.p_id=0,this.p_product_id="",this.p_name="",this.p_category_id="0",this.p_specification="",this.p_shortcode="",this.p_property="0",this.p_unit="0",this.p_purchase_price="0",this.p_notes="",this.p_qrcode="",this.p_max_stock="",this.p_min_stock="",this.p_cost="",this.p_retail_method="1",this.p_retail_amout="",this.p_stop_use="",this.p_stop_time=""},t.prototype.setValue=function(t){this.p_id=t.result.p_id,this.p_product_id=t.result.p_product_id,this.p_name=t.result.p_name,this.p_category_id=t.result.p_category_id,this.p_specification=t.result.p_specification,this.p_type=2,this.p_shortcode=t.result.p_shortcode,this.p_property=t.result.p_property,this.p_unit=t.result.p_unit,this.p_purchase_price=t.result.p_purchase_price,this.p_notes=t.result.p_notes,this.p_qrcode=t.result.p_qrcode,this.p_max_stock=t.result.p_max_stock,this.p_min_stock=t.result.p_min_stock,this.p_cost=t.result.p_cost,this.p_retail_method=t.result.p_retail_method,this.p_retail_amout=t.result.p_retail_amout,this.p_stop_use=t.result.p_stop_use,this.p_stop_time=t.result.p_stop_time,this.imgList=t.result.imgs},t.prototype.detailProduct=function(t){var e=this;if(0==this.isStatus)return!1;this.getAddProductDefault(1),this.isDetail=t,this.lgModal.show(),this.http.get(this.globalService.getDomain()+"/api/v1/getProductInfo?p_id="+this.editStatusProductId+"&p_type="+this.p_type+"&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){e.productInfo=t,200==e.productInfo.status?e.setValue(e.productInfo):202==e.productInfo.status&&(alert(e.productInfo.msg),e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"]))})},t.prototype.deleteProduct=function(t){var e=this;if(this.globalService.demoAlert("",""))return!1;var i="",n="";if("id"==t)n=this.editStatusProductId;else if("all"==t){var r=0;if(this.selects.forEach(function(t,e,i){1==t&&(n+=e+",",r+=1)}),r<1)return i="请确认已选中需要删除的信息！",alert(i),!1}var a="";if(this.select_category_ids.forEach(function(t,e,i){1==t&&(a+=e+",")}),i="您确定要删除该信息吗？",confirm(i)){var o=this.globalService.getDomain()+"/api/v1/deleteProductById?p_id="+n+"&category_ids="+a+"&p_type="+this.p_type+"&type="+t+"&sid="+this.cookieStore.getCookie("sid");this.http.delete(o).map(function(t){return t.json()}).subscribe(function(t){if(e.productList=t,202==e.productList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.productList){e.productList.result.productList.current_page==e.productList.result.productList.last_page?e.next=!0:e.next=!1,1==e.productList.result.productList.current_page?e.prev=!0:e.prev=!1,e.selects=[];for(var i=0,n=e.productList.result.productList.data;i<n.length;i++){var r=n[i];e.selects[r.p_id]=!1}e.check=!1}})}},t.prototype.selectDepartment=function(t,e,n,r){var a=this;if(1==r)1==this.select_category_ids[t]?(this.productDefault.result.categoryList[e]&&this.productDefault.result.categoryList[e].child_count>=1&&this.productDefault.result.categoryList[e].child.forEach(function(t,e,i){a.select_category_ids[t.category_id]=!1}),this.select_category_ids[t]=!1):(this.select_category_ids[t]=!0,this.productDefault.result.categoryList[e]&&(console.log(this.productDefault.result.categoryList[e].child_count),this.productDefault.result.categoryList[e].child_count>=1&&this.productDefault.result.categoryList[e].child.forEach(function(t,e,i){console.log(t.category_id),a.select_category_ids[t.category_id]=!0})));else if(1!=r)if(1==this.select_category_ids[t])this.select_category_ids[r]=!1,this.select_category_ids[t]=!1;else{this.select_category_ids[t]=!0;var o=0;this.productDefault.result.categoryList[e]&&this.productDefault.result.categoryList[e].child_count>=1&&this.productDefault.result.categoryList[e].child.forEach(function(t,e,n){(0==a.select_category_ids[t.category_id]||i.i(l.isUndefined)(a.select_category_ids[t.category_id]))&&o++}),0==o&&(this.select_category_ids[r]=!0)}var s="";this.select_category_ids.forEach(function(t,e,i){1==t&&(s+=e+",")}),this.editStatusProductId=0,this.isStatus=0,this.getProductList("1",s)},t.prototype.isStatusShow=function(t,e){var i=this;this.editStatusProductId=t,this.isStatus=e,this.isAll=0,this.width="0%",this.width_1="80%",this.selects.forEach(function(t,e,n){1==t&&(i.selects[e]=!1)})},t.prototype.editStatus=function(t,e){var i=this,n="";"all"==e?this.selects.forEach(function(t,e,i){1==t&&(n+=e+",")}):n=this.editStatusProductId;var r="";if(this.select_category_ids.forEach(function(t,e,i){1==t&&(r+=e+",")}),!n)return alert("请确保已选中需要操作的项！"),!1;this.http.post(this.globalService.getDomain()+"/api/v1/addProduct",{p_id:n,p_status:t,type:e,p_type:this.p_type,category_ids:r,keyword:this.keyword.trim(),sid:this.cookieStore.getCookie("sid")}).subscribe(function(t){var e=JSON.parse(t._body);if(alert(e.msg),200==e.status){if(i.productList=e,i.productList){i.productList.result.productList.current_page==i.productList.result.productList.last_page?i.next=!0:i.next=!1,1==i.productList.result.productList.current_page?i.prev=!0:i.prev=!1,i.selects=[];for(var n=0,r=i.productList.result.productList.data;n<r.length;n++){var a=r[n];i.selects[a.p_id]=!1}i.check=!1}}else 202==e.status&&(i.cookieStore.removeAll(i.rollback_url),i.router.navigate(["/auth/login"]));i.editStatusProductId=0,i.isStatus=0})},t.prototype.showAllCheck=function(){0==this.isAll&&(this.isAll=1,this.editStatusProductId=0,this.isStatus=0,this.width="10%",this.width_1="70%")},t.prototype.selectCategoryAll=function(){var t=this;1==this.select_category_ids[0]?(this.select_category_ids[0]=!1,this.productDefault.result.categoryList.forEach(function(e,i,n){t.select_category_ids[e.category_id]=!1,e.has_child>=1&&e.child.forEach(function(e,i,n){t.select_category_ids[e.category_id]=!1})})):(this.select_category_ids[0]=!0,this.productDefault.result.categoryList.forEach(function(e,i,n){t.select_category_ids[e.category_id]=!0,e.has_child>=1&&e.child.forEach(function(e,i,n){t.select_category_ids[e.category_id]=!0})}));var e="";this.select_category_ids.forEach(function(t,i,n){1==t&&(e+=i+",")}),this.getProductList("1",e)},t.prototype.showLeftUl=function(t){this.showUl=t},t.prototype.showLeftUlChild=function(t){this.showUlChild=t},t.prototype.postFile=function(){var t=this,e=document.forms[0],i=new FormData(e);i.append("uploadedfile",this.globalService.convertBase64UrlToBlob(this.data1.image),"product_"+(new Date).getTime()+".png");var n,r=new XMLHttpRequest;r.open("POST",this.globalService.getDomain()+"/api/v1/uploadFile"),r.onreadystatechange=function(){4==r.readyState&&(200==r.status?(n=JSON.parse(r.response),200==n.status?(t.path=n.result,alert("上传成功")):alert("上传失败，无法获取图片上传地址"),t.imgList.push(t.path),console.log(t.imgList)):alert("上传失败,检查上传地址是否正确"))},r.send(i)},t.prototype.removeImg=function(t){this.imgList.splice(t,1)},t.prototype.smartModEg1=function(){this.notificationService.smartMessageBox({title:"添加",content:"请在新页面添加选项，添加完成后在当前页面点击<i class='fa fa-link'></i>刷新按钮继续选择（注：刷新按钮只是局部刷新）",buttons:"[取消][确定]"},function(t){})},t}();d([i.i(n.ViewChild)("cropper",void 0),u("design:type","function"==typeof(f=void 0!==h.c&&h.c)&&f||Object)],g.prototype,"cropper",void 0),d([i.i(n.ViewChild)("lgModal"),u("design:type","function"==typeof(b=void 0!==c.h&&c.h)&&b||Object)],g.prototype,"lgModal",void 0),g=d([i.i(n.Component)({selector:"app-setting-archives",template:i("KTZk"),encapsulation:n.ViewEncapsulation.None,styles:[i("f1tB")]}),u("design:paramtypes",["function"==typeof(m=void 0!==r.d&&r.d)&&m||Object,"function"==typeof(v=void 0!==a.a&&a.a)&&v||Object,"function"==typeof(y=void 0!==o.a&&o.a)&&y||Object,"function"==typeof(x=void 0!==s.a&&s.a)&&x||Object,"function"==typeof(w=void 0!==p.a&&p.a)&&w||Object])],g);var f,b,m,v,y,x,w},orhe:function(t,e,i){"use strict";var n=i("3j3K"),r=i("Ggwh"),a=i("Oj6k"),o=i("y4dK"),s=i("pHts");i.d(e,"a",function(){return c});var c=function(){function t(t){this.cropPositionChange=new n.EventEmitter,this.onCrop=new n.EventEmitter,this.renderer=t}return t.prototype.ngAfterViewInit=function(){var t=this.cropcanvas.nativeElement;this.settings||(this.settings=new a.a),this.renderer.setElementAttribute(t,"class",this.settings.cropperClass),this.settings.dynamicSizing?(this.windowListener=this.resize.bind(this),window.addEventListener("resize",this.windowListener)):(this.renderer.setElementAttribute(t,"width",this.settings.canvasWidth.toString()),this.renderer.setElementAttribute(t,"height",this.settings.canvasHeight.toString())),this.cropper||(this.cropper=new r.a(this.settings)),this.cropper.prepare(t)},t.prototype.ngOnChanges=function(t){if(this.isCropPositionChanged(t)){if(this.cropper.updateCropPosition(this.cropPosition.toBounds()),this.cropper.isImageSet()){var e=this.cropper.getCropBounds();this.image.image=this.cropper.getCroppedImageHelper().src,this.onCrop.emit(e)}this.updateCropBounds()}t.inputImage&&this.setImage(t.inputImage.currentValue)},t.prototype.ngOnDestroy=function(){this.settings.dynamicSizing&&this.windowListener&&window.removeEventListener("resize",this.windowListener)},t.prototype.onTouchMove=function(t){this.cropper.onTouchMove(t)},t.prototype.onTouchStart=function(t){this.cropper.onTouchStart(t)},t.prototype.onTouchEnd=function(t){this.cropper.onTouchEnd(t),this.cropper.isImageSet()&&(this.image.image=this.cropper.getCroppedImageHelper().src,this.onCrop.emit(this.cropper.getCropBounds()),this.updateCropBounds())},t.prototype.onMouseDown=function(t){this.cropper.onMouseDown(t)},t.prototype.onMouseUp=function(t){this.cropper.isImageSet()&&(this.cropper.onMouseUp(t),this.image.image=this.cropper.getCroppedImageHelper().src,this.onCrop.emit(this.cropper.getCropBounds()),this.updateCropBounds())},t.prototype.onMouseMove=function(t){this.cropper.onMouseMove(t)},t.prototype.fileChangeListener=function(t){if(0!==t.target.files.length){var e=t.target.files[0];if(this.settings.allowedFilesRegex.test(e.name)){var i=new Image,n=new FileReader,r=this;n.addEventListener("loadend",function(t){i.addEventListener("load",function(){r.setImage(i)}),i.src=t.target.result}),n.readAsDataURL(e)}}},t.prototype.resize=function(){var t=this.cropcanvas.nativeElement;this.settings.canvasWidth=t.offsetWidth,this.settings.canvasHeight=t.offsetHeight,this.cropper.resizeCanvas(t.offsetWidth,t.offsetHeight,!0)},t.prototype.reset=function(){this.cropper.reset(),this.renderer.setElementAttribute(this.cropcanvas.nativeElement,"class",this.settings.cropperClass),this.image.image=this.cropper.getCroppedImageHelper().src},t.prototype.setImage=function(t,e){var i=this;void 0===e&&(e=null);var n=this;this.renderer.setElementAttribute(this.cropcanvas.nativeElement,"class",this.settings.cropperClass+" "+this.settings.croppingClass),this.raf=window.requestAnimationFrame(function(){n.raf&&window.cancelAnimationFrame(n.raf),t.naturalHeight>0&&t.naturalWidth>0&&(t.height=t.naturalHeight,t.width=t.naturalWidth,window.cancelAnimationFrame(n.raf),n.getOrientedImage(t,function(t){if(i.settings.dynamicSizing){var r=i.cropcanvas.nativeElement;i.settings.canvasWidth=r.offsetWidth,i.settings.canvasHeight=r.offsetHeight,i.cropper.resizeCanvas(r.offsetWidth,r.offsetHeight,!1)}n.cropper.setImage(t),n.cropPosition&&n.cropPosition.isInitialized()&&n.cropper.updateCropPosition(n.cropPosition.toBounds()),n.image.original=t;var a=n.cropper.getCropBounds();n.image.image=n.cropper.getCroppedImageHelper().src,null!=e&&(a=e,n.cropper.setBounds(a),i.cropper.updateCropPosition(a)),n.onCrop.emit(a)}))})},t.prototype.isCropPositionChanged=function(t){return!!(this.cropper&&t.cropPosition&&this.isCropPositionUpdateNeeded)||(this.isCropPositionUpdateNeeded=!0,!1)},t.prototype.updateCropBounds=function(){var t=this.cropper.getCropBounds();this.cropPositionChange.emit(new s.a(t.left,t.top,t.width,t.height)),this.isCropPositionUpdateNeeded=!1},t.prototype.getOrientedImage=function(t,e){var i;o.a.getData(t,function(){var n=o.a.getTag(t,"Orientation");if([3,6,8].indexOf(n)>-1){var r=document.createElement("canvas"),a=r.getContext("2d"),s=t.width,c=t.height,l=0,h=0,p=0;switch(n){case 3:l=-t.width,h=-t.height,p=180;break;case 6:s=t.height,c=t.width,h=-t.height,p=90;break;case 8:s=t.height,c=t.width,l=-t.width,p=270}r.width=s,r.height=c,a.rotate(p*Math.PI/180),a.drawImage(t,l,h),i=document.createElement("img"),i.width=s,i.height=c,i.addEventListener("load",function(){e(i)}),i.src=r.toDataURL("image/png")}else i=t,e(i)})},t.decorators=[{type:n.Component,args:[{selector:"img-cropper",template:'\n        <span class="ng2-imgcrop">\n          <input *ngIf="!settings.noFileInput" type="file" accept="image/*" (change)="fileChangeListener($event)">\n          <canvas #cropcanvas\n                  (mousedown)="onMouseDown($event)"\n                  (mouseup)="onMouseUp($event)"\n                  (mousemove)="onMouseMove($event)"\n                  (mouseleave)="onMouseUp($event)"\n                  (touchmove)="onTouchMove($event)"\n                  (touchend)="onTouchEnd($event)"\n                  (touchstart)="onTouchStart($event)">\n          </canvas>\n        </span>\n      '}]}],t.ctorParameters=function(){return[{type:n.Renderer}]},t.propDecorators={cropcanvas:[{type:n.ViewChild,args:["cropcanvas",void 0]}],settings:[{type:n.Input,args:["settings"]}],image:[{type:n.Input,args:["image"]}],inputImage:[{type:n.Input,args:["inputImage"]}],cropper:[{type:n.Input}],cropPosition:[{type:n.Input}],cropPositionChange:[{type:n.Output}],onCrop:[{type:n.Output}]},t}()},pHts:function(t,e,i){"use strict";var n=i("WNfM");i.d(e,"a",function(){return r});var r=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===n&&(n=0),this.x=+t,this.y=+e,this.w=+i,this.h=+n}return t.prototype.toBounds=function(){return new n.a(this.x,this.y,this.w,this.h)},t.prototype.isInitialized=function(){return 0!==this.x&&0!==this.y&&0!==this.w&&0!==this.h},t}()},pvSQ:function(t,e,i){"use strict";var n=i("3j3K"),r=i("2Je8"),a=i("NVOs"),o=i("Fzro"),s=i("5oXY"),c=i("Exih"),l=i("65Up"),h=(i.n(l),i("47rR")),p=i("SbvU"),d=i("xA9f"),u=i("Na7Z"),g=i("ZFXo"),f=i("ynTK"),b=i("IoIA"),m=i("kCVe"),v=i("xc2x"),y=i("lnCK");i.d(e,"a",function(){return w});var x=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},w=function(){function t(){}return t}();w=x([i.i(n.NgModule)({imports:[r.CommonModule,a.a,o.a,s.b],declarations:[],exports:[r.CommonModule,a.a,o.a,s.b,c.a,c.b,c.c,c.d,c.e,c.f,c.g,l.PopoverModule,h.a,p.a,g.a,v.a,y.a,m.a,u.a,f.a,b.a,d.a]})],w)},qWpH:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){this.strokeWidth=1,this.strokeColor="rgba(255,255,255,1)",this.dragIconStrokeWidth=1,this.dragIconStrokeColor="rgba(0,0,0,1)",this.dragIconFillColor="rgba(255,255,255,1)"}return t}()},sgBC:function(t,e,i){i("P+fo")(i("hA8a"))},sz1r:function(t,e,i){"use strict";var n=i("3j3K"),r=i("CmaY");i.n(r);i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.container=t,this.counter=0}return t.prototype.render=function(){$(".easy-pie-chart",this.container.nativeElement).each(function(t,e){var i=$(e),n=i.css("color")||i.data("pie-color"),r=i.data("pie-track-color")||"rgba(0,0,0,0.04)",a=parseInt(i.data("pie-size"))||25;i.easyPieChart({barColor:n,trackColor:r,scaleColor:!1,lineCap:"butt",lineWidth:a/8.5,animate:1500,rotate:-90,size:a,onStep:function(t,e,i){$(this.el).find(".percent").text(Math.round(i))}})})},t.prototype.ngAfterContentChecked=function(){var t=this,e=$(".easy-pie-chart").length;e!=this.counter&&(this.counter=e,setTimeout(function(){t.render()},25))},t.prototype.ngAfterContentInit=function(){this.render()},t}();s=a([i.i(n.Directive)({selector:"[saEasyPieChartContainer]"}),o("design:paramtypes",["function"==typeof(c=void 0!==n.ElementRef&&n.ElementRef)&&c||Object])],s);var c},uyj9:function(t,e,i){"use strict";i("Jh0d")},vV8s:function(t,e,i){"use strict";var n=i("74BS");i.d(e,"a",function(){return r});var r=function(){function t(e){t._instance=this;for(var i=this.firstAvailable=new n.a,r=1;r<e;r++){var a=new n.a;i.next=a,i=a}}return Object.defineProperty(t,"instance",{get:function(){return t._instance},enumerable:!0,configurable:!0}),t.prototype.borrow=function(t,e){if(null==this.firstAvailable)throw"Pool exhausted";this.borrowed++;var i=this.firstAvailable;return this.firstAvailable=i.next,i.x=t,i.y=e,i},t.prototype.returnPoint=function(t){this.borrowed--,t.x=0,t.y=0,t.next=this.firstAvailable,this.firstAvailable=t},t}()},xS9c:function(t,e){t.exports='/**!\r\n * easyPieChart\r\n * Lightweight plugin to render simple, animated and retina optimized pie charts\r\n *\r\n * @license \r\n * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)\r\n * @version 2.1.6\r\n **/\r\n!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-0.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.trackWidth||b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});'},xc2x:function(t,e,i){"use strict";var n=i("3j3K"),r=i("NVOs"),a=i("2Je8"),o=i("3bjF"),s=i("V9dY");i.d(e,"a",function(){return l});var c=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},l=function(){function t(){}return t}();l=c([i.i(n.NgModule)({imports:[r.a,a.CommonModule],declarations:[],exports:[o.a,s.a]})],l)},y4dK:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(Number),a=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.debug&&console.log(t)},t}(),o=function(){function t(){}return t.addEvent=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},t.imageHasData=function(t){return!!t.exifdata},t.base64ToArrayBuffer=function(t){t=t.replace(/^data:([^;]+);base64,/gim,"");for(var e=atob(t),i=e.length,n=new ArrayBuffer(i),r=new Uint8Array(n),a=0;a<i;a++)r[a]=e.charCodeAt(a);return n},t.objectURLToBlob=function(t,e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){200!==i.status&&0!==i.status||e(i.response)},i.send()},t.getImageData=function(e,i){function n(n){var r=t.findEXIFinJPEG(n),a=t.findIPTCinJPEG(n);e.exifdata=r||{},e.iptcdata=a||{},i&&i.call(e)}if("src"in e&&e.src)if(/^data:/i.test(e.src)){var r=t.base64ToArrayBuffer(e.src);n(r)}else if(/^blob:/i.test(e.src)){var o=new FileReader;o.onload=function(t){n(t.target.result)},t.objectURLToBlob(e.src,function(t){o.readAsArrayBuffer(t)})}else{var s=new XMLHttpRequest;s.onload=function(){if(200!==s.status&&0!==s.status)throw"Could not load image";n(s.response)},s.open("GET",e.src,!0),s.responseType="arraybuffer",s.send(null)}else if(FileReader&&(e instanceof Blob||e instanceof File)){var c=new FileReader;c.onload=function(t){a.log("Got file of length "+t.target.result.byteLength),n(t.target.result)},c.readAsArrayBuffer(e)}},t.findEXIFinJPEG=function(e){var i=new DataView(e);if(a.log("Got file of length "+e.byteLength),255!==i.getUint8(0)||216!==i.getUint8(1))return a.log("Not a valid JPEG"),!1;for(var n,r=2,o=e.byteLength;r<o;){if(255!==i.getUint8(r))return a.log("Not a valid marker at offset "+r+", found: "+i.getUint8(r)),!1;if(n=i.getUint8(r+1),a.log(n),225===n)return a.log("Found 0xFFE1 marker"),t.readEXIFData(i,r+4);r+=2+i.getUint16(r+2)}},t.findIPTCinJPEG=function(e){var i=new DataView(e);if(a.log("Got file of length "+e.byteLength),255!==i.getUint8(0)||216!==i.getUint8(1))return a.log("Not a valid JPEG"),!1;for(var n=2,r=e.byteLength,o=function(t,e){return 56===t.getUint8(e)&&66===t.getUint8(e+1)&&73===t.getUint8(e+2)&&77===t.getUint8(e+3)&&4===t.getUint8(e+4)&&4===t.getUint8(e+5)};n<r;){if(o(i,n)){var s=i.getUint8(n+7);s%2!=0&&(s+=1),0===s&&(s=4);var c=n+8+s,l=i.getUint16(n+6+s);return t.readIPTCData(e,c,l)}n++}},t.readIPTCData=function(e,i,n){for(var r,a,o,s,c=new DataView(e),l={},h=i;h<i+n;)28===c.getUint8(h)&&2===c.getUint8(h+1)&&(s=c.getUint8(h+2))in t.IptcFieldMap&&(o=c.getInt16(h+3),o+5,a=t.IptcFieldMap[s],r=t.getStringFromDB(c,h+5,o),l.hasOwnProperty(a)?l[a]instanceof Array?l[a].push(r):l[a]=[l[a],r]:l[a]=r),h++;return l},t.readTags=function(e,i,n,r,o){for(var s,c,l=e.getUint16(n,!o),h={},p=0;p<l;p++)s=n+12*p+2,c=r[e.getUint16(s,!o)],c||a.log("Unknown tag: "+e.getUint16(s,!o)),h[c]=t.readTagValue(e,s,i,n,o);return h},t.readTagValue=function(e,i,n,a,o){var s,c,l,h,p,d,u=e.getUint16(i+2,!o),g=e.getUint32(i+4,!o),f=e.getUint32(i+8,!o)+n;switch(u){case 1:case 7:if(1===g)return e.getUint8(i+8,!o);for(s=g>4?f:i+8,c=[],h=0;h<g;h++)c[h]=e.getUint8(s+h);return c;case 2:return s=g>4?f:i+8,t.getStringFromDB(e,s,g-1);case 3:if(1===g)return e.getUint16(i+8,!o);for(s=g>2?f:i+8,c=[],h=0;h<g;h++)c[h]=e.getUint16(s+2*h,!o);return c;case 4:if(1===g)return e.getUint32(i+8,!o);for(c=[],h=0;h<g;h++)c[h]=e.getUint32(f+4*h,!o);return c;case 5:if(1===g)return p=e.getUint32(f,!o),d=e.getUint32(f+4,!o),l=new r(p/d),l.numerator=p,l.denominator=d,l;for(c=[],h=0;h<g;h++)p=e.getUint32(f+8*h,!o),d=e.getUint32(f+4+8*h,!o),c[h]=new r(p/d),c[h].numerator=p,c[h].denominator=d;return c;case 9:if(1===g)return e.getInt32(i+8,!o);for(c=[],h=0;h<g;h++)c[h]=e.getInt32(f+4*h,!o);return c;case 10:if(1===g)return e.getInt32(f,!o)/e.getInt32(f+4,!o);for(c=[],h=0;h<g;h++)c[h]=e.getInt32(f+8*h,!o)/e.getInt32(f+4+8*h,!o);return c}},t.getStringFromDB=function(t,e,i){for(var n="",r=e;r<e+i;r++)n+=String.fromCharCode(t.getUint8(r));return n},t.readEXIFData=function(e,i){if("Exif"!==t.getStringFromDB(e,i,4))return a.log("Not valid EXIF data! "+t.getStringFromDB(e,i,4)),!1;var n,r,o,s,c,l=i+6;if(18761===e.getUint16(l))n=!1;else{if(19789!==e.getUint16(l))return a.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),!1;n=!0}if(42!==e.getUint16(l+2,!n))return a.log("Not valid TIFF data! (no 0x002A)"),!1;var h=e.getUint32(l+4,!n);if(h<8)return a.log("Not valid TIFF data! (First offset less than 8)",e.getUint32(l+4,!n)),!1;if(r=t.readTags(e,l,l+h,t.TiffTags,n),r.ExifIFDPointer){s=t.readTags(e,l,l+r.ExifIFDPointer,t.Tags,n);for(o in s)if({}.hasOwnProperty.call(s,o)){switch(o){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":s[o]=t.StringValues[o][s[o]];break;case"ExifVersion":case"FlashpixVersion":s[o]=String.fromCharCode(s[o][0],s[o][1],s[o][2],s[o][3]);break;case"ComponentsConfiguration":var p="Components";s[o]=t.StringValues[p][s[o][0]]+t.StringValues[p][s[o][1]]+t.StringValues[p][s[o][2]]+t.StringValues[p][s[o][3]]}r[o]=s[o]}}if(r.GPSInfoIFDPointer){c=t.readTags(e,l,l+r.GPSInfoIFDPointer,t.GPSTags,n);for(o in c)if({}.hasOwnProperty.call(c,o)){switch(o){case"GPSVersionID":c[o]=c[o][0]+"."+c[o][1]+"."+c[o][2]+"."+c[o][3]}r[o]=c[o]}}return r},t.getData=function(e,i){return!((e instanceof Image||e instanceof HTMLImageElement)&&!e.complete)&&(t.imageHasData(e)?i&&i.call(e):t.getImageData(e,i),!0)},t.getTag=function(e,i){if(t.imageHasData(e))return e.exifdata[i]},t.getAllTags=function(e){if(!t.imageHasData(e))return{};var i,n=e.exifdata,r={};for(i in n)n.hasOwnProperty(i)&&(r[i]=n[i]);return r},t.pretty=function(e){if(!t.imageHasData(e))return"";var i,n=e.exifdata,r="";for(i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]?n[i]instanceof Number?r+=i+" : "+n[i]+" ["+n[i].numerator+"/"+n[i].denominator+"]\r\n":r+=i+" : ["+n[i].length+" values]\r\n":r+=i+" : "+n[i]+"\r\n");return r},t.readFromBinaryFile=function(e){return t.findEXIFinJPEG(e)},t.debug=!1,t.IptcFieldMap={120:"caption",110:"credit",25:"keywords",55:"dateCreated",80:"byline",85:"bylineTitle",122:"captionWriter",105:"headline",116:"copyright",15:"category"},t.Tags={36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubsecTime",37521:"SubsecTimeOriginal",37522:"SubsecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"ISOSpeedRatings",34856:"OECF",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRation",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",40965:"InteroperabilityIFDPointer",42016:"ImageUniqueID"},t.TiffTags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"},t.GPSTags={0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential"},t.StringValues={ExposureProgram:{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},Components:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}},t}()},yajt:function(t,e,i){"use strict";i("npGc"),i("0Pwg"),i("mLdU"),i("pNfa"),i("eHhq")},yqdk:function(t,e,i){"use strict";var n=i("T2D5");i.d(e,"a",function(){return a});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),a=function(t){function e(e,i,n,r){return t.call(this,e,i,n,r)||this}return r(e,t),e.prototype.drawCornerBorder=function(t){var e=10;(this.over||this.drag)&&(e=12);var i=1,n=1;if(this.horizontalNeighbour.position.x<this.position.x&&(i=-1),this.verticalNeighbour.position.y<this.position.y&&(n=-1),this.cropperSettings.rounded){var r=this.position.x-this.horizontalNeighbour.position.x,a=this.position.y-this.verticalNeighbour.position.y,o=Math.round(Math.sin(Math.PI/2)*Math.abs(r/2))/4,s=Math.round(Math.sin(Math.PI/2)*Math.abs(a/2))/4;this.offset.x=i>0?o:-o,this.offset.y=n>0?s:-s}else this.offset.x=0,this.offset.y=0;t.beginPath(),t.lineJoin="miter",t.moveTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*i,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*i,this.position.y+this.offset.y+e*n),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y+e*n),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.closePath(),t.lineWidth=this.cropperSettings.cropperDrawSettings.strokeWidth,t.strokeStyle=this.cropperSettings.cropperDrawSettings.strokeColor,t.stroke()},e.prototype.drawCornerFill=function(t){var e=10;(this.over||this.drag)&&(e=12);var i=1,n=1;this.horizontalNeighbour.position.x<this.position.x&&(i=-1),this.verticalNeighbour.position.y<this.position.y&&(n=-1),t.beginPath(),t.moveTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*i,this.position.y+this.offset.y),t.lineTo(this.position.x+this.offset.x+e*i,this.position.y+this.offset.y+e*n),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y+e*n),t.lineTo(this.position.x+this.offset.x,this.position.y+this.offset.y),t.closePath(),t.fillStyle="rgba(255,255,255,.7)",t.fill()},e.prototype.moveX=function(t){this.setPosition(t,this.position.y)},e.prototype.moveY=function(t){this.setPosition(this.position.x,t)},e.prototype.move=function(t,e){this.setPosition(t,e),this.verticalNeighbour.moveX(t),this.horizontalNeighbour.moveY(e)},e.prototype.addHorizontalNeighbour=function(t){this.horizontalNeighbour=t},e.prototype.addVerticalNeighbour=function(t){this.verticalNeighbour=t},e.prototype.getHorizontalNeighbour=function(){return this.horizontalNeighbour},e.prototype.getVerticalNeighbour=function(){return this.verticalNeighbour},e.prototype.draw=function(t){this.drawCornerFill(t),this.drawCornerBorder(t)},e}(n.a)},zeio:function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var r=this&&this.__decorate||function(t,e,i,n){var r,a=arguments.length,o=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(o=(a<3?r(o):a>3?r(e,i,o):r(e,i))||o);return a>3&&o&&Object.defineProperty(e,i,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(){}return t.prototype.render=function(){$(this.summernoteDetach).summernote("destroy")},t}();r([i.i(n.Input)(),a("design:type",Object)],o.prototype,"summernoteDetach",void 0),r([i.i(n.HostListener)("click"),a("design:type",Function),a("design:paramtypes",[]),a("design:returntype",void 0)],o.prototype,"render",null),o=r([i.i(n.Directive)({selector:"[summernoteDetach]"}),a("design:paramtypes",[])],o)}});