webpackJsonp([0,89],{"1lVi":function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return o});var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();o=i([n.i(r.Component)({selector:"sa-stats",template:n("f3lI")}),a("design:paramtypes",[])],o)},"1nuA":function(t,e,n){"use strict";e.decode=e.parse=n("kMPS"),e.encode=e.stringify=n("xaZU")},"2Dzw":function(t,e){t.exports='\x3c!-- MAIN CONTENT --\x3e\r\n<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'添加设备\']" icon="pencil-square-o"></sa-big-breadcrumbs>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12 ">\r\n        \x3c!-- Widget ID (each widget will need unique ID)--\x3e\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" >\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-edit"></i> </span>\r\n            <h2>添加设备</h2>\r\n          </header>\r\n          <div>\r\n            \x3c!-- widget content --\x3e\r\n            <div class="widget-body no-padding">\r\n              <form id="smart-form-register" class="smart-form" [formGroup]="formModel" (ngSubmit)="onSubmit()">\r\n               <fieldset>\r\n                 <input type="hidden" name="i3otp_id" formControlName="i3otp_id">\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">产品ID</label>\r\n                     <label class="input">\r\n                       <input type="text" placeholder="请输入产品ID" maxlength="20" name="i3otp_pid" formControlName="i3otp_pid"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">产品外部编号</label>\r\n                     <label class="input">\r\n                       <input type="text" placeholder="请输入产品外部编号" maxlength="20" name="i3otp_c_pid" formControlName="i3otp_c_pid"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">产品名称</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入产品名称" maxlength="20" name="i3otp_name" formControlName="i3otp_name"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">产品类别</label>\r\n                     <label class="select">\r\n                       <select name="i3otp_category" formControlName="i3otp_category" [(ngModel)]="i3otp_category_default">\r\n                        <option value="0" [selected]="this.i_id == 0">--请选择--</option>\r\n                         \x3c!--选择类型才出现功能选项，基站设备比安全帽少健康复选框--\x3e\r\n                         <option *ngFor="let cate of i3otpList.result?.categoryList" [selected]="i3otp_info.result?.i3otp_category == cate.category_id" value="{{cate.category_id}}">{{cate.category_desc}}</option>\r\n                       </select> <i></i> </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section>\r\n                   <label  class="label">传感器类型</label>\r\n                   <span class="select2 select2-container select2-container--default select2-container--below select2-container--focus" dir="ltr" style="width: 100%;">\r\n                       <span class="selection">\r\n                         <span class="select2-selection select2-selection--multiple" (click)="showColorDivSensor()">\r\n                           <ul class="select2-selection__rendered">\r\n                             <li class="select2-selection__choice" title="{{cs}}" *ngFor="let cs of show_join_sensor_category">\r\n                               <span class="select2-selection__choice__remove" (click)="deleteJoinSensor($event,cs)">\r\n                                 ×</span>{{cs}}\r\n                             </li>\r\n                             <li></li>\r\n                           </ul>\r\n                         </span>\r\n                       </span>\r\n                     </span>\r\n                   <span [ngClass]="{\'select2 select2-container--open select2-container select2-container--default select2-container--below select2-container--focus\':true,\'select-hidden\':div_show_sensor}" dir="ltr" style="width: 100%;position: absolute;">\r\n                       <span class="selection">\r\n                         <span class="select2-selection select2-selection--multiple select2-results select2-dropdown select2-drop-active" (mouseleave)="outMouseColor()">\r\n                          <ul class="select2-results__options select2-results__options--nested">\x3c!--  select2-results__option--highlighted--\x3e\r\n                            <li [ngClass]="{\'select2-results__option--highlighted\' : (color_category_id == sc.category_id),\'select2-results__option\':true}" (click)="sensorCategoryChange(sc.category_id,sc.category_desc)" (mouseenter)="divColor(sc.category_id)" *ngFor="let sc of i3otpList.result?.sensorCategoryList" value="{{sc.category_id}}">{{sc.category_desc}}</li>\r\n                          </ul>\r\n                         </span>\r\n                       </span>\r\n                     </span>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section>\r\n                     <label class="label">通信方式</label>\r\n                     <span class="select2 select2-container select2-container--default select2-container--below select2-container--focus" dir="ltr" style="width: 100%" >\r\n                       <span class="selection">\r\n                         <span class="select2-selection select2-selection--multiple" (click)="showColorDivComm()">\r\n                           <ul class="select2-selection__rendered">\r\n                             <li class="select2-selection__choice" title="{{c}}" *ngFor="let c of show_join_category">\r\n                               <span class="select2-selection__choice__remove" (click)="deleteJoin($event,c)">\r\n                                 ×</span>{{c}}\r\n                             </li>\r\n                             <li></li>\r\n                           </ul>\r\n                         </span>\r\n                       </span>\r\n                     </span>\r\n                     <span [ngClass]="{\'select2 select2-container--open select2-container select2-container--default select2-container--below select2-container--focus\':true,\'select-hidden\':div_show_comm}" dir="ltr" style="width: 100%;position: absolute;">\r\n                       <span class="selection">\r\n                         <span class="select2-selection select2-selection--multiple select2-results select2-dropdown select2-drop-active" (mouseleave)="outMouseColor()">\r\n                          <ul class="select2-results__options select2-results__options--nested">\x3c!-- select2-results__option--highlighted--\x3e\r\n                            <li [ngClass]="{ \'select2-results__option--highlighted\' : (color_category_id == cl.category_id),\'select2-results__option\':true} " (click)="categoryChange(cl.category_id,cl.category_desc)" (mouseenter)="divColor(cl.category_id)" *ngFor="let cl of i3otpList.result?.communicationList" value="{{cl.category_id}}">{{cl.category_desc}}</li>\r\n                          </ul>\r\n                         </span>\r\n                       </span>\r\n                     </span>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">Mac</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入Mac" maxlength="20" name="i3otp_mac_addr" formControlName="i3otp_mac_addr"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">产地</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入产地" maxlength="20" name="i3otp_p_origin" formControlName="i3otp_p_origin"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">硬件版本</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入硬件版本" maxlength="20" name="i3otp_hardware" formControlName="i3otp_hardware"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">固件版本</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入固件版本" maxlength="20" name="i3otp_firmware" formControlName="i3otp_firmware"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">固件更新日期</label>\r\n                     <label class="input">\r\n                       <input type="date"  name="i3otp_f_update" formControlName="i3otp_f_update"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">订单号</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入订单号" maxlength="20" name="o_id" formControlName="o_id"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">购买公司</label>\r\n                     <label class="select">\r\n                       <select name="c_id" formControlName="c_id" [(ngModel)]="c_id_default" (change)="getTheUserList($event,1)">\r\n                         <option value="0" [selected]="i_id == 0">--请选择--</option>\r\n                         <option *ngFor="let c of i3otpList.result?.customerList" [selected]="i3otp_info.result?.c_id == c.c_number" value="{{c.c_number}}">{{c.c_name}}</option>\r\n                       </select> <i></i> </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">内部质检员</label>\r\n                     <label class="select">\r\n                       <select name="u_id" formControlName="u_id" [(ngModel)]="u_id_default">\r\n                         <option value="0" [selected]="i_id == 0">--请选择--</option>\r\n                         <option *ngFor="let u of i3otpListUser.result?.userList" [selected]="i3otp_info.result?.u_id == u.name" value="{{u.name}}">{{u.u_username}}</option>\r\n                       </select> <i></i> </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section>\r\n                     <label class="label">内部质检日期</label>\r\n                     <label class="input">\r\n                       <input type="date" name="i3otp_qc_date" formControlName="i3otp_qc_date"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">绑定地址</label>\r\n                     <label class="input">\r\n                       <input type="text" placeholder="请输入绑定地址" maxlength="20" name="i3otp_address" formControlName="i3otp_address"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">激活码</label>\r\n                     <label class="input">\r\n                       <input type="text"  placeholder="请输入激活码" maxlength="20" name="i3otp_activation" formControlName="i3otp_activation"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">采样时间</label>\r\n                     <label class="input">\r\n                       <input type="date" placeholder="请输入采样时间" maxlength="20" name="i3otp_sensor_intervan" formControlName="i3otp_sensor_intervan"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">产品功能</label>\r\n                     <label class="textarea textarea-resizable">\r\n                       <textarea class="custom-scroll" placeholder="请输入产品功能" rows="6" name="i3otp_spec" formControlName="i3otp_spec" ></textarea>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">生产日期</label>\r\n                     <label class="input">\r\n                       <input type="date" placeholder="请输入生产日期" maxlength="20" name="i3otp_production_date" formControlName="i3otp_production_date"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>\r\n                 \x3c!--<div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">销售地点</label>\r\n                     <label class="input">\r\n                       <input type="text" placeholder="请输入销售地点" maxlength="30" name="i3otp_p_export" formControlName="i3otp_p_export"/>\r\n                     </label>\r\n                   </section>\r\n                 </div>--\x3e\r\n                 <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                   <section >\r\n                     <label class="label">是否激活</label>\r\n                     <div class="inline-group">\r\n                       <label class="radio">\r\n                         <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 1" [value]="1" name="i3otp_status" formControlName="i3otp_status">\r\n                         <i></i>激活</label>\r\n                       <label class="radio">\r\n                         <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 0" [value]="0" name="i3otp_status" formControlName="i3otp_status">\r\n                         <i></i>未激活</label>\r\n                       <label class="radio">\r\n                         <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 2" [value]="2" name="i3otp_status" formControlName="i3otp_status">\r\n                         <i></i>返厂维修</label>\r\n                       <label class="radio">\r\n                         <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 3" [value]="3" name="i3otp_status" formControlName="i3otp_status">\r\n                         <i></i>报废</label>\r\n                     </div>\r\n                   </section>\r\n                 </div>\r\n                 <div class="row ">\r\n                  \x3c!-- <div class=" col col-6 cl-sm-6">\r\n                     <section>\r\n                       <label>传感器类型</label>\r\n                       <span>{{join_sensor_category | json}}</span>\r\n                       <select multiple (change)="sensorCategoryChange($event)"  name="i3otp_sensor_category_" formControlName="i3otp_sensor_category_" style="width:100%;" class="select2" [(ngModel)]="i3otp_sensor_category_default">\r\n                           <option *ngFor="let scl of i3otpList.result?.sensorCategoryList" [selected]="i3otp_info.result?.i3otp_sensor_category == scl.category_id || this.i_id == 0" value="{{scl.category_id}}">{{scl.category_desc}}</option>\r\n                       </select>\r\n                     </section>\r\n                   </div> (mouseout)="outMouseColor()"--\x3e\r\n\r\n\r\n                   \x3c!--<div class=" col col-6 col-sm-6">\r\n                     <section>\r\n                       <label>通信方式</label>\r\n                       <label>\r\n                       <span>{{join_category | json}}</span>\r\n                       </label>\r\n                       <select multiple (change)="categoryChange($event)" name="i3otp_communication_" formControlName="i3otp_communication_" style="width:100%;" class="select2" [(ngModel)]="i3otp_communication_default">\r\n                           <option value="wifi" [selected]="i3otp_info.result?.i3otp_communication == \'wifi\' || this.i_id == 0" >wifi</option>\r\n                           <option value="LoRa" [selected]="i3otp_info.result?.i3otp_communication == \'LoRa\' ">LoRa</option>\r\n                           <option value="ZigBee" [selected]="i3otp_info.result?.i3otp_communication == \'ZigBee\' ">ZigBee</option>\r\n                           <option value="NB-IoT" [selected]="i3otp_info.result?.i3otp_communication == \'NB-IoT\' ">NB-IoT</option>\r\n                           <option value="485通讯线" [selected]="i3otp_info.result?.i3otp_communication == \'485通讯线\' ">485通讯线</option>\r\n                           <option value="矿用双绞线" [selected]="i3otp_info.result?.i3otp_communication == \'矿用双绞线\' ">矿用双绞线</option>\r\n                           <option value="其他" [selected]="i3otp_info.result?.i3otp_communication == \'其他\' ">其他</option>\r\n                       </select>\r\n                     </section>\r\n                   </div>(mouseout)="outMouseColor()"--\x3e\r\n\r\n\r\n                 </div>\r\n\r\n                 <div class="row">\r\n\r\n\r\n\r\n\r\n\r\n                   \x3c!--<section class="col col-6">--\x3e\r\n                   \x3c!--<label class="label">电池容量</label>--\x3e\r\n                   \x3c!--<label class="input">--\x3e\r\n                   \x3c!--<input type="text"  placeholder="请输入电池容量" maxlength="20" name="i3otp_activation" formControlName="i3otp_activation"/>--\x3e\r\n                   \x3c!--</label>--\x3e\r\n                   \x3c!--</section>--\x3e\r\n\r\n\r\n\r\n                 </div>\r\n\r\n\r\n\r\n               </fieldset>\r\n                <footer>\r\n                  <button type="button" class="btn btn-default" >\r\n                    返回\r\n                  </button>\r\n                  <button type="submit" class="btn btn-primary">\r\n                    保存\r\n                  </button>\r\n                </footer>\r\n              </form>\r\n            </div>\r\n            \x3c!-- end widget content --\x3e\r\n          </div>\r\n          \x3c!-- end widget div --\x3e\r\n        </sa-widget>\r\n      </article>\r\n      \x3c!-- END COL --\x3e\r\n    </div>\r\n    \x3c!-- END ROW --\x3e\r\n  </sa-widgets-grid>\r\n  \x3c!-- end widget grid --\x3e\r\n</div>\r\n'},"2PQq":function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2");n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();s=a([n.i(i.a)(),n.i(r.Component)({selector:"app-full-tables",template:n("F2HE")}),o("design:paramtypes",[])],s)},"2vdw":function(t,e,n){"use strict";var r=n("3j3K"),i=n("Fzro"),a=n("R12H"),o=n("NVOs"),s=n("ntJC"),l=n("5oXY");n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this.http=e,this.router=n,this.cookieStore=r,this.globalService=i,this.state={tabs:{demo1:0,demo2:"tab-r1",demo3:"hr1",demo4:"AA",demo5:"iss1",demo6:"l1",demo7:"tab1",demo8:"hb1",demo9:"A1",demo10:"is1"}},this.i3otpList=[],this.prev=!1,this.next=!1,this.i3otpInfo=[],this.rollback_url="/equipment/helmet-list",this.formModel=t.group({keyword:[""]}),this.getI3otpList("1"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){},t.prototype.getI3otpList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getI3otpList?page="+t+"&i3otp_category=1&sid="+this.cookieStore.getCookie("sid");""!=this.formModel.value.keyword.trim()&&(n+="&keyword="+this.formModel.value.keyword.trim()),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.i3otpList=t}),setTimeout(function(){console.log("this.i3otpList:--"),console.log(e.i3otpList),e.i3otpList&&(e.i3otpList.result.i3otpList.current_page==e.i3otpList.result.i3otpList.last_page?e.next=!0:e.next=!1,1==e.i3otpList.result.i3otpList.current_page?e.prev=!0:e.prev=!1)},400)},t.prototype.pagination=function(t){t&&(this.page=t.substring(t.lastIndexOf("=")+1,t.length),this.getI3otpList(this.page))},t.prototype.onSubmit=function(){if(""==this.formModel.value.keyword.trim())return alert("请输入需要搜索的关键字"),!1;this.getI3otpList("1")},t.prototype.getI3otpInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpInfo?i_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.i3otpInfo=t}),setTimeout(function(){console.log("this.i3otpInfo:-----"),console.log(e.i3otpInfo)},300)},t.prototype.deleteI3otp=function(t,e){var n=this;confirm("您确定要删除该条信息吗？")&&(this.http.delete(this.globalService.getDomain()+"/api/v1/deleteI3otpById?i_id="+t+"&page="+e+"&type=id&i3otp_category=1&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){n.i3otpList=t}),setTimeout(function(){202==n.i3otpList.status&&(n.cookieStore.removeAll(n.rollback_url),n.router.navigate(["/auth/login"])),n.i3otpList&&(n.i3otpList.result.i3otpList.current_page==n.i3otpList.result.i3otpList.last_page?n.next=!0:n.next=!1,1==n.i3otpList.result.i3otpList.current_page?n.prev=!0:n.prev=!1)},300))},t}();p=c([n.i(r.Component)({selector:"app-helmet-list",template:n("VLYa")}),d("design:paramtypes",["function"==typeof(h=void 0!==o.e&&o.e)&&h||Object,"function"==typeof(u=void 0!==i.d&&i.d)&&u||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object])],p);var h,u,f,g,b},"3Cgk":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".demo-chart{height:400px;margin-bottom:50px}.div-block{display:inline-block;width:25%}",""]),t.exports=t.exports.toString()},"3bjF":function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("Ute4");n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=function(){function t(){}return t}();s=o([n.i(r.NgModule)({imports:[i.CommonModule],declarations:[a.a],exports:[a.a]})],s)},"3rDK":function(t,e,n){"use strict";var r=n("5oXY"),i=n("VOu7"),a=n("sVpQ"),o=n("2vdw"),s=n("WZNu"),l=n("rBuf"),c=n("KIJB"),d=n("GOFk"),p=n("XV9o"),h=n("ILEn"),u=n("LDb3"),f=n("9HBq"),g=n("r276"),b=n("2PQq"),m=n("JfQF"),v=n("FpLB"),_=n("ID0o"),y=n("r+Jc"),x=n("fBj0");n.d(e,"a",function(){return k});var w=[{path:"equipment-positioning",component:i.a},{path:"equipment-beacon",component:a.a},{path:"helmet-list",component:o.a},{path:"helmet-chart",component:d.a,canDeactivate:[y.a]},{path:"station-chart",component:p.a,canDeactivate:[g.a]},{path:"station-list",component:s.a},{path:"chart-setting",component:h.a},{path:"data-map",component:u.a,canDeactivate:[f.a]},{path:"phonics/:b_id",component:c.a},{path:"i3otp/:i_id",component:l.a},{path:"full-tables",component:b.a},{path:"todo-details",component:m.a},{path:"equipment-list",component:v.a},{path:"add-equipment/:i_id",component:_.a},{path:"phonics-list",component:x.a}],k=r.b.forChild(w)},"3yjK":function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return o});var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(t){this.el=t}return t.prototype.ngOnInit=function(){var t=this;n.e(87).then(n.bind(null,"Tci7")).then(function(){$(t.el.nativeElement).progressbar(t.saProgressbar||{display_text:"fill"})})},t}();i([n.i(r.Input)(),a("design:type",Object)],o.prototype,"saProgressbar",void 0),o=i([n.i(r.Directive)({selector:"[saProgressbar]"}),a("design:paramtypes",["function"==typeof(s=void 0!==r.ElementRef&&r.ElementRef)&&s||Object])],o);var s},"47rR":function(t,e,n){"use strict";var r=(n("TqQ6"),n("Ap4N"),n("Yk75"));n.d(e,"a",function(){return r.a});n("Dh6c"),n("DF0p"),n("yajt"),n("VnpU"),n("dGcM")},"4YPz":function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'基站传感数据\']" icon="file-text-o" class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12">\r\n        <sa-widget  [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header><span class="widget-icon"> <i class="fa fa-comments"></i> </span>\r\n            <h2>基站传感数据</h2>\r\n            <div class="jarviswidget-ctrls" role="menu">\r\n              <a routerLink="/equipment/chart-setting" href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom">\r\n                <i class="fa fa-cog"></i></a>\r\n            </div>\r\n          </header>\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="row">\r\n                <article class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <div class="collapse navbar-collapse" >\r\n                      <form class="navbar-form navbar-left" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate >\r\n                        <div class="form-group">\r\n                          <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                        </div>\r\n                        <button type="submit" class="btn btn-default">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n              <div class="dataTables_wrapper">\r\n                <table class="dataTable responsive table table-striped table-bordered table-hover" >\r\n                  <thead>\r\n                  <tr  role="row">\r\n                    <th class="details-control sorting_disabled percent-6"></th>\r\n                    <th class="percent-12">\r\n                      设备\r\n                    </th>\r\n                    <th  class="percent-12">\r\n                      设备名称\r\n                    </th>\r\n                    <th class="percent-34">\r\n                      检测数据\r\n                    </th>\r\n                    <th class="percent-10">\r\n                      状态\r\n                    </th>\r\n                    <th class="percent-10">\r\n                      采集数据时间\r\n                    </th>\r\n                    <th class="percent-16">操作</th>\r\n                  </tr>\r\n                  </thead>\r\n                </table>\r\n                <table *ngFor="let il of i3otpList.result?.i3otpList?.data;let ind = index;" class="dataTable responsive table table-striped table-bordered table-hover">\r\n                  <tbody *ngIf="il.i3otp_attribute1.length!=0 && newList.length != 0">\r\n                  <tr role="row" *ngIf="status.indexOf(\',\'+ind+\',\') === -1" [ngClass]="{ \'odd\' : (ind%2 == 0), \'even\': (ind%2 != 0) }">\x3c!-- shown--\x3e\r\n                    <td class=" details-control percent-6" (click)="changeStatus(ind,\'+\')" *ngIf="il.i3otp_attribute1.length!=0">\r\n                    </td>\r\n                    <td class="percent-6" *ngIf="il.i3otp_attribute1.length==0">\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{il.i3otp_address}}\r\n                      <br>\r\n                      <small class="text-muted">\r\n                        <i>ID: {{il.i3otp_pid}}</i>\r\n                      </small>\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{il.i3otp_name}}\r\n                    </td>\r\n                    <td class="percent-34">\r\n                      <a (click)="showLine(ind,i1)" class="btn btn-success btn-xs" *ngFor="let i1 of il.i3otp_attribute1;let in1 = index;">\r\n                        {{i1}}({{newList[ind][in1].value}}\r\n                        <sub *ngIf="newList[ind][in1].name == \'ch4\' || newList[ind][in1].name == \'co2\' || newList[ind][in1].name == \'o2\' || newList[ind][in1].name == \'humi\'">%</sub>\r\n                        <sub *ngIf="newList[ind][in1].name == \'co\'">PPM</sub>\r\n                        <sub *ngIf="newList[ind][in1].name == \'tem\'">°C</sub>)</a>\r\n                    </td>\r\n                    <td class="percent-10">\r\n                      <i *ngIf="il.i3otp_status == 0" class="fa fa-circle txt-color-darken font-xs">未激活</i>\r\n                      <i *ngIf="il.i3otp_status == 1" class="fa fa-circle text-danger font-xs">使用中</i>\r\n                      <i *ngIf="il.i3otp_status == 2" class="fa fa-circle txt-color-darken font-xs">返厂维修</i>\r\n                      <i *ngIf="il.i3otp_status == 3" class="fa fa-circle txt-color-darken font-xs">报废</i>\r\n                    </td>\r\n                    \x3c!--il.i3otp_sensor_intervan--\x3e\r\n                    <td class="percent-10">{{newList[ind][(newList[ind].length-1)].time}}</td>\r\n                    <td class="percent-16" *ngIf="il.i3otp_attribute1.length!=0">\r\n                      <a (click)="notificationExample2( il.i3otp_pid,il.i3otp_str)" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i> 添加对比</a>\r\n                    </td>\r\n                    <td class="percent-16" *ngIf="il.i3otp_attribute1.length==0">\r\n                    </td>\r\n                  </tr>\r\n                  <tr role="row" *ngIf="status.indexOf(\',\'+ind+\',\') != -1" [ngClass]="{ \'odd\' : (ind%2 == 0), \'even\': (ind%2 != 0) ,\'shown\':true} ">\x3c!-- shown--\x3e\r\n                    <td class=" details-control percent-6" (click)="changeStatus(ind,\'-\')"  *ngIf="il.i3otp_attribute1.length!=0">\r\n                    </td>\r\n                    <td class="percent-6" *ngIf="il.i3otp_attribute1.length==0 ">\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{il.i3otp_address}}\r\n                      <br>\r\n                      <small class="text-muted">\r\n                        <i>ID: {{il.i3otp_pid}}</i>\r\n                      </small>\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{il.i3otp_name}}\r\n                    </td>\r\n                    <td class="percent-34">\r\n                      <a (click)="showLine(ind,i1)" class="btn btn-success btn-xs" *ngFor="let i1 of il.i3otp_attribute1;let in1 = index;">\r\n                      {{i1}}({{newList[ind][in1].value}}\r\n                      <sub *ngIf="newList[ind][in1].name == \'ch4\' || newList[ind][in1].name == \'co2\' || newList[ind][in1].name == \'o2\' || newList[ind][in1].name == \'humi\'">%</sub>\r\n                      <sub *ngIf="newList[ind][in1].name == \'co\'">PPM</sub>\r\n                      <sub *ngIf="newList[ind][in1].name == \'tem\'">°C</sub>)</a>\r\n                      \x3c!--<a (click)="showLine(ind,i2)" class="btn btn-success btn-xs" *ngFor="let i2 of il.i3otp_attribute2">{{i2}}</a>--\x3e\r\n                      \x3c!--<a (click)="showLine(ind,i3)" class="btn btn-success btn-xs" *ngFor="let i3 of il.i3otp_attribute3">{{i3}}</a>--\x3e\r\n                    </td>\r\n                    <td class="percent-10">\r\n                      <i *ngIf="il.i3otp_status == 0" class="fa fa-circle txt-color-darken font-xs">未激活</i>\r\n                      <i *ngIf="il.i3otp_status == 1" class="fa fa-circle text-danger font-xs">使用中</i>\r\n                      <i *ngIf="il.i3otp_status == 2" class="fa fa-circle txt-color-darken font-xs">返厂维修</i>\r\n                      <i *ngIf="il.i3otp_status == 3" class="fa fa-circle txt-color-darken font-xs">报废</i>\r\n                    </td>\r\n                    \x3c!--il.i3otp_sensor_intervan--\x3e\r\n                    <td class="percent-10">{{newList[ind][(newList[ind].length-1)].time}}</td>\r\n                    <td class="percent-16" *ngIf="il.i3otp_attribute1.length!=0">\x3c!-- || il.i3otp_attribute2.length!=0 || il.i3otp_attribute3.length!=0--\x3e\r\n                      <a (click)="notificationExample2( il.i3otp_pid,il.i3otp_str)" class="btn btn-primary"><i class="glyphicon glyphicon-plus"></i> 添加对比</a>\r\n                      \x3c!--<a (click)="showJoinPic();" class="btn btn-warning btn-xs" ><span class="glyphicon glyphicon-adjust"></span>查看对比图</a>--\x3e\r\n                    </td>\r\n                    <td class="percent-16" *ngIf="il.i3otp_attribute1.length==0">\x3c!-- && il.i3otp_attribute2.length==0 && il.i3otp_attribute3.length==0--\x3e\r\n                    </td>\r\n                  </tr>\r\n                  <tr *ngIf="status.indexOf(\',\'+ind+\',\') != -1">\r\n                    <td colspan="7">\r\n                      <table class="table table-hover table-condensed">\r\n                        <tbody>\r\n                        \x3c!--加载完成隐藏--\x3e\r\n                        <tr *ngIf="!chartOption1[ind]">\r\n                          <td  colspan="2" class="text-align-center" ><img  src="assets/img/select2-spinner.gif" >\r\n                            <h4 class="txt-color-darken" >加载中</h4></td>\r\n                        </tr>\r\n                        \x3c!--<tr *ngIf="chartOption1[ind].legend.data.length == 0">--\x3e\r\n                          \x3c!--<td colspan="2">--\x3e\r\n                            \x3c!--<h4 class="text-align-center" >--\x3e\r\n                              \x3c!--无检测信息--\x3e\r\n                            \x3c!--</h4>--\x3e\r\n                          \x3c!--</td>--\x3e\r\n                        \x3c!--</tr>--\x3e\r\n                        <tr *ngFor="let pc1 of chartOption1[ind];let pic1 = index;">\r\n                          <td class="percent-50" style="border-right:1px solid #ccc;" *ngIf="pic1%2==0">\r\n                            <h4 class="text-align-center" *ngIf="chartOption1[ind][\'l\'+pic1]== 0">\r\n                              {{chartOption1[ind][pic1].legend.data[0]}}无检测信息\r\n                            </h4>\r\n                            <div *ngIf="chartOption1[ind][\'l\'+pic1] > 0" echarts [options]="chartOption1[ind][pic1]" class="demo-chart" ></div>\r\n                          </td>\r\n                          <td  class="percent-50" *ngIf="pic1%2==0 && ((pic1+1) <= chartOption1[ind].length)">\r\n                            <h4 class="text-align-center" *ngIf="chartOption1[ind][\'l\'+pic1] == 0">\r\n                              {{chartOption1[ind][pic1+1].legend.data[0]}}无检测信息\r\n                            </h4>\r\n                            <div *ngIf="chartOption1[ind][\'l\'+pic1] > 0" echarts [options]="chartOption1[ind][pic1+1]" class="demo-chart" ></div>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td colspan="2">\r\n                            <h4 class="text-align-center" >\r\n                              该基站下有<strong>{{il.location_count}}</strong>人&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;异常人员有<a ><strong data-toggle="modal" data-target="#myModal" style="color: #a90329;">&nbsp;&nbsp;4&nbsp;&nbsp;</strong></a>人&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;占总人数的30/4\r\n                            </h4>\r\n                          </td>\r\n                        </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \x3c!-- 底部-（分页部分）--\x3e\r\n              <div class="dt-toolbar-footer" *ngIf="newList.length == 0">\r\n                <div class="row text-align-center">\r\n                  <img  src="assets/img/select2-spinner.gif" >\r\n                  <h4 class="txt-color-darken" >加载中</h4>\r\n                </div>\r\n              </div>\r\n              <div class="dt-toolbar-footer">\r\n                <div class="col-sm-6 col-xs-12 hidden-xs">\r\n                  <div class="dataTables_info"  role="status" aria-live="polite">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-6 col-xs-12 hidden-xs text-right" *ngIf="newList.length != 0">\r\n                  <ul class="pagination pagination-sm">\r\n                    <li *ngFor="let p of i3otpList?.page" class="{{p.class}}">\r\n                      <a (click)="pagination(p.value)" *ngIf="p.method==\'method\'">{{p.text}}</a>\r\n                      <a *ngIf="p.method==\'\'">{{p.text}}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n\r\n  <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"\r\n       aria-hidden="true">\r\n    <div class="modal-dialog modal-lg">\r\n\r\n      <div class="modal-content" *ngIf="isFull == \'none\'">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="ngOnClose();lgModal.hide()" aria-label="Close">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n          <h4 class="modal-title">数据对比图</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          \x3c!--加载中--\x3e\r\n          <div class="row text-align-center" *ngIf="loading != \'\'">\r\n            <img  src="assets/img/select2-spinner.gif" >\r\n            <h4 class="txt-color-darken" >{{loading}}</h4>\r\n          </div>\r\n\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div *ngFor="let char of chartOption2;let inde = index;">\r\n                <h4 class="alert alert-info"> {{metric_title[inde]}}对比图</h4>\r\n                <div echarts [options]="chartOption2[inde]" class="demo-chart"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default" (click)="ngOnClose();lgModal.hide()">\r\n            返回\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="modal-content" *ngIf="isFull == \'block\'">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="ngOnClose();lgModal.hide()" aria-label="Close">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n          <h4 class="modal-title">全屏图</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n                <div echarts [options]="full_screen" class="demo-chart" [ngStyle]="{\'width\':f_width}"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default" (click)="ngOnClose();lgModal.hide()">\r\n            返回\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--数据对比--\x3e\r\n    <div  class="bigBox animated fadeIn fast" style="border:6px solid #3276b1;" *ngIf="isShowJoin">\r\n        <h4 (click)="closePid()">设备数据对比 <i class="botClose fa fa-times" ></i></h4>\r\n      <ul *ngIf="join_pid.length > 0">\r\n        <li *ngFor="let p of join_pid"> <i class="fa fa-times" (click)="outPid(p)"></i>ID: {{p}}</li>\r\n      </ul>\r\n      <ul *ngIf="join_pid.length == 0">\r\n        <li> 还没有可对比的数据！</li>\r\n      </ul>\r\n        <p class="text-align-center">\r\n          <a class="btn btn-info" (click)="showJoinPic();">详情</a>\r\n        </p>\r\n    </div>\r\n\r\n</div>\r\n'},"4hmS":function(t,e,n){"use strict";function r(t,e){return Array.isArray(e)||(e=[e]),e.forEach(function(e){t.classList?t.classList.add(e):t.className+=" "+e}),t}function i(t,e){return Array.isArray(e)||(e=[e]),e.forEach(function(e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")}),t}e.a=r,e.b=i},"4qOI":function(t,e,n){"use strict";var r=n("3j3K"),i=n("sgBC");n.n(i);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.el=t,this.container=this.el.nativeElement}return t.prototype.ngOnInit=function(){this.drawSparklines()},t.prototype.barChart=function(t){var e=t.data("sparkline-bar-color")||t.css("color")||"#0000f0",n=t.data("sparkline-height")||"26px",r=t.data("sparkline-barwidth")||5,i=t.data("sparkline-barspacing")||2,a=t.data("sparkline-negbar-color")||"#A90329",o=t.data("sparkline-barstacked-color")||["#A90329","#0099c6","#98AA56","#da532c","#4490B1","#6E9461","#990099","#B4CAD3"];t.sparkline("html",{barColor:e,type:"bar",height:n,barWidth:r,barSpacing:i,stackedBarColor:o,negBarColor:a,zeroAxis:"false",tooltipContainer:this.container})},t.prototype.lineChart=function(t){var e=t.data("sparkline-height")||"20px",n=t.data("sparkline-width")||"90px",r=t.data("sparkline-line-color")||t.css("color")||"#0000f0",i=t.data("sparkline-line-width")||1,a=t.data("fill-color")||"#c0d0f0",o=t.data("sparkline-spot-color")||"#f08000",s=t.data("sparkline-minspot-color")||"#ed1c24",l=t.data("sparkline-maxspot-color")||"#f08000",c=t.data("sparkline-highlightspot-color")||"#50f050",d=t.data("sparkline-highlightline-color")||"f02020",p=t.data("sparkline-spotradius")||1.5,h=t.data("sparkline-min-y"),u=t.data("sparkline-max-y"),f=t.data("sparkline-min-x"),g=t.data("sparkline-max-x"),b=t.data("min-val"),m=t.data("max-val"),v=t.data("norm-color")||"#c0c0c0",_=t.data("draw-normal")||!1;t.sparkline("html",{type:"line",width:n,height:e,lineWidth:i,lineColor:r,fillColor:a,spotColor:o,minSpotColor:s,maxSpotColor:l,highlightSpotColor:c,highlightLineColor:d,spotRadius:p,chartRangeMin:h,chartRangeMax:u,chartRangeMinX:f,chartRangeMaxX:g,normalRangeMin:b,normalRangeMax:m,normalRangeColor:v,drawNormalOnTop:_,tooltipContainer:this.container})},t.prototype.pieChart=function(t){var e=t.data("sparkline-piecolor")||["#B4CAD3","#4490B1","#98AA56","#da532c","#6E9461","#0099c6","#990099","#717D8A"],n=t.data("sparkline-piesize")||90,r=t.data("border-color")||"#45494C",i=t.data("sparkline-offset")||0;t.sparkline("html",{type:"pie",width:n,height:n,tooltipFormat:'<span style="color: {{color}}">&#9679;</span> ({{percent.1}}%)',sliceColors:e,borderWidth:1,offset:i,borderColor:r,tooltipContainer:this.container})},t.prototype.boxChart=function(t){var e=t.data("sparkline-width")||"auto",n=t.data("sparkline-height")||"auto",r=t.data("sparkline-boxraw"),i=t.data("sparkline-targetval"),a=t.data("sparkline-min"),o=t.data("sparkline-max"),s=t.data("sparkline-showoutlier")||!0,l=t.data("sparkline-outlier-iqr")||1.5,c=t.data("sparkline-spotradius")||1.5,d=t.css("color")||"#000000",p=t.data("fill-color")||"#c0d0f0",h=t.data("sparkline-whis-color")||"#000000",u=t.data("sparkline-outline-color")||"#303030",f=t.data("sparkline-outlinefill-color")||"#f0f0f0",g=t.data("sparkline-outlinemedian-color")||"#f00000",b=t.data("sparkline-outlinetarget-color")||"#40a020";t.sparkline("html",{type:"box",width:e,height:n,raw:r,target:i,minValue:a,maxValue:o,showOutliers:s,outlierIQR:l,spotRadius:c,boxLineColor:d,boxFillColor:p,whiskerColor:h,outlierLineColor:u,outlierFillColor:f,medianColor:g,targetColor:b,tooltipContainer:this.container})},t.prototype.bulletChart=function(t){var e=t.data("sparkline-height")||"auto",n=t.data("sparkline-width")||2,r=t.data("sparkline-bullet-color")||"#ed1c24",i=t.data("sparkline-performance-color")||"#3030f0",a=t.data("sparkline-bulletrange-color")||["#d3dafe","#a8b6ff","#7f94ff"];t.sparkline("html",{type:"bullet",height:e,targetWidth:n,targetColor:r,performanceColor:i,rangeColors:a,tooltipContainer:this.container})},t.prototype.discreteChart=function(t){var e=t.data("sparkline-height")||26,n=t.data("sparkline-width")||50,r=t.css("color"),i=t.data("sparkline-line-height")||5,a=t.data("sparkline-threshold"),o=t.data("sparkline-threshold-color")||"#ed1c24";t.sparkline("html",{type:"discrete",width:n,height:e,lineColor:r,lineHeight:i,thresholdValue:a,thresholdColor:o,tooltipContainer:this.container})},t.prototype.tristaneChart=function(t){var e=t.data("sparkline-height")||26,n=t.data("sparkline-posbar-color")||"#60f060",r=t.data("sparkline-negbar-color")||"#f04040",i=t.data("sparkline-zerobar-color")||"#909090",a=t.data("sparkline-barwidth")||5,o=t.data("sparkline-barspacing")||2,s=t.data("sparkline-zeroaxis");t.sparkline("html",{type:"tristate",height:e,posBarColor:n,negBarColor:r,zeroBarColor:i,barWidth:a,barSpacing:o,zeroAxis:s,tooltipContainer:this.container})},t.prototype.compositeBarChart=function(t){var e=t.data("sparkline-height")||"20px",n=t.data("sparkline-width")||"100%",r=t.data("sparkline-barwidth")||3,i=t.data("sparkline-line-width")||1,a=t.data("sparkline-color-top")||"#ed1c24",o=t.data("sparkline-color-bottom")||"#333333";t.sparkline(t.data("sparkline-bar-val"),{type:"bar",width:n,height:e,barColor:o,barWidth:r,tooltipContainer:this.container}),t.sparkline(t.data("sparkline-line-val"),{width:n,height:e,lineColor:a,lineWidth:i,composite:!0,fillColor:!1,tooltipContainer:this.container})},t.prototype.compositeLineChart=function(t){var e=t.data("sparkline-height"),n=t.data("sparkline-width"),r=t.data("sparkline-bar-val"),i=t.data("sparkline-bar-val-spots-top"),a=t.data("sparkline-bar-val-spots-bottom"),o=t.data("sparkline-line-width-top"),s=t.data("sparkline-line-width-bottom"),l=t.data("sparkline-color-top"),c=t.data("sparkline-color-bottom"),d=t.data("sparkline-spotradius-top"),p=t.data("sparkline-spotradius-bottom"),h=t.data("sparkline-spot-color"),u=t.data("sparkline-minspot-color-top"),f=t.data("sparkline-maxspot-color-top"),g=t.data("sparkline-minspot-color-bottom"),b=t.data("sparkline-maxspot-color-bottom"),m=t.data("sparkline-highlightspot-color-top"),v=t.data("sparkline-highlightline-color-top"),_=t.data("sparkline-highlightspot-color-bottom"),y=t.data("sparkline-highlightline-color-bottom"),x=t.data("sparkline-fillcolor-top"),w=t.data("sparkline-fillcolor-bottom");t.sparkline(r,{type:"line",spotRadius:d,spotColor:h,minSpotColor:u,maxSpotColor:f,highlightSpotColor:m,highlightLineColor:v,valueSpots:i,lineWidth:o,width:n,height:e,lineColor:l,fillColor:x,tooltipContainer:this.container}),t.sparkline(t.data("sparkline-line-val"),{type:"line",spotRadius:p,spotColor:h,minSpotColor:g,maxSpotColor:b,highlightSpotColor:_,highlightLineColor:y,valueSpots:a,lineWidth:s,width:n,height:e,lineColor:c,composite:!0,fillColor:w,tooltipContainer:this.container})},t.prototype.drawSparklines=function(){var t=this;$(".sparkline:not(:has(>canvas))",this.container).each(function(e,n){var r=$(n),i=r.data("sparkline-type")||"bar";"bar"==i&&t.barChart(r),"line"==i&&t.lineChart(r),"pie"==i&&t.pieChart(r),"box"==i&&t.boxChart(r),"bullet"==i&&t.bulletChart(r),"discrete"==i&&t.discreteChart(r),"tristate"==i&&t.tristaneChart(r),"compositebar"==i&&t.compositeBarChart(r),"compositeline"==i&&t.compositeLineChart(r)})},t}();s=a([n.i(r.Directive)({selector:"[saSparklineContainer]"}),o("design:paramtypes",["function"==typeof(l=void 0!==r.ElementRef&&r.ElementRef)&&l||Object])],s);var l},"4zyS":function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'图表设置\']" icon="pencil-square-o"></sa-big-breadcrumbs>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12">\r\n        <sa-widget\r\n                [togglebutton]="true"\r\n                [editbutton]="false"\r\n                [fullscreenbutton]="true"\r\n                [colorbutton]="true"\r\n                [deletebutton]="false" saSparklineContainer saEasyPieChartContainer>\r\n          <header>\r\n            <ul class="nav nav-tabs pull-left in" id="myTab">\r\n              <li class="active">\r\n                <a data-toggle="tab" href="#s1"><i class="glyphicon glyphicon-stats" ></i> <span\r\n                        class="hidden-mobile hidden-tablet">图表取值范围和颜色效果</span></a>\r\n              </li>\r\n            </ul>\r\n          </header>\r\n          <div class="no-padding">\r\n            <div class="widget-body">\r\n              <div id="myTabContent" class="tab-content" >\r\n                <div class="tab-pane fade active in padding-10 no-padding-bottom" id="s1">\r\n                  <div class="row">\r\n                    <article class="col-sm-12 col-md-12 col-lg-6">\r\n                      <sa-widget >\r\n                        <div>\r\n                          \x3c!-- widget content --\x3e\r\n                          <div class="widget-body no-padding">\r\n                            <alert type="info" class="no-margin" *ngIf="s_id == 0">\r\n                              <i class="fa-fw fa fa-plus"></i>\r\n                              添加图表取值范围和颜色效果\r\n                            </alert>\r\n                            <alert type="info" class="no-margin" *ngIf="s_id != 0">\r\n                              <i class="fa-fw fa fa-plus"></i>\r\n                              修改图表取值范围和颜色效果\r\n                            </alert>\r\n                            <div class="widget-body">\r\n                              <form class="" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate>\r\n                                <fieldset>\r\n                                  <div class="col-sm-12">\r\n                                    <div class="form-group">\r\n                                      <label >选择名称</label>\r\n                                      <input type="hidden" name="s_id" formControlName="s_id">\r\n                                      <select class="form-control" style="width:100%" name="s_name" formControlName="s_name" [(ngModel)]="s_name_default">\r\n                                          <option value="0" [selected]="s_id == 0">--请选择---</option>\r\n                                          <option value="ch4"  >甲烷</option>\r\n                                          <option value="co">一氧化碳</option>\r\n                                          <option value="co2">二氧化碳</option>\r\n                                          <option value="o2">氧气</option>\r\n                                          <option value="temp">温度</option>\r\n                                          <option value="humi">湿度</option>\r\n                                          <option value="eeg">脑电</option>\r\n                                          <option value="ecg">心率</option>\r\n                                          <option value="spo2h">血氧</option>\r\n                                      </select>\r\n                                    </div>\r\n                                  </div>\r\n                                </fieldset>\r\n\r\n                                <fieldset>\r\n                                  <legend><span style="margin-left: 13px;">第一阶段</span></legend>\r\n\r\n                                  <div class="form-group margin-top-10 ">\r\n                                    <div class="col-sm-12">\r\n                                      <div class="form-group">\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>范围取值(最小值)</label>\r\n                                            <input required class="form-control"  placeholder="请输入范围最小值" name="s_interval1_1" formControlName="s_interval1_1" minlength="1" maxlength="10" type="text">\r\n                                          </div>\r\n                                        </div>\r\n                                        \x3c!--<div class="col-sm-2">\r\n                                          <div class="form-group">\r\n                                            <label>  </label>\r\n                                            <b>至</b>\r\n                                          </div>\r\n                                        </div>--\x3e\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <div class="form-group">\r\n                                              <label>范围取值(最大值)</label>\r\n                                              <input required class="form-control" placeholder="请输入范围最大值" name="s_interval1_2" formControlName="s_interval1_2" minlength="1" maxlength="10" type="text">\r\n                                            </div>\r\n                                          </div>\r\n\r\n                                        </div>\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>颜色</label>\r\n                                            <input class="form-control" type="color"  maxlength="10" placeholder="#dff0d8" name="s_color1" formControlName="s_color1" />\r\n                                          </div>\r\n                                        </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                  </div>\r\n                                </fieldset>\r\n                                <fieldset>\r\n                                  <legend><span style="margin-left: 13px;">第二阶段</span></legend>\r\n                                  <div class="form-group margin-top-10 ">\r\n                                    <div class="col-sm-12">\r\n\r\n                                      <div class="form-group">\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>范围取值(最小值)</label>\r\n                                            <input required class="form-control"  placeholder="请输入范围最小值" name="s_interval2_1" formControlName="s_interval2_1" minlength="1" maxlength="10" type="text">\r\n                                          </div>\r\n                                        </div>\r\n                                       \x3c!-- <div class="col-sm-1">\r\n                                          <div class="form-group">\r\n                                            <label>  </label>\r\n                                            <b>至</b>\r\n                                          </div>\r\n                                        </div>--\x3e\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>范围取值(最大值)</label>\r\n                                            <input required class="form-control" placeholder="请输入范围最大值" name="s_interval2_2" formControlName="s_interval2_2" minlength="1" maxlength="10" type="text">\r\n                                          </div>\r\n                                        </div>\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>颜色</label>\r\n                                            <input class="form-control"  type="color" placeholder="#fcf8e3" maxlength="10" name="s_color2" formControlName="s_color2"/>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n                                </fieldset>\r\n                                <fieldset>\r\n                                  <legend><span style="margin-left: 13px;">第三阶段</span></legend>\r\n                                  <div class="form-group margin-top-10 ">\r\n                                    <div class="col-sm-12">\r\n\r\n                                      <div class="form-group">\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>范围取值(最小值)</label>\r\n                                            <input required class="form-control"  placeholder="请输入范围最小值" name="s_interval3_1" formControlName="s_interval3_1" minlength="1" maxlength="10" type="text">\r\n                                          </div>\r\n                                        </div>\r\n                                        \x3c!--<div class="col-sm-1">\r\n                                          <div class="form-group">\r\n                                            <label>  </label>\r\n                                            <b>至</b>\r\n                                          </div>\r\n                                        </div>--\x3e\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>范围取值(最大值)</label>\r\n                                            <input required class="form-control" placeholder="请输入范围最大值" name="s_interval3_2" formControlName="s_interval3_2" minlength="1" maxlength="10" type="text">\r\n                                          </div>\r\n                                        </div>\r\n                                        <div class="col-sm-4">\r\n                                          <div class="form-group">\r\n                                            <label>颜色</label>\r\n                                            <input class="form-control"   saColorpicker type="color" placeholder="#f2dede" maxlength="10" name="s_color3" formControlName="s_color3"/>\r\n                                          </div>\r\n                                        </div>\r\n                                      </div>\r\n\r\n                                    </div>\r\n                                  </div>\r\n                                </fieldset>\r\n                                <fieldset>\r\n                                  <div class="col-sm-12">\r\n                                    <button class="btn btn-warning btn-xs text-center" style="padding:6px;margin:24px 0;">\r\n                                      <i class="fa fa-plus"></i> <span class="hidden-mobile">添加新的阶段</span>\r\n                                    </button>\r\n                                  </div>\r\n                                </fieldset>\r\n                                <div class="widget-footer" style="padding-bottom: 8px;margin-bottom: -13px;">\r\n                                  <button type="button" class="btn btn-default" >\r\n                                    返回\r\n                                  </button>\r\n                                  <button class="btn btn-primary" type="submit">\r\n                                    <i class="fa fa-save"></i>\r\n                                    保存\r\n                                  </button>\r\n                                </div>\r\n                              </form>\r\n                            </div>\r\n                          </div>\r\n                          \x3c!-- end widget content --\x3e\r\n                        </div>\r\n                        \x3c!-- end widget div --\x3e\r\n                      </sa-widget>\r\n                    </article>\r\n                    <article class="col-sm-12 col-md-12 col-lg-6">\r\n                      <sa-widget >\r\n                        <div>\r\n                          \x3c!-- widget content --\x3e\r\n                          <div class="widget-body no-padding">\r\n                            <alert type="info" class="no-margin" >\r\n                              <i class="fa-fw fa fa-spoon"></i>\r\n                              显示图表取值范围和颜色效果\r\n                            </alert>\r\n                            <div class="table-responsive">\r\n                              <table class="table table-hover table-bordered dataTable">\r\n                                <thead>\r\n                                <tr>\r\n                                  <th>名称</th>\r\n                                  <th colspan="3">取值范围</th>\r\n                                  <th>操作</th>\r\n                                </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                               <tr *ngFor="let sl of settingsList.result?.data">\r\n                                 <td>\r\n                                     <span *ngIf="sl.s_name == \'ch4\'">甲烷</span>\r\n                                     <span *ngIf="sl.s_name == \'co\'">一氧化碳</span>\r\n                                     <span *ngIf="sl.s_name == \'co2\'">二氧化碳</span>\r\n                                     <span *ngIf="sl.s_name == \'o2\'">氧气</span>\r\n                                     <span *ngIf="sl.s_name == \'temp\'">温度</span>\r\n                                     <span *ngIf="sl.s_name == \'humi\'">湿度</span>\r\n                                     <span *ngIf="sl.s_name == \'eeg\'">脑电</span>\r\n                                     <span *ngIf="sl.s_name == \'ecg\'">心率</span>\r\n                                     <span *ngIf="sl.s_name == \'spo2h\'">血氧</span>\r\n                                  </td>\r\n                                  <td *ngFor="let slc of sl.detail_list" [style.background-color]="slc.s_color">\r\n                                    第<span [ngSwitch]="slc.number">\r\n                                    <span *ngSwitchCase="1">一</span>\r\n                                    <span *ngSwitchCase="2">二</span>\r\n                                    <span *ngSwitchCase="3">三</span>\r\n                                    <span *ngSwitchCase="4">四</span>\r\n                                    <span *ngSwitchCase="5">五</span>\r\n                                  </span>阶段\r\n                                    <br>\r\n                                    <small class="text-muted">\r\n                                      <i>{{slc.s_interval_1}}-{{slc.s_interval_2}}</i>\r\n                                    </small></td>\r\n                                  <td><a class="btn btn-warning btn-xs" (click)="getSettingsInfo(sl.s_id)"><span class="glyphicon glyphicon-pencil"></span>修改</a>\r\n                                    <a class="btn btn-danger btn-xs" (click)="deleteSettings(sl.s_id)"><span class="glyphicon glyphicon-remove"></span>删除</a>\r\n                                    <a class="btn btn-success btn-xs" (click)="toDefault(sl.s_id)">默认颜色</a>\r\n                                  </td>\r\n                                </tr>\r\n                                </tbody>\r\n                              </table>\r\n\r\n                            </div>\r\n                            <div class="dt-toolbar">\r\n                            </div>\r\n                          </div>\r\n                          \x3c!-- end widget content --\x3e\r\n                        </div>\r\n                        \x3c!-- end widget div --\x3e\r\n                      </sa-widget>\r\n                    </article>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n</div>\r\n\r\n'},"9HBq":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.canDeactivate=function(t){return!!window.confirm("离开此页面将停止对最新数据的显示，您确定要离开此页面吗？")&&(t.ngOnDestroy(),!0)},t}()},Atu6:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return o});var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=s=function(){function t(){this.modelChange=new r.EventEmitter}return t.prototype.ngOnInit=function(){this.value=this.model,this.widgetId="on-off-switch"+s.widgetsCounter++},t.prototype.onChange=function(){this.modelChange.emit(this.value)},t}();o.widgetsCounter=0,i([n.i(r.Input)(),a("design:type",String)],o.prototype,"title",void 0),i([n.i(r.Input)(),a("design:type",Boolean)],o.prototype,"model",void 0),i([n.i(r.Output)(),a("design:type",Object)],o.prototype,"modelChange",void 0),i([n.i(r.Input)(),a("design:type",Object)],o.prototype,"value",void 0),o=s=i([n.i(r.Component)({selector:"on-off-switch",template:n("NLnk")}),a("design:paramtypes",[])],o);var s},CmaY:function(t,e,n){n("P+fo")(n("xS9c"))},DF0p:function(t,e,n){"use strict";n("qM/N"),n("d+Hv"),n("DQF6"),n("uyj9"),n("HS8E"),n("ZZPW")},DQF6:function(t,e,n){"use strict";n("pREj")},Dgcp:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'待办事项\', \'详情页\']" icon="calendar-o"\r\n                        ></sa-big-breadcrumbs>\r\n  </div>\r\n\r\n\r\n\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12">\r\n\r\n        <sa-widget color="blueDark"  [editbutton]="false" [colorbutton]="false" [togglebutton]="false"\r\n                   [fullscreenbutton]="false" [deletebutton]="false">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-check txt-color-white"></i> </span>\r\n\r\n            <h2>添加待办事项</h2>\r\n\r\n\r\n          </header>\r\n          \x3c!-- widget div--\x3e\r\n          <div>\r\n            <div class="widget-body no-padding smart-form">\r\n              \x3c!-- content goes here --\x3e\r\n              <div>\r\n                <form  class="smart-form">\r\n                  <fieldset>\r\n                    <section>\r\n                      <label >标题</label>\r\n                      <label class="input">\r\n                        <input type="text" required class="input-lg"  name="title"\r\n                               placeholder="请输入标题">\r\n                      </label>\r\n                    </section>\r\n                    <section>\r\n                      <label>内容</label>\r\n                      <textarea class="form-control" name="" rows="4"></textarea>\r\n\r\n                    </section>\r\n                    \x3c!--<section>\r\n                      <div class="col-xs-6">\r\n                        <label class="select">\r\n                          <select class="input-sm" name="state" [(ngModel)]="newTodo.state" >\r\n                            <option *ngFor="let state of states" [value]="state.name">{{state.name}}</option>\r\n                          </select> <i></i> </label>\r\n                      </div>\r\n                    </section>--\x3e\r\n                  </fieldset>\r\n                  <footer>\r\n                    <button  type="button" class="btn btn-primary"\r\n                            >\r\n                      添加\r\n                    </button>\r\n                    <button type="button" class="btn btn-default glyphicon glyphicon-plus" >\r\n                      取消\r\n                    </button>\r\n                  </footer>\r\n                </form>\r\n              </div>\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </sa-widget>\r\n\r\n      </article>\r\n    </div>\r\n    <div class="row">\r\n\r\n\r\n      <article class="col-sm-12 col-md-12 col-lg-4">\r\n\r\n        <sa-widget color="blueDark"  [editbutton]="false" [colorbutton]="false" [togglebutton]="false"\r\n                   [fullscreenbutton]="false" [deletebutton]="false">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-check txt-color-white"></i> </span>\r\n\r\n            <h2>待办事项</h2>\r\n\r\n            <div class="widget-toolbar">\r\n              <button class="btn btn-xs btn-default"\r\n                      [class.active]="newTodo" (click)="toggleAdd()"><i\r\n                      *ngIf="!newTodo" class="fa fa-plus"></i><i\r\n                      *ngIf="newTodo" class="fa fa-times"></i> 添加</button>\r\n\r\n            </div>\r\n          </header>\r\n          \x3c!-- widget div--\x3e\r\n          <div>\r\n            <div class="widget-body no-padding smart-form">\r\n              \x3c!-- content goes here --\x3e\r\n              <div *ngIf="newTodo">\r\n                <h5 class="todo-group-title"><i class="fa fa-plus-circle"></i>添加新的待办事项</h5>\r\n\r\n                <form #newTodoForm="ngForm" class="smart-form">\r\n                  <fieldset>\r\n                    <section>\r\n                      <label >标题</label>\r\n                      <label class="input">\r\n                        <input type="text" required class="input-lg" [(ngModel)]="newTodo.title" name="title"\r\n                               placeholder="请输入标题">\r\n                      </label>\r\n                    </section>\r\n                    <section>\r\n                        <label>内容</label>\r\n                        <textarea class="form-control" name="" rows="4"></textarea>\r\n\r\n                    </section>\r\n                    \x3c!--<section>\r\n                      <div class="col-xs-6">\r\n                        <label class="select">\r\n                          <select class="input-sm" name="state" [(ngModel)]="newTodo.state" >\r\n                            <option *ngFor="let state of states" [value]="state.name">{{state.name}}</option>\r\n                          </select> <i></i> </label>\r\n                      </div>\r\n                    </section>--\x3e\r\n                  </fieldset>\r\n                  <footer>\r\n                    <button [disabled]="!newTodoForm.form.valid" type="button" class="btn btn-primary"\r\n                            (click)="createTodo()">\r\n                      添加\r\n                    </button>\r\n                    <button type="button" class="btn btn-default" (click)="toggleAdd()">\r\n                      取消\r\n                    </button>\r\n                  </footer>\r\n                </form>\r\n              </div>\r\n              <div>\r\n\r\n                <h5 class="todo-group-title"> 全部</h5>\r\n                <p class="top-btn">\r\n                  <a (click)="(null)" class="btn btn-default active">全部</a>\r\n                  <a (click)="(null)" class="btn btn-default">处理中</a>\r\n                  <a (click)="(null)" class="btn btn-default">正在处理</a>\r\n                  <a (click)="(null)" class="btn btn-default">未处理</a>\r\n                  <a (click)="(null)" class="btn btn-default">垃圾桶</a>\r\n                </p>\r\n\r\n                <ul class="todo">\r\n                  <li>\r\n                  <span class="handle">\r\n                  </span>\r\n\r\n\r\n                  </li>\r\n                  <li>\r\n                  <span class="handle">\r\n                    <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i>\r\n                    </label>\r\n                  </span>\r\n                    <p class="top-btn">\r\n                      <a (click)="(null)" class="btn btn-default"><i class="fa fa-trash-o fa-lg"></i>\r\n                        删除所选</a>\r\n                    </p>\r\n\r\n                  </li>\r\n                <li>\r\n                  <span class="handle">\r\n                    <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i>\r\n                    </label>\r\n                  </span>\r\n                  <p>\r\n                    <strong>标题</strong> - 内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                    <span > <a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a></span>\r\n                    <span class="date">10:47 2017-11-22 - <a class="text-muted"><i class="fa fa-trash"></i></a></span>\r\n\r\n                  </p>\r\n\r\n\r\n                </li>\r\n                <li class="complete">\r\n                  <span class="handle"> <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i> </label>\r\n                  </span>\r\n\r\n                  <p >\r\n                    <strong>标题</strong> - 内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                    <span > <a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a></span>\r\n                    <span class="date">10:47 2017-11-22 - <a class="text-muted"><i class="fa fa-trash"></i></a></span>\r\n\r\n                  </p>\r\n                </li>\r\n                <li>\r\n                  <span class="handle">\r\n                    <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i>\r\n                    </label>\r\n                  </span>\r\n                    <p>\r\n                      <strong>标题</strong> - 内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                      <span > <a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a></span>\r\n                      <span class="date">10:47 2017-11-22 - <a class="text-muted"><i class="fa fa-trash"></i></a></span>\r\n\r\n                    </p>\r\n\r\n\r\n                  </li>\r\n                <li>\r\n                  <span class="handle">\r\n                    <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i>\r\n                    </label>\r\n                  </span>\r\n                    <p>\r\n                      <strong>标题</strong> - 内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                      <span > <a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a></span>\r\n                      <span class="date">10:47 2017-11-22 - <a class="text-muted"><i class="fa fa-trash"></i></a></span>\r\n\r\n                    </p>\r\n\r\n\r\n                  </li>\r\n                <li>\r\n                  <span class="handle"> <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i> </label>\r\n                  </span>\r\n\r\n                    <p>\r\n                      <strong>标题</strong> - 内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                      <span > <a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a></span>\r\n                      <span class="date">10:47 2017-11-22 - <a class="text-muted"><i class="fa fa-trash"></i></a></span>\r\n\r\n                    </p>\r\n                  </li>\r\n                <li>\r\n                  <span class="handle">\r\n                    <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox">\r\n                      <i></i>\r\n                    </label>\r\n                  </span>\r\n                    <p>\r\n                      <strong>标题</strong> - 内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容内容\r\n                      <span > <a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img class="todo-img online " src="assets/img/avatars/female.png" ></a><a href=""><img  class="todo-img online " src="assets/img/avatars/female.png" ></a></span>\r\n                      <span class="date">10:47 2017-11-22 - <a class="text-muted"><i class="fa fa-trash"></i></a></span>\r\n\r\n                    </p>\r\n\r\n\r\n                  </li>\r\n\r\n\r\n\r\n                </ul>\r\n                <div class="dt-toolbar" style="padding:10px 0">\r\n                  <div class="text-right" style="margin-right:10px;">\r\n                    <ul class="pagination pagination-sm">\r\n                      <li class="disabled">\r\n                        <a href="">上一页</a>\r\n                      </li>\r\n                      <li class="active">\r\n                        <a href="">1</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">2</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">3</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">...</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">99</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">下一页</a>\r\n                      </li>\r\n                    </ul>\r\n\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n          </div>\r\n        </sa-widget>\r\n\r\n      </article>\r\n\r\n\r\n      <article class="col-sm-12 col-md-12 col-lg-8">\r\n        <sa-widget  [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-calendar"></i> </span>\r\n\r\n            <h2>详情页</h2>\r\n\r\n\r\n          </header>\r\n\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="well well-sm" style="margin-bottom:0px;">\r\n                <div class="well">\r\n                  <table class="table table-striped table-forum">\r\n                    <tbody>\r\n                    <tr>\r\n                      <td >设备ID:</td>\r\n                      <td >p1001</td>\r\n                      <td >绑定地址:</td>\r\n                      <td >四川省成都市下南大街59号世代锦江国际酒店25楼</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td >报警类型:</td>\r\n                      <td >ch4/甲烷</td>\r\n                      <td >报警值:</td>\r\n                      <td >2.5</td>\r\n                    </tr>\r\n                    <tr><td >时间：</td>\r\n                      <td >2017.11.30</td>\r\n                      <td >已通知人员：</td>\r\n                      <td >张三;李四;陈强;王强;廖廖;穆新;潇云;</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td >通知方式：</td>\r\n                      <td >电话、短信</td>\r\n                      <td ></td>\r\n                      <td ></td>\r\n                    </tr>\r\n\r\n                    </tbody>\r\n\r\n                  </table>\r\n                  <div class="row">\r\n                    <div class="btn-group dropdown  pull-right well-todo-btn "   dropdown>\r\n                      <a class="btn btn-success btn-sm" style="margin-right: 10px;" data-toggle="modal" data-target="#myModal" >\r\n                        <span class="glyphicon glyphicon-plus"></span>添加人员</a>\r\n\r\n                      <button class="btn btn-default">\r\n                        已处理\r\n                      </button>\r\n                      <button class="btn btn-default dropdown-toggle" dropdownToggle>\r\n                        <span class="caret"></span>\r\n                      </button>\r\n                      <ul *dropdownMenu class="dropdown-menu text-left ">\r\n                        <li>\r\n                          <a (click)="(null)">未处理</a>\r\n                        </li>\r\n                        <li>\r\n                          <a (click)="(null)">正在处理</a>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                </div>\r\n\r\n                <form method="post" class="well padding-bottom-10" onsubmit="return false;">\r\n                  <textarea rows="2" class="form-control" placeholder="你在想什么?"></textarea>\r\n\r\n                  <div class="margin-top-10">\r\n                    <button type="submit" class="btn btn-sm btn-primary pull-right">\r\n                      发布\r\n                    </button>\r\n                    <a href="" class="btn btn-link profile-link-btn" rel="tooltip" data-placement="bottom" title="添加位置"><i class="fa fa-location-arrow"></i></a>\r\n                    <a href="" class="btn btn-link profile-link-btn" rel="tooltip" data-placement="bottom" title="添加声音"><i class="fa fa-microphone"></i></a>\r\n                    <a href="" class="btn btn-link profile-link-btn" rel="tooltip" data-placement="bottom" title="添加照片"><i class="fa fa-camera"></i></a>\r\n                    <a href="" class="btn btn-link profile-link-btn" rel="tooltip" data-placement="bottom" title="添加文件"><i class="fa fa-file"></i></a>\r\n                  </div>\r\n                </form>\r\n                <div class="timeline-seperator text-center"><span>2017.11.30</span>\r\n\r\n                  <div class="btn-group pull-right">\r\n                    <a href="" data-toggle="dropdown" class="btn btn-default btn-xs dropdown-toggle"><span class="caret single"></span></a>\r\n                    <ul class="dropdown-menu text-left">\r\n                      <li>\r\n                        <a href="">隐藏这篇文章</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">标记为垃圾邮件</a>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div class="chat-body no-padding profile-message">\r\n                  <ul>\r\n                    <li class="message">\r\n                      <img src="assets/img/avatars/female.png" class="online" alt="sunny">\r\n                      <span class="message-text"> <a href="" class="username">陈强\r\n                                                        <small class="text-muted pull-right ultra-light"> 1分钟前\r\n                                                        </small>\r\n                                                    </a> 为帮助开发者给用户呈现最合适的小程序分享效果，我们开放了自定义分享卡片配图的能力。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。 </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-info"><i class="fa fa-reply"></i> 回复</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i> 赞</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-muted">显示所有的评论 (14)</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-primary">编辑</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger">删除</a>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li class="message message-reply">\r\n                      <img src="assets/img/avatars/male.png" class="online" alt="user">\r\n                      <span class="message-text"> <a href="" class="username">陈强</a> 为提升小程序开发体验，帮助开发者更高效地开发小程序代码，微信开发者工具全新改版，现面向所有开发者开放。 <i class="fa fa-smile-o txt-color-orange"></i> </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-muted">1分钟前 </a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i> 赞</a>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li class="message message-reply">\r\n                      <img src="assets/img/avatars/female.png" class="online" alt="user">\r\n                      <span class="message-text"> <a href="" class="username">陈强 </a> 为提升小程序开发体验，帮助开发者更高效地开发小程序代码，微信开发者工具全新改版，现面向所有开发者开放。 <i class="fa fa-smile-o txt-color-orange"></i> </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-muted">1分钟前 </a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i> 赞</a>\r\n                        </li>\r\n                      </ul>\r\n                      <input class="form-control input-xs" placeholder="这里输入你的回复..." type="text">\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n                <div class="timeline-seperator text-center"><span>2017.11.01</span>\r\n\r\n                  <div class="btn-group pull-right">\r\n                    <a href="" data-toggle="dropdown" class="btn btn-default btn-xs dropdown-toggle"><span class="caret single"></span></a>\r\n                    <ul class="dropdown-menu text-left">\r\n                      <li>\r\n                        <a href="">隐藏这篇文章</a>\r\n                      </li>\r\n                      <li>\r\n                        <a href="">标记为垃圾邮件</a>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n                <div class="chat-body no-padding profile-message">\r\n                  <ul>\r\n                    <li class="message">\r\n                      <img src="assets/img/avatars/female.png" class="online" alt="user">\r\n                      <span class="message-text"> <a href="" class="username">李猛\r\n                    <small class="text-muted pull-right ultra-light"> 2 分钟前</small>\r\n                </a> 为帮助开发者给用户呈现最合适的小程序分享效果，我们开放了自定义分享卡片配图的能力。未定义分享卡片配图的，仍将由微信截屏，作为小程序分享卡片配图。 </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-info"><i class="fa fa-reply"></i> 回复</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i>赞</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-muted">显示所有的评论 (14)</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-primary">隐藏</a>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li class="message message-reply">\r\n                      <img src="assets/img/avatars/male.png" class="online" alt="user">\r\n                      <span class="message-text"> <a href="" class="username">贾勋涛</a> 为提升小程序开发体验，帮助开发者更高效地开发小程序代码，微信开发者工具全新改版，现面向所有开发者开放。 <i class="fa fa-smile-o txt-color-orange"></i> </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-muted">1分钟前 </a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i> 赞</a>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li class="message message-reply">\r\n                      <img src="assets/img/avatars/female.png" class="online" alt="user">\r\n                      <span class="message-text"> <a href="" class="username">贾勋涛 </a> 为提升小程序开发体验，帮助开发者更高效地开发小程序代码，微信开发者工具全新改版，现面向所有开发者开放。 <i class="fa fa-smile-o txt-color-orange"></i> </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-muted">1分钟前 </a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i> 赞</a>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li class="message message-reply">\r\n                      <img src="assets/img/avatars/female.png" class="online" alt="user">\r\n                      <span class="message-text"> <a href="" class="username">贾勋涛 </a> 为提升小程序开发体验，帮助开发者更高效地开发小程序代码，微信开发者工具全新改版，现面向所有开发者开放。 <i class="fa fa-smile-o txt-color-orange"></i> </span>\r\n                      <ul class="list-inline font-xs">\r\n                        <li>\r\n                          <a href="" class="text-muted">1分钟前</a>\r\n                        </li>\r\n                        <li>\r\n                          <a href="" class="text-danger"><i class="fa fa-thumbs-up"></i> 赞</a>\r\n                        </li>\r\n                      </ul>\r\n                    </li>\r\n                    <li>\r\n                      <div class="input-group wall-comment-reply">\r\n                        <input  type="text" class="form-control" placeholder="这里输入您的消息...">\r\n                        <span class="input-group-btn">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button class="btn btn-primary" >\r\n                                                                <i class="fa fa-reply"></i> 回复\r\n                                                            </button> </span>\r\n                      </div>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n\r\n              </div>\r\n\r\n\r\n\r\n\r\n            </div>\r\n\r\n          </div>\r\n\r\n        </sa-widget>\r\n\r\n\r\n\r\n\r\n      </article>\r\n\r\n\r\n    </div>\r\n  </sa-widgets-grid>\r\n\r\n\r\n  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          \x3c!-- 关闭按钮 --\x3e\r\n          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\r\n            ×\r\n          </button>\r\n          \x3c!-- 标题 --\x3e\r\n          <h3 class="modal-title" data-ng-bind=\'results.title\'></h3>\r\n          <h4 class="modal-title" id="myModalLabel">\r\n            添加人员\r\n          </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <fieldset>\r\n            <div class="form-group">\r\n              <label>添加人员</label>\r\n              <select select2 multiple style="width:100%;" class="select2">\r\n                <optgroup label="财务部">\r\n                  <option value="">张三</option>\r\n                  <option value="">李四</option>\r\n                </optgroup>\r\n                <optgroup label="办公室">\r\n                  <option value="">陈强</option>\r\n                  <option value="">张三</option>\r\n                  <option value="" selected="selected">李四</option>\r\n                  <option value="">王强</option>\r\n                </optgroup>\r\n              </select>\r\n\r\n              \x3c!--<div class="note">\r\n                <strong>提示:</strong> 点击添加人员后面空白区域可以输入关键字搜索或选择要添加的人员。\r\n              </div>--\x3e\r\n            </div>\r\n\r\n          </fieldset>\r\n\r\n\r\n        </div>\r\n        <div class="modal-footer">\r\n\r\n          <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>\r\n          <button type="button" class="btn btn-primary" >\r\n            保存\r\n          </button>\r\n        </div>\r\n      </div>\x3c!-- /.modal-content --\x3e\r\n    </div>\x3c!-- /.modal --\x3e\r\n  </div>\r\n</div>\r\n'},Dh6c:function(t,e,n){"use strict";n("WDoJ")},EzSG:function(t,e,n){"use strict";n("7HuI")},F2HE:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'全员查看\']" icon="file-text-o" ></sa-big-breadcrumbs>\r\n  </div>\r\n\r\n\r\n  <sa-widgets-grid>\r\n\r\n\r\n    <div class="row">\r\n      <article class="col-sm-12">\r\n\r\n\r\n        <sa-widget  [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header><span class="widget-icon"> <i class="fa fa-comments"></i> </span>\r\n            <h2>全员查看</h2>\r\n            <div class="jarviswidget-ctrls" role="menu">\r\n              <a routerLink="/equipment/chart-setting" href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom">\r\n                <i class="fa fa-cog"></i></a>\r\n            </div>\r\n\r\n          </header>\r\n\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="row">\r\n                <article class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <div class="collapse navbar-collapse" >\r\n                      <form class="navbar-form navbar-left" role="search" >\r\n                        <div class="form-group">\r\n                          <input type="text" name="keyword" maxlength="15"  class="form-control" placeholder="请输入搜索内容">\r\n                        </div>\r\n                        <button type="submit" class="btn btn-default">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n              <sa-datatable tableClass="table table-striped table-bordered table-hover" [detailsFormat]="detailsFormat">\r\n                <thead>\r\n                <tr role="row">\r\n                  <th>\r\n                    姓名\r\n                  </th>\r\n                  <th>\r\n                    位置\r\n                  </th>\r\n                  <th>\r\n                    检测数据\r\n                  </th>\r\n                  <th>\r\n                    状态\r\n                  </th>\r\n                  <th>\r\n                    <i class="fa fa-fw fa-calendar text-muted hidden-md hidden-sm hidden-xs"></i>\r\n                    采集数据时间\r\n                  </th>\r\n                </tr>\r\n                </thead>\r\n\r\n                \x3c!--</sa-datatable>\r\n                <sa-datatable tableClass="table table-striped table-bordered table-hover" [detailsFormat]="detailsFormat">--\x3e\r\n\r\n                <tbody >\r\n                <tr role="row" class="odd">\r\n                  <td >\r\n                    谢轩逸\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n                  </td>\r\n                  <td>\r\n                    成都锦江国际酒店25楼\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 46</i>\r\n                    </small>\r\n                  </td>\r\n                  <td>\r\n\r\n                    <a class="btn btn-success btn-xs" >脑电:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >心率:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >血氧:0.8%</a>\r\n                    <span>|</span>\r\n                    <a class="btn btn-success btn-xs" >甲烷：0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >一氧化碳:\t0.4%</a>\r\n                    <a class="btn btn-success btn-xs" >二氧化碳:3%</a>\r\n                    <a class="btn btn-danger  btn-xs" >氧气:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >温度:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >湿度:0.8%</a>\r\n                  </td>\r\n                  <td>\r\n                    <i class="fa fa-circle txt-color-darken font-xs"></i> 未激活\r\n                    <i class="fa fa-circle text-danger font-xs"></i> 使用中\r\n                  </td>\r\n                  <td>2017-10-12 00:00:00</td>\r\n                </tr>\r\n\r\n                <tr role="row" class="even">\r\n\r\n                  <td >\r\n                    谢轩逸\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n\r\n                  </td>\r\n                  <td>\r\n                    成都锦江国际酒店25楼\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n                  </td>\r\n\r\n                  <td>\r\n                    <a class="btn btn-success btn-xs" >脑电:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >心率:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >血氧:0.8%</a>\r\n                    <span>|</span>\r\n                    <a class="btn btn-success btn-xs" >甲烷：0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >一氧化碳:\t0.4%</a>\r\n                    <a class="btn btn-success btn-xs" >二氧化碳:3%</a>\r\n                    <a class="btn btn-danger  btn-xs" >氧气:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >温度:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >湿度:0.8%</a>\r\n\r\n                  </td>\r\n                  <td>\r\n                    <i class="fa fa-circle txt-color-darken font-xs"></i> 未激活\r\n                    <i class="fa fa-circle text-danger font-xs"></i> 使用中\r\n                  </td>\r\n                  <td>2017-10-12 00:00:00</td>\r\n                </tr>\r\n                <tr role="row" class="odd">\r\n\r\n                  <td >\r\n                    谢轩逸\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n\r\n                  </td>\r\n                  <td>\r\n                    成都锦江国际酒店25楼\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n                  </td>\r\n                  <td>\r\n                    <a class="btn btn-success btn-xs" >脑电:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >心率:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >血氧:0.8%</a>\r\n                    <span>|</span>\r\n                    <a class="btn btn-success btn-xs" >甲烷：0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >一氧化碳:\t0.4%</a>\r\n                    <a class="btn btn-success btn-xs" >二氧化碳:3%</a>\r\n                    <a class="btn btn-danger  btn-xs" >氧气:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >温度:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >湿度:0.8%</a>\r\n\r\n                  </td>\r\n                  <td>\r\n                    <i class="fa fa-circle txt-color-darken font-xs"></i> 未激活\r\n                    <i class="fa fa-circle text-danger font-xs"></i> 使用中\r\n                  </td>\r\n                  <td>2017-10-12 00:00:00</td>\r\n                </tr>\r\n                <tr role="row" class="even">\r\n\r\n                  <td >\r\n                    谢轩逸\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n\r\n                  </td>\r\n                  <td>\r\n                    成都锦江国际酒店25楼\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n                  </td>\r\n                  <td>\r\n                    <a class="btn btn-success btn-xs" >脑电:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >心率:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >血氧:0.8%</a>\r\n                    <span>|</span>\r\n                    <a class="btn btn-success btn-xs" >甲烷：0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >一氧化碳:\t0.4%</a>\r\n                    <a class="btn btn-success btn-xs" >二氧化碳:3%</a>\r\n                    <a class="btn btn-danger  btn-xs" >氧气:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >温度:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >湿度:0.8%</a>\r\n\r\n                  </td>\r\n                  <td>\r\n                    <i class="fa fa-circle txt-color-darken font-xs"></i> 未激活\r\n                    <i class="fa fa-circle text-danger font-xs"></i> 使用中\r\n                  </td>\r\n                  <td>2017-10-12 00:00:00</td>\r\n                </tr>\r\n                <tr role="row" class="odd">\r\n\r\n                  <td >\r\n                    谢轩逸\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n\r\n                  </td>\r\n                  <td>\r\n                    成都锦江国际酒店25楼\r\n                    <br>\r\n                    <small class="text-muted">\r\n                      <i>ID: 50</i>\r\n                    </small>\r\n                  </td>\r\n                  <td>\r\n                    <a class="btn btn-success btn-xs" >脑电:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >心率:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >血氧:0.8%</a>\r\n                    <span>|</span>\r\n                    <a class="btn btn-success btn-xs" >甲烷：0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >一氧化碳:\t0.4%</a>\r\n                    <a class="btn btn-success btn-xs" >二氧化碳:3%</a>\r\n                    <a class="btn btn-danger  btn-xs" >氧气:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >温度:0.8%</a>\r\n                    <a class="btn btn-success btn-xs" >湿度:0.8%</a>\r\n\r\n                  </td>\r\n                  <td>\r\n                    <i class="fa fa-circle txt-color-darken font-xs"></i> 未激活\r\n                    <i class="fa fa-circle text-danger font-xs"></i> 使用中\r\n                  </td>\r\n                  <td>2017-10-12 00:00:00</td>\r\n                </tr>\r\n                </tbody>\r\n\r\n              </sa-datatable>\r\n\r\n              \x3c!-- 底部-（分页部分）--\x3e\r\n\r\n              <div class="dt-toolbar-footer">\r\n                <div class="col-sm-6 col-xs-12 hidden-xs">\r\n                  <div class="dataTables_info"  role="status" aria-live="polite">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-6 col-xs-12 hidden-xs text-right">\r\n                  <ul class="pagination pagination-sm">\r\n                    <li class="disabled">\r\n                      <a href="">上一页</a>\r\n                    </li>\r\n                    <li class="success">\r\n                      <a href="">1</a>\r\n                    </li>\r\n                    <li>\r\n                      <a href="">2</a>\r\n                    </li>\r\n                    <li>\r\n                      <a href="">3</a>\r\n                    </li>\r\n                    <li>\r\n                      <a href="">...</a>\r\n                    </li>\r\n                    <li>\r\n                      <a href="">99</a>\r\n                    </li>\r\n                    <li>\r\n                      <a href="">下一页</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n\r\n\r\n\r\n\r\n      </article>\r\n\r\n\r\n    </div>\r\n\r\n  </sa-widgets-grid>\r\n\r\n\r\n\r\n\r\n\r\n\r\n</div>\r\n'},"FZ+f":function(t,e){function n(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"==typeof btoa){var a=r(i);return[n].concat(i.sources.map(function(t){return"/*# sourceURL="+i.sourceRoot+t+" */"})).concat([a]).join("\n")}return[n].join("\n")}function r(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<t.length;i++){var o=t[i];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},FpLB:function(t,e,n){"use strict";var r=n("3j3K"),i=n("NVOs"),a=n("Fzro"),o=n("5oXY"),s=n("ntJC"),l=n("R12H");n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this.http=e,this.router=n,this.cookiestore=r,this.globalService=i,this.selects=[],this.check=!1,this.i3otpList=[],this.prev=!1,this.next=!1,this.i3otpInfo=[],this.rollback_url="/equipment/equipment-list",this.formModel=t.group({keyword:[""]}),this.getI3otpList("1"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){},t.prototype.getI3otpList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getI3otpList?page="+t+"&sid="+this.cookiestore.getCookie("sid");""!=this.formModel.value.keyword.trim()&&(n+="&keyword="+this.formModel.value.keyword.trim()),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.i3otpList=t}),setTimeout(function(){console.log("this.i3otpList:--"),console.log(e.i3otpList),202==e.i3otpList.status&&(e.cookiestore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.i3otpList&&(e.i3otpList.result.i3otpList.current_page==e.i3otpList.result.i3otpList.last_page?e.next=!0:e.next=!1,1==e.i3otpList.result.i3otpList.current_page?e.prev=!0:e.prev=!1),e.selects=[];for(var t=0,n=e.i3otpList.result.i3otpList.data;t<n.length;t++){var r=n[t];e.selects[r.i3otp_id]=!1}e.check=!1},400)},t.prototype.pagination=function(t){this.page=t,this.getI3otpList(this.page)},t.prototype.onSubmit=function(){if(""==this.formModel.value.keyword.trim())return alert("请输入需要搜索的关键字"),!1;this.getI3otpList("1")},t.prototype.getI3otpInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpInfo?i_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.i3otpInfo=t}),setTimeout(function(){console.log("this.i3otpInfo:-----"),console.log(e.i3otpInfo)},300)},t.prototype.deleteI3otp=function(t,e){var n=this;if(this.globalService.demoAlert("",""))return!1;confirm("您确定要删除该条信息吗？")&&(this.http.delete(this.globalService.getDomain()+"/api/v1/deleteI3otpById?i_id="+t+"&page="+e+"&type=id&sid="+this.cookiestore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){n.i3otpList=t}),setTimeout(function(){202==n.i3otpList.status&&(n.cookiestore.removeAll(n.rollback_url),n.router.navigate(["/auth/login"])),n.i3otpList&&(n.i3otpList.result.i3otpList.current_page==n.i3otpList.result.i3otpList.last_page?n.next=!0:n.next=!1,1==n.i3otpList.result.i3otpList.current_page?n.prev=!0:n.prev=!1)},300))},t.prototype.handle=function(t){var e=t.target,n=e.value,r=e.checked;this.selects[n]=r;for(var i=0,a=0,o=this.selects;a<o.length;a++){0==o[a]&&(i+=1)}this.check=!(i>=1)},t.prototype.changeCheckAll=function(t){var e=this,n=t.target,r=n.checked;this.selects.forEach(function(t,n,i){e.selects[n]=r}),this.check=r},t.prototype.deleteI3otpAll=function(t){var e=this;if(this.globalService.demoAlert("",""))return!1;if(confirm("删除后将不可恢复，您确定要删除吗？")){var n="";this.selects.forEach(function(t,e,r){1==t&&(n+=e+",")}),this.http.delete(this.globalService.getDomain()+"/api/v1/deleteI3otpById?ids="+n+"&type=all&page="+t+"&sid="+this.cookiestore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){e.i3otpList=t}),setTimeout(function(){alert(e.i3otpList.msg),202==e.i3otpList.status&&(e.cookiestore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.i3otpList&&(e.i3otpList.result.current_page==e.i3otpList.result.last_page?e.next=!0:e.next=!1,1==e.i3otpList.result.current_page?e.prev=!0:e.prev=!1)},300)}},t.prototype.isDemo=function(t,e){this.globalService.demoAlert(t,e)},t}();p=c([n.i(r.Component)({selector:"app-equipment-list",template:n("nWJE")}),d("design:paramtypes",["function"==typeof(h=void 0!==i.e&&i.e)&&h||Object,"function"==typeof(u=void 0!==a.d&&a.d)&&u||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object])],p);var h,u,f,g,b},GOFk:function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2"),a=n("Fzro"),o=n("Gvdl"),s=(n.n(o),n("xHjW")),l=n("Exih"),c=n("NVOs"),d=n("5oXY"),p=n("ntJC"),h=n("R12H");n.d(e,"a",function(){return g});var u=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(t,e,n,r,i,a){this.http=e,this.router=n,this.cookieStore=r,this.globalService=i,this.notificationService=a,this.i3otpList=[],this.prev=!1,this.next=!1,this.size=20,this.cid="",this.pid="",this.metric="",this.join_pid=[],this.join_str=[],this.metric_title=[],this.loading="数据正在努力加载中...",this.status="",this.products1=[],this.products2=[],this.seriesInfo1=[],this.seriesInfo2=[],this.lastList1=[],this.newList=[],this.abnormalData=[],this.selectedStr={},this.isShowJoin=!1,this.rollback_url="/equipment/helmet-chart",this.formModel=t.group({keyword:[""]}),this.getI3otpList("1"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){var t=this;this.interval=setInterval(function(){t.search_datapoint()},18e4)},t.prototype.ngOnDestroy=function(){this.interval&&clearInterval(this.interval),this.isClear&&clearInterval(this.isClear)},t.prototype.getI3otpList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getI3otpList?page="+t+"&i3otp_category="+this.globalService.getStation(1)+"&type=pic&sid="+this.cookieStore.getCookie("sid");""!=this.formModel.value.keyword.trim()&&(n+="&keyword="+this.formModel.value.keyword.trim()),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.i3otpList=t}),setTimeout(function(){if(console.log("this.i3otpList:--"),console.log(e.i3otpList),202==e.i3otpList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),0==e.i3otpList.length)return alert("没有数据，请确认已添加数据后再次刷新此页面！"),!1;e.pid=e.i3otpList.result.pid,e.cid=e.i3otpList.result.cid,e.metric=e.i3otpList.result.metric,e.search_datapoint()},500)},t.prototype.onSubmit=function(){if(""==this.formModel.value.keyword.trim())return alert("请输入需要搜索的关键字"),!1;this.getI3otpList("1")},t.prototype.search_datapoint=function(){var t=this;this.size=20;var e=JSON.stringify(this.selectedStr),n=this.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+this.size+"&cid="+this.cid+"&metric="+this.metric+"&pid="+this.pid+"&selectedStr="+e;this.dataSource1=this.http.get(n).map(function(t){return t.json()}),this.dataSource1.subscribe(function(e){return t.products1=e}),setTimeout(function(){console.log("this.products1:-----"),console.log(t.products1),t.chartOption1=t.getValue(1),console.log("this.chartOption1:-----"),console.log(t.chartOption1)},5e3)},t.prototype.getValue=function(t){if(1==t){if(console.log("getValue  products1:"),console.log(this.products1),0==this.products1.length&&""!=this.metric.replace("_","")&&""!=this.pid.replace(",",""))return this.search_datapoint(),!1;if(""==this.metric.replace("_","").trim()||""==this.pid.replace(",","").trim())return alert("没有可用以画图的传感器！"),!1;for(var e=[],n=0,r=0,i=this.products1.data;r<i.length;r++){var a=i[r];this.lastList1=[];for(var o=0,s=[],l=0,c=a.name;l<c.length;l++){var d=c[l];this.seriesInfo1=[],this.seriesInfo1.push({name:d,type:"line",stack:"总量",data:this.products1.data[n].info[d].value});var p=this.products1.data[n].info[d].value[this.size-1],h=a.time[this.size-1];this.lastList1.push({name:d,time:h||"无",value:p||0}),this.lastList1==[]?(s[o]=[],s["l"+o]=0):(s[o]=this.commonOne(this.seriesInfo1,d,a.time),s["l"+o]=this.products1.data[n].info[d].value.length),o++}e[n]=s,this.newList[n]=this.lastList1,n++}return e}if(2==t){if(0==this.products2.length&&this.join_str!=[]&&this.join_pid!=[])return this.search_join_datapoint(),!1;if(this.join_str==[]||this.join_pid==[])return alert("没有可对比的数据！"),!1;this.metric_title=this.products2.title;for(var e=[],n=0,u=0,f=this.products2.data;u<f.length;u++){var a=f[u];if(n<this.products2.data.length){this.seriesInfo2=[];for(var g=0,b=a.name;g<b.length;g++){var d=b[g];this.seriesInfo2.push({name:d,type:"line",stack:"总量",data:this.products2.data[n].info[d].value})}e[n]=this.common(this.seriesInfo2,a.name,a.selected,a.time)}n++}return console.log("result:-------------"),console.log(e),e}},t.prototype.showLine=function(t,e){var n=this.cookieStore.getEN(e),r=!1;for(var i in this.selectedStr)i==n+"_"+t&&(delete this.selectedStr[i],r=!0);0==r&&(this.selectedStr[n+"_"+t]=n),this.products1.data[t].selected[n]=r,this.chartOption1=this.getValue(1)},t.prototype.common=function(t,e,n,r){return{title:{text:"设备检测数据"},tooltip:{trigger:"axis"},legend:{data:e,selected:n},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!1,data:r}],yAxis:[{type:"value"}],series:t}},t.prototype.commonOne=function(t,e,n){return{title:{text:"设备检测数据"},tooltip:{trigger:"axis"},legend:{data:[e]},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!1,data:n}],yAxis:[{type:"value"}],series:t}},t.prototype.pagination=function(t){this.page=t,this.status="",this.newList=[],this.products1=[],this.chartOption1=[],this.getI3otpList(this.page)},t.prototype.showJoinPic=function(){var t=this;return 0==this.join_str.length?(alert("请添加对比数据后，再点击此‘查看对比图’按钮。"),!1):(this.search_join_datapoint(),this.isClear=setInterval(function(){t.search_join_datapoint()},18e4),!0)},t.prototype.search_join_datapoint=function(){var t=this;this.size=50;for(var e="",n=0;n<this.join_str.length;n++)n>0&&(e+="_"),e+=this.join_str[n];var r=this.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+this.size+"&cid="+this.cid+"&metric="+e+"&pid="+this.join_pid+"&type=join";this.dataSource2=this.http.get(r).map(function(t){return t.json()}),this.dataSource2.subscribe(function(e){return t.products2=e}),setTimeout(function(){t.chartOption2=t.getValue(2),t.loading=""},5e3)},t.prototype.ngOnClose=function(){this.seriesInfo2=[],this.products2=[],this.isClear&&clearInterval(this.isClear)},t.prototype.changeStatus=function(t,e){console.log("this.status"),console.log(this.status),console.log(e),"-"==e?this.status=this.status.replace(","+t+",",""):this.status+=","+t+",",console.log(this.status)},t.prototype.showChildModal=function(){this.lgModal.show()},t.prototype.hideChildModal=function(){this.lgModal.hide()},t.prototype.notificationExample2=function(t,e){this.cookieStore.in_array(t,this.join_pid)||(this.join_pid.push(t),this.join_str.push(e)),this.isShowJoin=!0},t.prototype.showAbnormal=function(t,e){var n=this,r=this.globalService.getDomain()+"/api/v1/getI3otpAbnormal?u_id="+t+"&i3otp_pid="+e;this.http.get(r).map(function(t){return t.json()}).subscribe(function(t){n.abnormalData=t})},t.prototype.outPid=function(t){var e=this.join_pid.indexOf(t);this.join_pid.splice(e,1),console.log(this.join_pid)},t.prototype.closePid=function(){this.isShowJoin=!1},t}();u([n.i(r.ViewChild)("lgModal"),f("design:type","function"==typeof(b=void 0!==l.h&&l.h)&&b||Object)],g.prototype,"lgModal",void 0),g=u([n.i(i.a)(),n.i(r.Component)({selector:"app-helmet-chart",template:n("ocpg"),styles:[n("xavB")]}),f("design:paramtypes",["function"==typeof(m=void 0!==c.e&&c.e)&&m||Object,"function"==typeof(v=void 0!==a.d&&a.d)&&v||Object,"function"==typeof(_=void 0!==d.a&&d.a)&&_||Object,"function"==typeof(y=void 0!==p.a&&p.a)&&y||Object,"function"==typeof(x=void 0!==h.a&&h.a)&&x||Object,"function"==typeof(w=void 0!==s.a&&s.a)&&w||Object])],g);var b,m,v,_,y,x,w},HS8E:function(t,e,n){"use strict";n("4y6z"),n("6gVj")},ID0o:function(t,e,n){"use strict";var r=n("3j3K"),i=n("NVOs"),a=n("Fzro"),o=n("5oXY"),s=n("ntJC"),l=n("R12H");n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i,a){this.http=e,this.router=n,this.routInfo=r,this.cookieStore=i,this.globalService=a,this.i3otpList=[],this.i3otpListUser=[],this.i_id=0,this.i3otp_info=[],this.c_id_default=0,this.join_sensor_category=[],this.join_category=[],this.show_join_sensor_category=[],this.show_join_category=[],this.color_category_id=0,this.div_show_sensor=!0,this.div_show_comm=!0,this.rollback_url="/equipment/add-equipment",this.formModel=t.group({i3otp_id:[""],i3otp_pid:[""],i3otp_c_pid:[""],i3otp_category:[""],i3otp_name:[""],i3otp_address:[""],i3otp_status:[""],i3otp_communication:[""],i3otp_communication_:[""],i3otp_sensor_intervan:[""],i3otp_sensor_category:[""],i3otp_sensor_category_:[""],u_id:[""],c_id:[""],o_id:[""],i3otp_spec:[""],i3otp_activation:[""],i3otp_p_origin:[""],i3otp_p_export:[""],i3otp_hardware:[""],i3otp_firmware:[""],i3otp_f_update:[""],i3otp_mac_addr:[""],i3otp_qc_date:[""],i3otp_production_date:[""]})}return t.prototype.ngOnInit=function(){this.i_id=this.routInfo.snapshot.params.i_id,0!=this.i_id?(this.getI3otpInfo(this.i_id),this.rollback_url+="/"+this.i_id):this.rollback_url+="/0",this.getI3otpDefault()},t.prototype.getI3otpInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpInfo?i_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.i3otp_info=t}),setTimeout(function(){console.log("this.i3otp_info:---"),console.log(e.i3otp_info),e.formModel.patchValue({i3otp_id:e.i3otp_info.result.i3otp_id,i3otp_pid:e.i3otp_info.result.i3otp_pid,i3otp_c_pid:e.i3otp_info.result.i3otp_c_pid,i3otp_category:e.i3otp_info.result.i3otp_category,i3otp_name:e.i3otp_info.result.i3otp_name,i3otp_address:e.i3otp_info.result.i3otp_address,i3otp_communication:e.i3otp_info.result.i3otp_communications,c_id:e.i3otp_info.result.c_id,u_id:e.i3otp_info.result.u_id,o_id:e.i3otp_info.result.o_id,i3otp_spec:e.i3otp_info.result.i3otp_spec,i3otp_sensor_intervan:e.i3otp_info.result.i3otp_sensor_intervan,i3otp_qc_date:e.i3otp_info.result.i3otp_qc_date,i3otp_activation:e.i3otp_info.result.i3otp_activation,i3otp_status:e.i3otp_info.result.i3otp_status,i3otp_p_origin:e.i3otp_info.result.i3otp_p_origin,i3otp_p_export:e.i3otp_info.result.i3otp_p_export,i3otp_hardware:e.i3otp_info.result.i3otp_hardware,i3otp_firmware:e.i3otp_info.result.i3otp_firmware,i3otp_f_update:e.i3otp_info.result.i3otp_f_update,i3otp_mac_addr:e.i3otp_info.result.i3otp_mac_addr,i3otp_sensor_category:e.i3otp_info.result.i3otp_sensor_categorys,i3otp_production_date:e.i3otp_info.result.i3otp_production_date}),e.u_id_default=e.i3otp_info.result.u_id,e.c_id_default=e.i3otp_info.result.c_id,e.i3otp_category_default=e.i3otp_info.result.i3otp_category,e.join_sensor_category=e.i3otp_info.result.i3otp_sensor_categorys,e.join_category=e.i3otp_info.result.i3otp_communications,e.show_join_sensor_category=e.i3otp_info.result.show_join_sensor_category,e.show_join_category=e.i3otp_info.result.show_join_category,0!=e.c_id_default&&e.getTheUserList(e.c_id_default,2)},500)},t.prototype.getI3otpDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpDefault?sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(e){t.i3otpList=e}),setTimeout(function(){console.log("this.i3otpList"),console.log(t.i3otpList),202==t.i3otpList.status&&(alert(t.i3otpList.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"])),0==t.i_id&&(t.c_id_default=0,t.i3otp_category_default=0,t.join_sensor_category=t.i3otpList.result.sensorCategoryList.length>=1?[t.i3otpList.result.sensorCategoryList[0].category_id]:[],t.show_join_sensor_category=t.i3otpList.result.sensorCategoryList.length>=1?[t.i3otpList.result.sensorCategoryList[0].category_desc]:[],t.join_category=t.i3otpList.result.communicationList.length>=1?[t.i3otpList.result.communicationList[0].category_id]:[],t.show_join_category=t.i3otpList.result.communicationList.length>=1?[t.i3otpList.result.communicationList[0].category_desc]:[])},600)},t.prototype.getTheUserList=function(t,e){var n=this,r=0;r=1==e?t.target.value:t,this.http.get(this.globalService.getDomain()+"/api/v1/getTheUserList?c_id="+r).map(function(t){return t.json()}).subscribe(function(t){n.i3otpListUser=t}),setTimeout(function(){202==n.i3otpListUser.status&&(alert(n.i3otpListUser.msg),n.cookieStore.removeAll(n.rollback_url),n.router.navigate(["/auth/login"])),0==n.i_id&&(n.u_id_default=0)},600)},t.prototype.onSubmit=function(){var t=this;return""==this.formModel.value.i3otp_pid.trim()?(alert("请填写设备编号！"),!1):""==this.formModel.value.i3otp_name.trim()?(alert("请填写设备名称！"),!1):void this.http.post(this.globalService.getDomain()+"/api/v1/addI3otp",{i3otp_id:this.formModel.value.i3otp_id,i3otp_pid:this.formModel.value.i3otp_pid,i3otp_c_pid:this.formModel.value.i3otp_c_pid,i3otp_category:this.formModel.value.i3otp_category,i3otp_name:this.formModel.value.i3otp_name,i3otp_address:this.formModel.value.i3otp_address,i3otp_communication:this.join_category,c_id:this.formModel.value.c_id,u_id:this.formModel.value.u_id,o_id:this.formModel.value.o_id,i3otp_spec:this.formModel.value.i3otp_spec,i3otp_sensor_intervan:this.formModel.value.i3otp_sensor_intervan,i3otp_qc_date:this.formModel.value.i3otp_qc_date,i3otp_activation:this.formModel.value.i3otp_activation,i3otp_status:this.formModel.value.i3otp_status,i3otp_p_origin:this.formModel.value.i3otp_p_origin,i3otp_p_export:this.formModel.value.i3otp_p_export,i3otp_hardware:this.formModel.value.i3otp_hardware,i3otp_firmware:this.formModel.value.i3otp_firmware,i3otp_f_update:this.formModel.value.i3otp_f_update,i3otp_mac_addr:this.formModel.value.i3otp_mac_addr,i3otp_production_date:this.formModel.value.i3otp_production_date,i3otp_sensor_category:this.join_sensor_category,sid:this.cookieStore.getCookie("sid")}).subscribe(function(e){var n=JSON.parse(e._body);alert(n.msg),200==n.status?t.router.navigateByUrl("/equipment/equipment-list"):202==n.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))},function(t){console.log("PATCH call in error",t)})},t.prototype.sensorCategoryChange=function(t,e){if(console.log("this.join_sensor_category"),console.log(this.join_sensor_category),this.cookieStore.in_array(t,this.join_sensor_category))for(var n=0;n<this.join_sensor_category.length;n++)this.join_sensor_category[n]==t&&(this.join_sensor_category.splice(n,1),this.show_join_sensor_category.splice(n,1));else this.join_sensor_category.push(t),this.show_join_sensor_category.push(e)},t.prototype.categoryChange=function(t,e){if(this.cookieStore.in_array(t,this.join_category))for(var n=0;n<this.join_category.length;n++)this.join_category[n]==t&&(this.join_category.splice(n,1),this.show_join_category.splice(n,1));else this.join_category.push(t),this.show_join_category.push(e)},t.prototype.divColor=function(t){this.color_category_id=t},t.prototype.outMouseColor=function(){this.color_category_id=0,this.div_show_sensor=!0,this.div_show_comm=!0},t.prototype.showColorDivSensor=function(){this.div_show_sensor=!1},t.prototype.showColorDivComm=function(){this.div_show_comm=!1},t.prototype.deleteJoin=function(t,e){t.stopPropagation();for(var n=0;n<this.show_join_category.length;n++)this.show_join_category[n]==e&&(this.join_category.splice(n,1),this.show_join_category.splice(n,1))},t.prototype.deleteJoinSensor=function(t,e){t.stopPropagation();for(var n=0;n<this.show_join_sensor_category.length;n++)this.show_join_sensor_category[n]==e&&(this.join_sensor_category.splice(n,1),this.show_join_sensor_category.splice(n,1))},t}();p=c([n.i(r.Component)({selector:"app-add-equipment",template:n("2Dzw")}),d("design:paramtypes",["function"==typeof(h=void 0!==i.e&&i.e)&&h||Object,"function"==typeof(u=void 0!==a.d&&a.d)&&u||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(g=void 0!==o.c&&o.c)&&g||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object])],p);var h,u,f,g,b,m},ILEn:function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2"),a=n("NVOs"),o=n("Fzro"),s=n("5oXY"),l=n("ntJC"),c=n("R12H");n.d(e,"a",function(){return h});var d=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,n,r,i){this.http=e,this.router=n,this.cookieStore=r,this.globalService=i,this.state={tabs:{demo1:0,demo2:"tab-r1",demo3:"hr1",demo4:"AA",demo5:"iss1",demo6:"l1",demo7:"tab1",demo8:"hb1",demo9:"A1",demo10:"is1"}},this.settingsList=[],this.settings_info=[],this.s_id=0,this.rollback_url="/equipment/chart-setting",this.formModel=t.group({s_id:[""],s_name:[""],s_interval1_1:[""],s_interval1_2:[""],s_color1:["#dff0d8"],s_interval2_1:[""],s_interval2_2:[""],s_color2:["#fcf8e3"],s_interval3_1:[""],s_interval3_2:[""],s_color3:["#f2dede"]}),this.getSettingsList("1")}return t.prototype.ngOnInit=function(){},t.prototype.getSettingsList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getSettingsList?page="+t+"&sid="+this.cookieStore.getCookie("sid");this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.settingsList=t}),setTimeout(function(){console.log("this.settingsList:--"),console.log(e.settingsList),202==e.settingsList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"]))},300)},t.prototype.toDefault=function(t){var e=this;confirm("该区间的设置颜色恢复默认后将不能撤销，是否继续？")&&this.http.post(this.globalService.getDomain()+"/api/v1/editSettings",{s_id:t,s_color1:"#dff0d8",s_color2:"#fcf8e3",s_color3:"#f2dede",sid:this.cookieStore.getCookie("sid")}).subscribe(function(t){var n=JSON.parse(t._body);alert(n.msg),200==n.status?e.settingsList=n:202==n.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"]))})},t.prototype.getSettingsInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getSettingsInfo?s_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.settings_info=t}),setTimeout(function(){console.log("this.settings_info:---"),console.log(e.settings_info),e.formModel.patchValue({s_id:e.settings_info.result.s_id,s_name:e.settings_info.result.s_name,s_interval1_1:e.settings_info.result.s_interval1_1,s_interval1_2:e.settings_info.result.s_interval1_2,s_color1:e.settings_info.result.s_color1,s_interval2_1:e.settings_info.result.s_interval2_1,s_interval2_2:e.settings_info.result.s_interval2_2,s_color2:e.settings_info.result.s_color2,s_interval3_1:e.settings_info.result.s_interval3_1,s_interval3_2:e.settings_info.result.s_interval3_2,s_color3:e.settings_info.result.s_color3}),e.s_name_default=e.settings_info.result.s_name,e.s_id=e.settings_info.result.s_id},500)},t.prototype.onSubmit=function(){var t=this;return""==this.formModel.value.s_name.trim()?(alert("请选择名称！"),!1):""==this.formModel.value.s_interval1_1.trim()?(alert("请填写第一阶段区间值！"),!1):""==this.formModel.value.s_interval2_1.trim()?(alert("请填写第二阶段区间值！"),!1):""==this.formModel.value.s_interval3_1.trim()?(alert("请填写第三阶段区间值！"),!1):void this.http.post(this.globalService.getDomain()+"/api/v1/addSettings",{s_id:this.formModel.value.s_id,s_name:this.formModel.value.s_name,s_interval1_1:this.formModel.value.s_interval1_1,s_interval1_2:this.formModel.value.s_interval1_2,s_color1:this.formModel.value.s_color1,s_interval2_1:this.formModel.value.s_interval2_1,s_interval2_2:this.formModel.value.s_interval2_2,s_color2:this.formModel.value.s_color2,s_interval3_1:this.formModel.value.s_interval3_1,s_interval3_2:this.formModel.value.s_interval3_2,s_color3:this.formModel.value.s_color3,sid:this.cookieStore.getCookie("sid")}).subscribe(function(e){var n=JSON.parse(e._body);alert(n.msg),200==n.status?(t.settingsList=n,t.formModel.patchValue({s_id:0,s_name:"",s_interval1_1:"",s_interval1_2:"",s_color1:"#dff0d8",s_interval2_1:"",s_interval2_2:"",s_color2:"#fcf8e3",s_interval3_1:"",s_interval3_2:"",s_color3:"#f2dede"}),t.s_id=0):202==n.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))},function(t){console.log("PATCH call in error",t)})},t.prototype.deleteSettings=function(t){var e=this;if(confirm("您确定要删除该条信息吗？")){var n=this.globalService.getDomain()+"/api/v1/deleteSettingsById?s_id="+t+"&type=id&sid="+this.cookieStore.getCookie("sid");this.http.delete(n).map(function(t){return t.json()}).subscribe(function(t){e.settingsList=t}),setTimeout(function(){202==e.settingsList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"]))},300)}},t}();h=d([n.i(i.a)(),n.i(r.Component)({selector:"app-chart-setting",template:n("4zyS")}),p("design:paramtypes",["function"==typeof(u=void 0!==a.e&&a.e)&&u||Object,"function"==typeof(f=void 0!==o.d&&o.d)&&f||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(b=void 0!==l.a&&l.a)&&b||Object,"function"==typeof(m=void 0!==c.a&&c.a)&&m||Object])],h);var u,f,g,b,m},IoIA:function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("1lVi"),o=n("kCVe");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},l=function(){function t(){}return t}();l=s([n.i(r.NgModule)({imports:[i.CommonModule,o.a],declarations:[a.a],exports:[a.a]})],l)},JfQF:function(t,e,n){"use strict";var r=n("3j3K"),i=n("YfZZ"),a=n("sWHp");n.d(e,"a",function(){return l});var o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.todoService=t,this.states=this.todoService.states}return t.prototype.ngOnInit=function(){},t.prototype.createTodo=function(){this.todoService.createTodo(this.newTodo),this.newTodo=null},t.prototype.toggleAdd=function(){this.newTodo?this.newTodo=null:(this.newTodo=new a.a,this.newTodo.state="Important")},t}();l=o([n.i(r.Component)({selector:"app-todo-details",template:n("Dgcp"),providers:[i.a]}),s("design:paramtypes",["function"==typeof(c=void 0!==i.a&&i.a)&&c||Object])],l);var c},"Jg+k":function(t,e){t.exports='\x3c!--主要内容--\x3e\r\n<div id="content">\r\n    <div class="row">\r\n        <sa-big-breadcrumbs [items]="[\'广播预警预防系统\', \'添加广播信息\']" icon="pencil-square-o" ></sa-big-breadcrumbs>\r\n    </div>\r\n\r\n    <sa-widgets-grid>\r\n        <div class="row">\r\n\r\n            <article class="col-sm-12 ">\r\n\r\n                <sa-widget [editbutton]="false" [deletebutton]="false" >\r\n                    <header>\r\n                        <span class="widget-icon"> <i class="fa fa-edit"></i> </span>\r\n                        <h2>添加广播信息</h2>\r\n                    </header>\r\n\r\n                    <div>\r\n                        \x3c!--小部件内容--\x3e\r\n                        <div class="widget-body no-padding">\r\n\r\n                            <form id="smart-form-register" class="smart-form"  [formGroup]="formModel" (ngSubmit)="onSubmit()">\r\n                                <fieldset>\r\n\r\n                                    <input type="hidden" name="b_id" formControlName="b_id">\r\n                                    <legend>基本信息</legend>\r\n                                    <div class="form-group col col-lg-8 col-md-8 col-sm-8 col-xs-12 ">\r\n                                        <section>\r\n                                            <label class="label">设备ID</label>\r\n\r\n                                            <span class="select2 select2-container select2-container--default select2-container--below select2-container--focus "  style="width: 100%;">\r\n                                           <span class="selection">\r\n                                             <span class="select2-selection select2-selection--multiple" (click)="showColorDivI3otp()">\r\n                                               <ul class="select2-selection__rendered">\r\n                                                 <li class="select2-selection__choice" title="{{cs}}" *ngFor="let cs of join_i3otp_category">\r\n                                                   <span class="select2-selection__choice__remove" (click)="deleteI3otp($event,cs)">\r\n                                                     ×</span>{{cs}}\r\n                                                 </li>\r\n                                                   <li></li>\r\n                                               </ul>\r\n                                             </span>\r\n                                           </span>\r\n                                         </span>\r\n                                            \x3c!--<span class="select2 select2-container&#45;&#45;open select2-container select2-container&#45;&#45;default select2-container&#45;&#45;below select2-container&#45;&#45;focus select-hidden" dir="ltr" style="width: 100%;position: absolute;">--\x3e\r\n                                           \x3c!--<span class="selection">--\x3e\r\n                                             \x3c!--<span class="select2-selection select2-selection&#45;&#45;multiple select2-results select2-dropdown select2-drop-active">--\x3e\r\n                                              \x3c!--<ul class="select2-results__options select2-results__options&#45;&#45;nested">--\x3e\r\n                                                \x3c!--<li class="select2-results__option  select2-results__option&#45;&#45;highlighted" >4566</li>--\x3e\r\n                                                \x3c!--<li class="select2-results__option">4666</li>--\x3e\r\n                                                \x3c!--<li class="select2-results__option">456465456</li>--\x3e\r\n                                                \x3c!--<li class="select2-results__option">4-45665</li>--\x3e\r\n                                                \x3c!--<li class="select2-results__option">46656</li>--\x3e\r\n                                                \x3c!--<li class="select2-results__option">456456</li>--\x3e\r\n                                                \x3c!--<li class="select2-results__option">456546</li>--\x3e\r\n                                              \x3c!--</ul>--\x3e\r\n                                             \x3c!--</span>--\x3e\r\n                                           \x3c!--</span>--\x3e\r\n                                         \x3c!--</span>--\x3e\r\n                                            <span [ngClass]="{\'select2 select2-container--open select2-container select2-container--default select2-container--below select2-container--focus\':true,\'select-hidden\':div_show_i3otp}" dir="ltr" style="width: 100%;position: absolute;">\r\n                                               <span class="selection">\r\n                                                 <span class="select2-selection select2-selection--multiple select2-results select2-dropdown select2-drop-active" (mouseleave)="outMouseColor()">\r\n                                                  <ul class="select2-results__options select2-results__options--nested">\x3c!--  select2-results__option--highlighted--\x3e\r\n                                                    <li [ngClass]="{\'select2-results__option--highlighted\' : (color_i3otp_id == sc.i3otp_pid),\'select2-results__option\':true}" (click)="i3otpChange(sc.i3otp_pid)" (mouseenter)="divColor(sc.i3otp_pid)" *ngFor="let sc of broadcastList.result?.i3otpList" value="{{sc.i3otp_pid}}">{{sc.i3otp_pid}}</li>\r\n                                                  </ul>\r\n                                                 </span>\r\n                                               </span>\r\n                                            </span>\r\n                                        </section>\r\n                                    </div>\r\n\r\n                                    <div class="form-group col col-lg-4 col-md-4 col-sm-4 col-xs-12 ">\r\n                                        <section>\r\n                                            <label class="label">警报类型（多选按钮）</label>\r\n                                            <div class="inline-group">\r\n                                                <label class="checkbox state-disabled">\r\n                                                    <input type="checkbox" value="text" [checked]="selects[\'text\']" (change)="handle($event)" name="b_category" formControlName="b_category">\r\n                                                    <i></i>文字</label>\r\n                                                <label class="checkbox state-disabled">\r\n                                                    <input type="checkbox" value="voice" [checked]="selects[\'voice\']" (change)="handle($event)" name="b_category" formControlName="b_category">\r\n                                                    <i></i>语音</label>\r\n                                            </div>\r\n                                        </section>\r\n                                    </div>\r\n                                    <div class="form-group col col-lg-6 col-md-6 col-sm-6 col-xs-12 ">\r\n                                        <section >\r\n                                            <label class="label">文字输入</label>\r\n                                            <label class="input">\r\n                                                <input type="text" placeholder="请输入内容 " maxlength="150" name="b_info" formControlName="b_info"/>\r\n                                            </label>\r\n                                        </section>\r\n                                    </div>\r\n                                    <div class="form-group col col-lg-3 col-md-3 col-sm-6 col-xs-12 ">\r\n                                        <section >\r\n                                            <label class="label">闪烁</label>\r\n                                            <label class="input">\r\n                                                <input type="text" placeholder="请输入闪烁时间" maxlength="10" name="b_led" formControlName="b_led" />\r\n                                            </label>\r\n                                        </section>\r\n                                    </div>\r\n                                    <div class="form-group col col-lg-3 col-md-3 col-sm-6 col-xs-12 ">\r\n                                        <section >\r\n                                            <label class="label">警报</label>\r\n                                            <label class="input">\r\n                                                <input type="text" placeholder="请输入警报持续时间" maxlength="10" name="b_buzzer" formControlName="b_buzzer"/>\r\n                                            </label>\r\n                                        </section>\r\n                                    </div>\r\n                                    <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                                        <section >\r\n                                            <label class="label">广播公司</label>\r\n                                            <label class="select">\r\n                                                <select name="c_id" formControlName="c_id" [(ngModel)]="c_id_default" (change)="getTheUserList($event,1)">\r\n                                                    <option value="0" [selected]="b_id == 0">--请选择--</option>\r\n                                                    <option *ngFor="let c of broadcastList.result?.customerList" [selected]="broadcastInfo.result?.c_id == c.c_number" value="{{c.c_number}}">{{c.c_name}}</option>\r\n                                                </select> <i></i> </label>\r\n                                        </section>\r\n                                    </div>\r\n                                    <div class="form-group col col-lg-4 col-md-4 col-sm-6 col-xs-12 ">\r\n                                        <section >\r\n                                            <label class="label">广播人员</label>\r\n                                            <label class="select">\r\n                                                <select name="u_id" formControlName="u_id" [(ngModel)]="u_id_default">\r\n                                                    <option value="0" [selected]="b_id == 0">--请选择--</option>\r\n                                                    <option *ngFor="let u of broadcastListUser.result?.userList" [selected]="broadcastInfo.result?.u_id == u.name" value="{{u.name}}">{{u.u_username}}</option>\r\n                                                </select> <i></i> </label>\r\n                                        </section>\r\n                                    </div>\r\n                                </fieldset>\r\n                                <footer>\r\n                                    <button type="button" class="btn btn-default" routerLink="/equipment/phonics-list">\r\n                                        返回\r\n                                    </button>\r\n                                    <button type="submit" class="btn btn-primary">\r\n                                        保存\r\n                                    </button>\r\n                                </footer>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </sa-widget>\r\n            </article>\r\n        </div>\r\n    </sa-widgets-grid>\r\n</div>'},KIJB:function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2"),a=n("NVOs"),o=n("Fzro"),s=n("5oXY"),l=n("ntJC"),c=n("R12H"),d=n("1nuA");n.n(d);n.d(e,"a",function(){return u});var p=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,r,i,a){this.http=e,this.router=n,this.routInfo=r,this.cookieStore=i,this.globalService=a,this.broadcastList=[],this.broadcastListUser=[],this.broadcastInfo=[],this.b_id=0,this.selects=[],this.u_id_default=0,this.c_id_default=0,this.join_i3otp_category=[],this.color_i3otp_id=0,this.div_show_i3otp=!0,this.rollback_url="/equipment/phonics",this.formModel=t.group({b_id:[""],i3otp_pid:[""],u_id:[""],c_id:[""],b_category:[""],b_info:[""],b_loh:[""],b_led:[""],b_buzzer:[""]})}return t.prototype.ngOnInit=function(){this.getBroadcastDefault(),this.b_id=this.routInfo.snapshot.params.b_id,0!=this.b_id?(this.getBroadcastInfo(this.b_id),this.rollback_url+="/"+this.b_id):this.rollback_url+="/0"},t.prototype.getBroadcastInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getBroadcastInfo?b_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.broadcastInfo=t}),setTimeout(function(){e.formModel.patchValue({b_id:e.broadcastInfo.result.b_id,b_info:e.broadcastInfo.result.b_info,b_led:e.broadcastInfo.result.b_led,b_buzzer:e.broadcastInfo.result.b_buzzer}),e.u_id_default=e.broadcastInfo.result.u_id,e.c_id_default=e.broadcastInfo.result.c_id,e.join_i3otp_category=e.broadcastInfo.result.i3otp_pids;for(var t=0,n=e.broadcastInfo.result.type;t<n.length;t++){var r=n[t];e.selects[r]=!0}0!=e.c_id_default&&e.getTheUserList(e.c_id_default,2),console.log("this.selects:===="),console.log(e.selects)},500)},t.prototype.getBroadcastDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+"/api/v1/getBroadcastDefault?sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(e){t.broadcastList=e}),setTimeout(function(){202==t.broadcastList.status&&(alert(t.broadcastList.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"])),0==t.b_id&&(t.c_id_default=0,t.join_i3otp_category=t.broadcastList.result.i3otpList.length>=1?[t.broadcastList.result.i3otpList[0].i3otp_pid]:[])},600)},t.prototype.getTheUserList=function(t,e){var n=this,r=0;r=1==e?t.target.value:t,this.http.get(this.globalService.getDomain()+"/api/v1/getTheUserList?c_id="+r).map(function(t){return t.json()}).subscribe(function(t){n.broadcastListUser=t}),setTimeout(function(){202==n.broadcastListUser.status&&(alert(n.broadcastListUser.msg),n.cookieStore.removeAll(n.rollback_url),n.router.navigate(["/auth/login"])),0==n.b_id&&(n.u_id_default=0)},600)},t.prototype.onSubmit=function(){var t=this;if(""==this.formModel.value.b_info.trim())return alert("请填写文字信息！"),!1;this.http.post(this.globalService.getDomain()+"/api/v1/addBroadcast",{b_id:this.formModel.value.b_id,i3otp_pid:this.join_i3otp_category,c_id:this.formModel.value.c_id,u_id:this.formModel.value.u_id,b_category:n.i(d.stringify)(this.selects),b_info:this.formModel.value.b_info,b_led:this.formModel.value.b_led,b_buzzer:this.formModel.value.b_buzzer,sid:this.cookieStore.getCookie("sid")}).subscribe(function(e){var n=JSON.parse(e._body);alert(n.msg),200==n.status?t.router.navigateByUrl("/equipment/phonics-list"):202==n.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))})},t.prototype.i3otpChange=function(t){if(this.cookieStore.in_array(t,this.join_i3otp_category))for(var e=0;e<this.join_i3otp_category.length;e++)this.join_i3otp_category[e]==t&&this.join_i3otp_category.splice(e,1);else this.join_i3otp_category.push(t);console.log(this.join_i3otp_category)},t.prototype.handle=function(t){var e=t.target,r=e.value,i=e.checked;this.selects[r]=i,console.log("this.selects"),console.log(this.selects),console.log(n.i(d.stringify)(this.selects))},t.prototype.divColor=function(t){this.color_i3otp_id=t},t.prototype.outMouseColor=function(){this.color_i3otp_id=0,this.div_show_i3otp=!0},t.prototype.showColorDivI3otp=function(){this.div_show_i3otp=!1},t.prototype.deleteI3otp=function(t,e){t.stopPropagation();for(var n=0;n<this.join_i3otp_category.length;n++)this.join_i3otp_category[n]==e&&this.join_i3otp_category.splice(n,1);console.log(this.join_i3otp_category)},t}();u=p([n.i(r.Component)({selector:"app-add-phonics",template:n("Jg+k")}),n.i(i.a)(),h("design:paramtypes",["function"==typeof(f=void 0!==a.e&&a.e)&&f||Object,"function"==typeof(g=void 0!==o.d&&o.d)&&g||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(m=void 0!==s.c&&s.c)&&m||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object,"function"==typeof(_=void 0!==c.a&&c.a)&&_||Object])],u);var f,g,b,m,v,_},LDb3:function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2"),a=n("Fzro"),o=n("Gvdl"),s=(n.n(o),n("R12H")),l=n("ntJC"),c=n("5oXY");n.d(e,"a",function(){return h}),n.d(e,"b",function(){return u});var d=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},p=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(t,e,n,r){this.http=t,this.router=e,this.globalService=n,this.cookiestore=r,this.products=[],this.products1=[],this.is_show_products=0,this.customerDefault=[],this.company="all",this.products_=[],this.seriesInfo_=[],this.products_day=[],this.seriesInfo_day=[],this.size=5,this.showMetric="",this.is_show_1="none",this.is_show_2="block",this.colorShow=[],this.count=0,this.rollback_url="/equipment/data-map",this.getDefault(),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){var t=this;this.getColorShow(),this.interval=setInterval(function(){t.search_datapoint()},18e4)},t.prototype.getColorShow=function(){var t=this,e=this.globalService.getDomain()+"/api/v1/getSettingsInfo?sid="+this.cookiestore.getCookie("sid");this.http.get(e).map(function(t){return t.json()}).subscribe(function(e){t.colorShow=e}),setTimeout(function(){console.log("this.colorShow:--"),console.log(t.colorShow),202==t.colorShow.status&&(t.cookiestore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))},500)},t.prototype.getColor=function(t,e){var n=[],r={color:""};if(this.colorShow.result.length>0)for(var i=0;i<this.colorShow.result.length;i++)if(this.colorShow.result[i].s_name==e)for(var a=0;a<this.colorShow.result[i].detail.length;a++)for(var o=parseInt(this.colorShow.result[i].detail[a].s_interval_1),s=parseInt(this.colorShow.result[i].detail[a].s_interval_2),l=0;l<t[e].value.length;l++){var c=parseInt(t[e].value[l]);r.color=c>=o&&c<=s?this.colorShow.result[i].detail[a].s_color:"",n.push(r)}return n},t.prototype.getDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+"/api/v1/getCustomerInfo?c_role=1&sid="+this.cookiestore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(e){t.customerDefault=e}),setTimeout(function(){if(console.log("this.customerDefault:-----"),console.log(t.customerDefault),202==t.customerDefault.status&&(t.cookiestore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"])),t.company=t.customerDefault.result.c_number,0==t.customerDefault.length)return void alert("页面初始化错误，请刷新页面重试！");t.search_datapoint()},500)},t.prototype.search_datapoint=function(){var t=this;if(this.count>=5)return!1;var e=this,n={color:""};e.size=5,e.dataSource=e.http.get(e.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+e.size+"&cid="+e.company+"&index=1").map(function(t){return t.json()}),e.dataSource.subscribe(function(t){return e.products=t}),setTimeout(function(){if(console.log("this.products:-----"),console.log(t.products),0==t.products.length)return t.count++,!1;for(var e=0,r=t.products.data;e<r.length;e++)for(var i=r[e],a=0,o=0,s=i.name;o<s.length;o++){for(var l=s[o],c=0,d=[],p=0,h=i.info[l].value;p<h.length;p++){var u=h[p];if(t.colorShow.result&&t.colorShow.result[l])for(var f=0;f<t.colorShow.result[l].length;f++){var g=parseInt(t.colorShow.result[l][f].s_interval_1),b=parseInt(t.colorShow.result[l][f].s_interval_2),m=parseInt(u);m>=g&&m<=b&&d.push(t.colorShow.result[l][f].s_color)}else d.push(n.color);t.products.data[0].info[l].color=d,c++}a++}},5e3),setTimeout(function(){e.search_datapoint1(n)},1e3)},t.prototype.search_datapoint1=function(t){var e=this,n=this;n.size=5,n.dataSource1=n.http.get(n.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+n.size+"&cid="+n.company+"&index=2").map(function(t){return t.json()}),n.dataSource1.subscribe(function(t){return n.products1=t}),setTimeout(function(){if(console.log("this.products1:-----"),console.log(e.products1),0==e.products1.length)return e.count++,e.search_datapoint1(t),!1;for(var n=0,r=e.products1.data;n<r.length;n++)for(var i=r[n],a=0,o=0,s=i.name;o<s.length;o++){for(var l=s[o],c=0,d=[],p=0,h=i.info[l].value;p<h.length;p++){var u=h[p];if(e.colorShow.result&&e.colorShow.result[l])for(var f=0;f<e.colorShow.result[l].length;f++){var g=parseInt(e.colorShow.result[l][f].s_interval_1),b=parseInt(e.colorShow.result[l][f].s_interval_2),m=parseInt(u);m>=g&&m<=b&&d.push(e.colorShow.result[l][f].s_color)}else d.push(t.color);e.products1.data[0].info[l].color=d,c++}a++}e.is_show_products=1},5e3)},t.prototype.ngOnDestroy=function(){this.interval&&clearInterval(this.interval)},t.prototype.showPic=function(t){var e=this;this.showMetric=t,console.log(t),this.search_datapoint_pic(t),this.isClear=setInterval(function(){e.search_datapoint_pic(t)},18e4)},t.prototype.search_datapoint_pic=function(t){var e=this;this.size=50,this.dataSource_=this.http.get(this.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+this.size+"&metric="+t+"&cid="+this.company).map(function(t){return t.json()}),this.dataSource_.subscribe(function(t){return e.products_=t}),setTimeout(function(){e.getSeriesInfo_pic(t)},3e3)},t.prototype.getSeriesInfo_pic=function(t){if(this.seriesInfo_=[],console.log("this.products_"),console.log(this.products_),0==this.products_.length)return this.search_datapoint_pic(t),!1;for(var e=0,n=this.products_.data[0].name;e<n.length;e++){var r=n[e];this.seriesInfo_.push({name:r,type:"line",stack:"总量",data:this.products_.data[0].info[r].value})}this.chartOption_={title:{text:"设备检测数据"},tooltip:{trigger:"axis"},legend:{data:this.products_.data[0].name},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:this.products_.data[0].time}],yAxis:[{type:"value"}],series:this.seriesInfo_}},t.prototype.showDayData=function(t,e){"day"!=t?(this.is_show_1="none",this.is_show_2="block"):(this.is_show_1="block",this.is_show_2="none",console.log(this.products_day),0!=this.products_day.length&&this.products_day!=[]||(this.seriesInfo_=[],this.products_=[],this.isClear&&clearInterval(this.isClear),this.search_datapoint_day(t,e)))},t.prototype.search_datapoint_day=function(t,e){var n=this;this.dataSource_day=this.http.get(this.globalService.getDomain()+"/api/v1/getMeanList?m_type="+t+"&m_category="+e+"&c_id="+this.company+"&m_sensor="+this.showMetric).map(function(t){return t.json()}),this.dataSource_day.subscribe(function(t){return n.products_day=t}),setTimeout(function(){n.getSeriesInfo_day(t,e)},2e3)},t.prototype.getSeriesInfo_day=function(t,e){if(this.seriesInfo_day=[],0==this.products_day.length)return this.search_datapoint_day(t,e),!1;for(var n=0,r=this.products_day.result.name;n<r.length;n++){var i=r[n];this.seriesInfo_day.push({name:i,type:"line",stack:"总量",data:this.products_day.result.value})}this.chartOption_day={title:{text:"设备检测数据"},tooltip:{trigger:"axis"},legend:{data:this.products_day.result.name},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:this.products_day.result.time}],yAxis:[{type:"value"}],series:this.seriesInfo_day},console.log("chartOption_day"),console.log(this.chartOption_day)},t.prototype.ngOnClose=function(){this.seriesInfo_=[],this.products_=[],this.chartOption_day=[],this.products_day=[],this.showMetric="",this.is_show_1="none",this.is_show_2="block",this.isClear&&clearInterval(this.isClear)},t}();h=d([n.i(i.a)(),n.i(r.Component)({selector:"app-data-map",template:n("dFVQ"),styles:[n("dN/J")]}),p("design:paramtypes",["function"==typeof(f=void 0!==a.d&&a.d)&&f||Object,"function"==typeof(g=void 0!==c.a&&c.a)&&g||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(m=void 0!==l.a&&l.a)&&m||Object])],h);var u=function(){function t(){}return t.prototype.transform=function(t,e){var n=[];for(var r in t)n.push({key:r,value:t[r]});return n},t}();u=d([n.i(r.Pipe)({name:"keys"})],u);var f,g,b,m},Lj2K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("3j3K"),i=n("2Je8"),a=n("sVpQ"),o=n("VOu7"),s=n("2vdw"),l=n("WZNu"),c=n("pvSQ"),d=n("enUl"),p=n("3rDK"),h=n("NVOs"),u=n("rBuf"),f=n("ntJC"),g=n("jfyD"),b=(n.n(g),n("KIJB")),m=n("GOFk"),v=n("IoIA"),_=n("s3qa"),y=n("XV9o"),x=n("ILEn"),w=n("LDb3"),k=n("9HBq"),C=n("r276"),j=n("2PQq"),I=n("JfQF"),S=n("FpLB"),L=n("ID0o"),R=n("r+Jc"),T=n("fBj0");n.d(e,"EquipmentModule",function(){return M});var O=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},M=function(){function t(){}return t}();M=O([n.i(r.NgModule)({imports:[i.CommonModule,p.a,c.a,v.a,d.a,h.b,_.a],declarations:[a.a,o.a,s.a,l.a,u.a,b.a,m.a,y.a,x.a,w.a,w.b,j.a,I.a,S.a,L.a,T.a],exports:[w.b],providers:[g.CookieService,f.a,k.a,C.a,R.a]})],M)},MTSd:function(t,e){t.exports='\x3c!-- MAIN CONTENT --\x3e\r\n<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'添加设备\']" icon="pencil-square-o" ></sa-big-breadcrumbs>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12 ">\r\n        \x3c!-- Widget ID (each widget will need unique ID)--\x3e\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" >\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-edit"></i> </span>\r\n            <h2>添加设备</h2>\r\n          </header>\r\n          <div>\r\n            \x3c!-- widget content --\x3e\r\n            <div class="widget-body no-padding">\r\n              <form id="smart-form-register" class="smart-form" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate>\r\n                <fieldset>\r\n                  <legend>基本信息</legend>\r\n                  <input type="hidden" name="i3otp_id" formControlName="i3otp_id">\r\n                  <section class="col col-6">\r\n                    <label class="label">设备类型</label>\r\n                    <label class="select">\r\n                      <select name="i3otp_category" formControlName="i3otp_category" [(ngModel)]="i3otp_category_default">\r\n                        \x3c!--选择类型才出现功能选项，基站设备比安全帽少健康复选框--\x3e\r\n                        <option value="1" [selected]="i3otp_info.result?.i3otp_category == 1 || this.i_id == 0">安全帽</option>\r\n                        <option value="2" [selected]="i3otp_info.result?.i3otp_category == 2 ">基站设备</option>\r\n                      </select> <i></i> </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">设备ID</label>\r\n                    <label class="input">\r\n                      <input type="text" name="i3otp_pid" placeholder="请输入设备编号" maxlength="20" formControlName="i3otp_pid"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">设备名称</label>\r\n                    <label class="input">\r\n                      <input type="text" name="i3otp_name" placeholder="请输入设备名称" maxlength="10" formControlName="i3otp_name"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">采样时间</label>\r\n                    <label class="input">\r\n                      <input type="date" name="i3otp_sensor_intervan" formControlName="i3otp_sensor_intervan"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">生产日期</label>\r\n                    <label class="input">\r\n                      <input type="date" name="i3otp_productiondate" formControlName="i3otp_productiondate"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">内部质检日期</label>\r\n                    <label class="input">\r\n                      <input type="date" name="i3otp_qc_date" formControlName="i3otp_qc_date"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">设备地址</label>\r\n                    <label class="input">\r\n                      <input type="text" name="i3otp_address" placeholder="请输入设备地址 " maxlength="40" formControlName="i3otp_address"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">激活码</label>\r\n                    <label class="input">\r\n                      <input type="text" placeholder="请输入激活码 " maxlength="40" name="i3otp_activation" formControlName="i3otp_activation"/>\r\n                    </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">内部质检员</label>\r\n                    <label class="select">\r\n                      <select name="u_id" formControlName="u_id" [(ngModel)]="u_id_default">\r\n                        <option *ngFor="let u of i3otpList.result?.userList" [selected]="i3otp_info.result?.u_id == u.id || this.i_id == 0" value="{{u.id}}">{{u.u_username}}</option>\r\n                      </select> <i></i> </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">订单</label>\r\n                    <label class="select">\r\n                      <select name="o_id" formControlName="o_id" [(ngModel)]="o_id_default">\r\n                        <option *ngFor="let o of i3otpList.result?.orderList" [selected]="i3otp_info.result?.o_id == o.o_id || this.i_id == 0" value="{{o.o_id}}">{{o.o_order}}</option>\r\n                      </select> <i></i> </label>\r\n                  </section>\r\n                  <section class="col col-6">\r\n                    <label class="label">是否激活</label>\r\n                    <div class="inline-group">\r\n                      <label class="radio">\r\n                        <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 1" [value]="1" name="i3otp_status" formControlName="i3otp_status">\r\n                        <i></i>激活</label>\r\n                      <label class="radio">\r\n                        <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 0" [value]="0" name="i3otp_status" formControlName="i3otp_status">\r\n                        <i></i>未激活</label>\r\n                      <label class="radio">\r\n                        <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 2" [value]="2" name="i3otp_status" formControlName="i3otp_status">\r\n                        <i></i>返厂维修</label>\r\n                      <label class="radio">\r\n                        <input type="radio" [checked]="i3otp_info.result?.i3otp_status == 3" [value]="3" name="i3otp_status" formControlName="i3otp_status">\r\n                        <i></i>报废</label>\r\n                    </div>\r\n                  </section>\r\n                  </fieldset>\r\n                <fieldset>\r\n                  <legend>功能选项</legend>\r\n                  <section class="col col-4"  >\r\n                    <label class="label">检测气体数据</label>\r\n                    <div class="inline-group" >\r\n                      <label class="checkbox"><input type="checkbox" value="ch4" [checked]="selects[\'ch4\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>甲烷</label>\r\n                      <label class="checkbox"><input type="checkbox" value="co" [checked]="selects[\'co\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>一氧化碳</label>\r\n                      <label class="checkbox"><input type="checkbox" value="co2" [checked]="selects[\'co2\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>二氧化碳</label>\r\n                      <label class="checkbox"><input type="checkbox" value="o2" [checked]="selects[\'o2\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>氧气</label>\r\n                    </div>\r\n                  </section>\r\n\r\n                  <section class="col col-4" >\r\n                    <label class="label">温湿度</label>\r\n                    <div class="inline-group">\r\n                      <label class="checkbox"><input type="checkbox" value="temp" [checked]="selects[\'temp\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>温度</label>\r\n                      <label class="checkbox"><input type="checkbox" value="humi" [checked]="selects[\'humi\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>湿度</label>\r\n                    </div>\r\n                  </section>\r\n\r\n                  <section class="col col-4" >\r\n                    <label class="label">健康</label>\r\n                    <div class="inline-group">\r\n                      <label class="checkbox"><input type="checkbox" value="eeg" [checked]="selects[\'eeg\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>脑电</label>\r\n                      <label class="checkbox"><input type="checkbox" value="ecg" [checked]="selects[\'ecg\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>心率</label>\r\n                      <label class="checkbox"><input type="checkbox" value="spo2h" [checked]="selects[\'spo2h\']" (change)="handle($event)" name="i3otp_attribute" formControlName="i3otp_attribute"><i></i>血氧</label>\r\n                    </div>\r\n                  </section>\r\n\r\n                </fieldset>\r\n                <footer>\r\n                  <button type="submit" class="btn btn-primary">\r\n                    保存\r\n                  </button>\r\n                </footer>\r\n              </form>\r\n            </div>\r\n            \x3c!-- end widget content --\x3e\r\n          </div>\r\n          \x3c!-- end widget div --\x3e\r\n        </sa-widget>\r\n      </article>\r\n      \x3c!-- END COL --\x3e\r\n    </div>\r\n    \x3c!-- END ROW --\x3e\r\n  </sa-widgets-grid>\r\n  \x3c!-- end widget grid --\x3e\r\n</div>\r\n'},N56p:function(t,e,n){"use strict";n("apuz")},NLnk:function(t,e){t.exports='<div class="onoffswitch-container">\r\n  <span class="onoffswitch-title">{{title}}<ng-content></ng-content></span>\r\n  <span class="onoffswitch">\r\n    <input type="checkbox" class="onoffswitch-checkbox" [(ngModel)]="value" [checked]="value"\r\n           (ngModelChange)="onChange()"\r\n           id="{{widgetId}}"/>\r\n    <label class="onoffswitch-label" htmlFor="{{widgetId}}">\r\n      <span class="onoffswitch-inner"  data-swchon-text="ON"\r\n            data-swchoff-text="OFF"></span>\r\n        <span class="onoffswitch-switch"></span>\r\n    </label>\r\n  </span>\r\n</div>\r\n'},"P+fo":function(t,e){t.exports=function(t){"undefined"!=typeof execScript?execScript(t):eval.call(null,t)}},SCIK:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'广播预警预防系统\', \'广播信息列表\']" icon="table"></sa-big-breadcrumbs>\r\n  </div>\r\n\r\n  <div class="form-group">\r\n    <a class="btn btn-success btn-sm" (click)="isDemo(\'/equipment/phonics\',\'0\')">\r\n      <span class="glyphicon glyphicon-plus"></span>添加广播信息列表</a>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12 ">\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" color="blueDark">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-table"></i> </span>\r\n            <h2>广播信息列表 </h2>\r\n          </header>\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="row">\r\n                <article class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n\r\n                    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n\r\n                      <form class="navbar-form navbar-left" role="search"  [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate >\r\n                        <div class="form-group padding-left-10">\r\n                          <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                        </div>\r\n                        <button type="submit" class="btn btn-default">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n\r\n              <sa-datatable tableClass="table table-striped table-bordered table-hover smart-form">\r\n                <thead>\r\n                <tr>\r\n                  <td>\r\n                    <label class="checkbox">\r\n                      <input type="checkbox" [checked]="check" (change)="changeCheckAll($event)">\r\n                      <i></i>\r\n                    </label>\r\n                  </td>\r\n                  <th>设备ID</th>\r\n                  <th>警报类型 </th>\r\n                  <th>文字输入 </th>\r\n                  <th>闪烁 </th>\r\n                  <th>警报 </th>\r\n                  <th>操作</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr style="display: none;">\r\n                  <td></td><td></td><td></td><td></td>\r\n                  <td></td><td></td><td></td>\r\n                </tr>\r\n                <tr *ngFor="let bl of broadcastList.result?.data">\r\n                  <td>\r\n                    <label class="checkbox">\r\n                      <input type="checkbox" value="{{ bl.b_id }}" [checked]="selects[bl.b_id]" (change)="handle($event)">\r\n                      <i></i>\r\n                    </label>\r\n                  </td>\r\n                  <td>{{ bl.i3otp_pid }}</td>\r\n                  <td [ngSwitch]="bl.b_category">\r\n                    <span *ngSwitchCase="1">文字</span>\r\n                    <span *ngSwitchCase="2">语音</span>\r\n                    <span *ngSwitchCase="3">文字，语言</span>\r\n                    <span *ngSwitchDefault>未知</span>\r\n                  </td>\r\n                  <td>{{ bl.b_info }}</td>\r\n                  <td>{{ bl.b_led }}</td>\r\n                  <td>{{ bl.b_buzzer }}</td>\r\n                  <td><a class="btn btn-warning btn-xs" (click)="isDemo(\'/equipment/phonics\',bl.b_id)"><span class="glyphicon glyphicon-pencil"></span>修改</a>\r\n                    <a class="btn btn-danger btn-xs" (click)="deleteBroadcast(bl.b_id ,broadcastList.result?.current_page)"><span class="glyphicon glyphicon-remove"></span>删除</a>\r\n                    <a class="btn btn-success btn-xs" (click)="getBroadcastInfo(bl.b_id);lgModal.show();" ><span class="glyphicon glyphicon-zoom-in"></span>详情</a>\x3c!--data-toggle="modal" data-target="#myModal" --\x3e\r\n                  </td>\r\n                </tr>\r\n                </tbody>\r\n\r\n              </sa-datatable>\r\n              \x3c!-- 底部-（分页部分）--\x3e\r\n              <div class="dt-toolbar">\r\n                <div class="col-xs-12 col-sm-6">\r\n                  <button  class="btn btn-default" (click)="deleteBroadcastAll(broadcastList.result?.current_page)">\r\n                    <i class="fa fa-trash-o fa-lg"></i>\r\n                    删除所选\r\n                  </button>\r\n                </div>\r\n                <div class="col-sm-6 col-xs-12 hidden-xs text-right">\r\n                  <div class="dataTables_paginate">\r\n                    <ul class="pagination pagination-sm">\r\n                      <li *ngFor="let p of broadcastList?.page" class="{{p.class}}">\r\n                        <a (click)="pagination(p.value)" *ngIf="p.method==\'method\'">{{p.text}}</a>\r\n                        <a *ngIf="p.method==\'\'">{{p.text}}</a>\r\n                      </li>\r\n                    </ul>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n\r\n\r\n  <div  bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          \x3c!-- 关闭按钮 --\x3e\r\n          <button type="button" class="close"  (click)="lgModal.hide()">\r\n            ×\r\n          </button>\r\n          \x3c!-- 标题 --\x3e\r\n          <h4 class="modal-title">读取设备ID</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="row">\r\n            <div class="col-sm-12">\r\n              <div class="text-overflow-y" >\r\n                <P class="alert alert-info">基本信息</P>\r\n                <table class="table table-striped table-forum">\r\n                  <tbody>\r\n                  <tr>\r\n                    <td class="width-120">设备ID:</td>\r\n                    <td>{{broadcastInfo.result?.i3otp_pid}}</td>\r\n                  </tr>\r\n                  <tr><td class="width-120">警报类型:</td>\r\n                    <td [ngSwitch]="broadcastInfo.result?.b_category">\r\n                      <span *ngSwitchCase="1">文字</span>\r\n                      <span *ngSwitchCase="2">语音</span>\r\n                      <span *ngSwitchCase="3">文字,语音</span>\r\n                      <span *ngSwitchDefault>未知</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">文字输入:</td>\r\n                    <td >{{broadcastInfo.result?.b_info}}</td>\r\n                  </tr>\r\n                  <tr><td class="width-120">闪烁：</td>\r\n                    <td >{{broadcastInfo.result?.b_led}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">闪烁：</td>\r\n                    <td >{{broadcastInfo.result?.b_buzzer}}</td>\r\n                  </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default"  (click)="lgModal.hide()">返回</button>\r\n        </div>\r\n      </div>\x3c!-- /.modal-content --\x3e\r\n    </div>\x3c!-- /.modal --\x3e\r\n  </div>\r\n</div>\r\n\r\n'},Ute4:function(t,e,n){"use strict";var r=n("3j3K"),i=n("4hmS");n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.el=t,n.i(i.a)(this.el.nativeElement,["sa-cloak","sa-hidden"])}return t.prototype.ngOnInit=function(){var t=this;n.e(83).then(n.bind(null,"l0Om")).then(function(){$(t.el.nativeElement).select2(),n.i(i.b)(t.el.nativeElement,["sa-hidden"])})},t}();s=a([n.i(r.Directive)({selector:"[select2]"}),o("design:paramtypes",["function"==typeof(l=void 0!==r.ElementRef&&r.ElementRef)&&l||Object])],s);var l},V9dY:function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("Atu6"),o=n("NVOs");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},l=function(){function t(){}return t}();l=s([n.i(r.NgModule)({imports:[i.CommonModule,o.a],declarations:[a.a],exports:[a.a]})],l)},VLYa:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'安全帽\']" icon="table"></sa-big-breadcrumbs>\r\n  </div>\r\n  <div class="box-header with-border" >\r\n    <a class="btn btn-success btn-sm" routerLink="/equipment/i3otp/:i_id">\r\n      <span class="glyphicon glyphicon-plus"></span>添加设备</a>\r\n  </div>\r\n  <sa-widget [editbutton]="false" color="blueDark">\r\n    <header>\r\n      <span class="widget-icon"> <i class="fa fa-table"></i> </span>\r\n      <h2>安全帽 </h2>\r\n    </header>\r\n    <div>\r\n      <div class="widget-body no-padding">\r\n        <div class="row">\r\n          <article class="col-sm-12">\r\n            <div class="navbar navbar-default">\r\n              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n                <form class="navbar-form navbar-left" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate>\r\n                  <div class="form-group">\r\n                    <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                  </div>\r\n                  <button type="submit" class="btn btn-default">\r\n                    <i class="glyphicon glyphicon-search"></i>\r\n                    搜索\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </article>\r\n        </div>\r\n        <sa-datatable tableClass="table table-striped table-bordered table-hover smart-form">\r\n          <thead>\r\n          <tr>\r\n            <th>设备ID</th>\r\n            <th>设备名称</th>\r\n            <th>姓名</th>\r\n            <th>所属部门</th>\r\n            <th>检测气体数据</th>\r\n            <th>温湿度</th>\r\n            <th>健康</th>\r\n            <th>采集数据时间</th>\r\n            <th>采集数据地址</th>\r\n            <th>操作</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr style="display: none;">\r\n            <td></td><td></td><td></td><td></td>\r\n            <td></td><td></td><td></td><td></td>\r\n            <td></td><td></td>\r\n          </tr>\r\n          <tr *ngFor="let il of i3otpList.result?.i3otpList?.data">\r\n            <td (click)="getI3otpInfo(il.i3otp_id);"><span class="txt-color-blueLight">●&nbsp;</span><span class="txt-color-green">●&nbsp;</span>{{ il.i3otp_pid }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_name }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.u_username }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.u_department }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_attribute1 }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_attribute2 }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_attribute3 }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_sensor_intervan }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_address }}</td>\r\n            <td>\r\n              <a class="btn btn-warning btn-xs" [routerLink]="[\'/equipment/i3otp\',il.i3otp_id]"><span class="glyphicon glyphicon-pencil"></span>修改</a>\r\n              <a class="btn btn-danger btn-xs" (click)="deleteI3otp(il.i3otp_id ,i3otpList.result?.i3otpList?.current_page)"><span class="glyphicon glyphicon-remove"></span>删除</a>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </sa-datatable>\r\n        \x3c!-- 底部-（分页部分）--\x3e\r\n        <div class="dt-toolbar">\r\n          <div class="col-xs-12 col-sm-6 txt-color-grey  ">\r\n            点击每行,在表下面可以看到详细数据\r\n          </div>\r\n          <div class="col-sm-6 col-xs-12 hidden-xs text-right">\r\n\r\n            <ul class="pagination">\r\n              <li>\r\n                <a (click)="pagination(i3otpList.result?.i3otpList?.prev_page_url)"><i class="fa fa-arrow-left"></i></a>\r\n              </li>\r\n              <li>\r\n                <a (click)="pagination(i3otpList.result?.i3otpList?.next_page_url)"><i class="fa fa-arrow-right"></i></a>\r\n              </li>\r\n            </ul>\r\n            \x3c!--<ul class="pagination pagination-sm">--\x3e\r\n            \x3c!--<li class="disabled">--\x3e\r\n            \x3c!--<a href="">上一页</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--<li class="active">--\x3e\r\n            \x3c!--<a href="">1</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--<li>--\x3e\r\n            \x3c!--<a href="">2</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--<li>--\x3e\r\n            \x3c!--<a href="">3</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--<li>--\x3e\r\n            \x3c!--<a href="">...</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--<li>--\x3e\r\n            \x3c!--<a href="">99</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--<li>--\x3e\r\n            \x3c!--<a href="">下一页</a>--\x3e\r\n            \x3c!--</li>--\x3e\r\n            \x3c!--</ul>--\x3e\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </sa-widget>\r\n\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12">\r\n        <sa-widget  [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header><span class="widget-icon"> <i class="fa fa-comments"></i> </span>\r\n            <h2>基站传感数据</h2>\r\n            <div class="jarviswidget-ctrls" role="menu">\r\n              <a routerLink="/equipment/chart-setting" href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom">\r\n                <i class="fa fa-cog"></i></a>\r\n            </div>\r\n          </header>\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="row">\r\n                <article class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <div class="collapse navbar-collapse" >\r\n                      <form class="navbar-form navbar-left" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate >\r\n                        <div class="form-group">\r\n                          <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                        </div>\r\n                        <button type="submit" class="btn btn-default">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n              <div class="dataTables_wrapper">\r\n\r\n              </div>\r\n\r\n              \x3c!-- 底部-（分页部分）--\x3e\r\n\r\n              <div class="dt-toolbar-footer">\r\n                <div class="col-sm-6 col-xs-12 hidden-xs">\r\n                  <div class="dataTables_info"  role="status" aria-live="polite">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-6 col-xs-12 hidden-xs text-right">\r\n                  <ul class="pagination">\r\n                    <li>\r\n                      <a (click)="pagination(i3otpList.result?.i3otpList?.prev_page_url)"><i class="fa fa-arrow-left"></i></a>\r\n                    </li>\r\n                    <li>\r\n                      <a (click)="pagination(i3otpList.result?.i3otpList?.next_page_url)"><i class="fa fa-arrow-right"></i></a>\r\n                    </li>\r\n                  </ul>\r\n                  \x3c!--<ul class="pagination pagination-sm">--\x3e\r\n                  \x3c!--<li class="disabled">--\x3e\r\n                  \x3c!--<a href="">上一页</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--<li class="success">--\x3e\r\n                  \x3c!--<a href="">1</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--<li>--\x3e\r\n                  \x3c!--<a href="">2</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--<li>--\x3e\r\n                  \x3c!--<a href="">3</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--<li>--\x3e\r\n                  \x3c!--<a href="">...</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--<li>--\x3e\r\n                  \x3c!--<a href="">99</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--<li>--\x3e\r\n                  \x3c!--<a href="">下一页</a>--\x3e\r\n                  \x3c!--</li>--\x3e\r\n                  \x3c!--</ul>--\x3e\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n  \x3c!--详情信息 end--\x3e\r\n</div>\r\n\r\n\r\n'},VOu7:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return o});var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();o=i([n.i(r.Component)({selector:"app-equipment-positioning",template:n("fQoN")}),a("design:paramtypes",[])],o)},VnpU:function(t,e,n){"use strict";n("zV2L")},WZNu:function(t,e,n){"use strict";var r=n("3j3K"),i=n("Fzro"),a=n("R12H"),o=n("NVOs"),s=n("ntJC"),l=n("5oXY");n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this.http=e,this.router=n,this.cookieStore=r,this.globalService=i,this.state={tabs:{demo1:0,demo2:"tab-r1",demo3:"hr1",demo4:"AA",demo5:"iss1",demo6:"l1",demo7:"tab1",demo8:"hb1",demo9:"A1",demo10:"is1"}},this.i3otpList=[],this.prev=!1,this.next=!1,this.i3otpInfo=[],this.rollback_url="/equipment/station-list",this.formModel=t.group({keyword:[""]}),this.getI3otpList("1"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){},t.prototype.getI3otpList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getI3otpList?page="+t+"&i3otp_category=2&sid="+this.cookieStore.getCookie("sid");""!=this.formModel.value.keyword.trim()&&(n+="&keyword="+this.formModel.value.keyword.trim()),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.i3otpList=t}),setTimeout(function(){console.log("this.i3otpList:--"),console.log(e.i3otpList),202==e.i3otpList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.i3otpList&&(e.i3otpList.result.i3otpList.current_page==e.i3otpList.result.i3otpList.last_page?e.next=!0:e.next=!1,1==e.i3otpList.result.i3otpList.current_page?e.prev=!0:e.prev=!1)},300)},t.prototype.pagination=function(t){t&&(this.page=t.substring(t.lastIndexOf("=")+1,t.length),this.getI3otpList(this.page))},t.prototype.onSubmit=function(){if(""==this.formModel.value.keyword.trim())return alert("请输入需要搜索的关键字"),!1;this.getI3otpList("1")},t.prototype.getI3otpInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpInfo?i_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.i3otpInfo=t}),setTimeout(function(){console.log("this.i3otpInfo:-----"),console.log(e.i3otpInfo)},300)},t.prototype.deleteI3otp=function(t,e){var n=this;confirm("您确定要删除该条信息吗？")&&(this.http.delete(this.globalService.getDomain()+"/api/v1/deleteI3otpById?i_id="+t+"&page="+e+"&type=id&i3otp_category=2&sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){n.i3otpList=t}),setTimeout(function(){202==n.i3otpList.status&&(n.cookieStore.removeAll(n.rollback_url),n.router.navigate(["/auth/login"])),n.i3otpList&&(n.i3otpList.result.i3otpList.current_page==n.i3otpList.result.i3otpList.last_page?n.next=!0:n.next=!1,1==n.i3otpList.result.i3otpList.current_page?n.prev=!0:n.prev=!1)},300))},t}();p=c([n.i(r.Component)({selector:"app-station-list",template:n("l1nf")}),d("design:paramtypes",["function"==typeof(h=void 0!==o.e&&o.e)&&h||Object,"function"==typeof(u=void 0!==i.d&&i.d)&&u||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object,"function"==typeof(g=void 0!==s.a&&s.a)&&g||Object,"function"==typeof(b=void 0!==a.a&&a.a)&&b||Object])],p);var h,u,f,g,b},XV9o:function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2"),a=n("Fzro"),o=n("Gvdl"),s=(n.n(o),n("Exih")),l=n("R12H"),c=n("ntJC"),d=n("5oXY"),p=n("NVOs");n.d(e,"a",function(){return f});var h=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},f=function(){function t(t,e,n,r,i){this.http=e,this.router=n,this.cookieStore=r,this.globalService=i,this.products1=[],this.products2=[],this.seriesInfo1=[],this.seriesInfo2=[],this.lastList1=[],this.newList=[],this.cid="",this.pid="",this.metric="",this.i3otpList=[],this.prev=!1,this.next=!1,this.size=20,this.join_pid=[],this.join_str=[],this.metric_title=[],this.loading="数据正在努力加载中...",this.status="",this.selectedStr={},this.isShowJoin=!1,this.rollback_url="/equipment/station-chart",this.full_screen=[],this.isFull="none",this.f_width="500px",this.formModel=t.group({keyword:[""]}),this.getI3otpList("1"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){var t=this;this.interval=setInterval(function(){t.search_datapoint()},18e4)},t.prototype.getI3otpList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getI3otpList?page="+t+"&i3otp_category="+this.globalService.getStation(2)+"&type=pic&sid="+this.cookieStore.getCookie("sid");""!=this.formModel.value.keyword.trim()&&(n+="&keyword="+this.formModel.value.keyword.trim()),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.i3otpList=t}),setTimeout(function(){if(console.log("this.i3otpList:--"),console.log(e.i3otpList),202==e.i3otpList.status&&(e.cookieStore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),0==e.i3otpList.length)return alert("没有数据，请确认已添加数据后再次刷新此页面！"),!1;e.pid=e.i3otpList.result.pid,e.cid=e.i3otpList.result.cid,e.metric=e.i3otpList.result.metric,e.search_datapoint()},500)},t.prototype.onSubmit=function(){if(""==this.formModel.value.keyword.trim())return alert("请输入需要搜索的关键字"),!1;this.getI3otpList("1")},t.prototype.search_datapoint=function(){var t=this;this.size=20;var e=JSON.stringify(this.selectedStr),n=this.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+this.size+"&cid="+this.cid+"&metric="+this.metric+"&pid="+this.pid+"&selectedStr="+e;this.dataSource1=this.http.get(n).map(function(t){return t.json()}),this.dataSource1.subscribe(function(e){return t.products1=e}),setTimeout(function(){console.log("this.products1:-----"),console.log(t.products1),t.chartOption1=t.getValue(1),console.log("this.chartOption1:-----"),console.log(t.chartOption1)},5e3)},t.prototype.ngOnDestroy=function(){this.interval&&clearInterval(this.interval),this.isClear&&clearInterval(this.isClear)},t.prototype.getValue=function(t){if(1==t){if(0==this.products1.length&&""!=this.metric.replace("_","")&&""!=this.pid.replace(",",""))return this.search_datapoint(),!1;if(""==this.metric.replace("_","").trim()||""==this.pid.replace(",","").trim())return alert("数据格式有误！"),!1;for(var e=[],n=0,r=0,i=this.products1.data;r<i.length;r++){var a=i[r];this.lastList1=[];for(var o=0,s=[],l=0,c=a.name;l<c.length;l++){var d=c[l];this.seriesInfo1=[],this.seriesInfo1.push({name:d,type:"line",stack:"总量",data:this.products1.data[n].info[d].value});var p=this.products1.data[n].info[d].value[this.size-1],h=a.time[this.size-1];this.lastList1.push({name:d,time:h||"无",value:p||0}),this.lastList1==[]?(s[o]=[],s["l"+o]=0):(s[o]=this.commonOne(this.seriesInfo1,d,a.time,n,o),s["l"+o]=this.products1.data[n].info[d].value.length),o++}e[n]=s,this.newList[n]=this.lastList1,n++}return e}if(2==t){if(0==this.products2.length&&this.join_str!=[]&&this.join_pid!=[])return this.search_join_datapoint(),!1;if(this.join_str==[]||this.join_pid==[])return alert("没有可对比的数据！"),!1;this.metric_title=this.products2.title;for(var e=[],n=0,u=0,f=this.products2.data;u<f.length;u++){var a=f[u];if(n<this.products2.data.length){this.seriesInfo2=[];for(var g=0,b=a.name;g<b.length;g++){var d=b[g];this.seriesInfo2.push({name:d,type:"line",stack:"总量",data:this.products2.data[n].info[d].value})}e[n]=this.common(this.seriesInfo2,a.name,a.selected,a.time)}n++}return e}},t.prototype.showLine=function(t,e){var n=this.cookieStore.getEN(e),r=!1;for(var i in this.selectedStr)i==n+"_"+t&&(delete this.selectedStr[i],r=!0);0==r&&(this.selectedStr[n+"_"+t]=n),this.products1.data[t].selected[n]=r,this.chartOption1=this.getValue(1)},t.prototype.common=function(t,e,n,r){return{title:{text:"设备检测数据"},tooltip:{trigger:"axis"},legend:{data:e,selected:n},toolbox:{show:!0,feature:{dataView:{readOnly:!1},magicType:{type:["line","bar"]},restore:{},saveAsImage:{}}},xAxis:[{type:"category",boundaryGap:!1,data:r}],yAxis:[{type:"value"}],series:t}},t.prototype.commonOne=function(t,e,n,r,i){var a=this;return{title:{text:"设备检测数据"},tooltip:{trigger:"axis"},legend:{data:[e]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},myTool1:{show:!0,title:"全屏",icon:"image://http://echarts.baidu.com/images/favicon.png",option:{i:r,pic_i:i},onclick:function(t){a.f_width="500px",a.isFull="block";var e=t.option.toolbox[0].feature.myTool1.option.i,n=t.option.toolbox[0].feature.myTool1.option.pic_i;a.full_screen=a.chartOption1[e][n],a.lgModal.show(),console.log(a.full_screen),setTimeout(function(){a.f_width="100%"},2e3)}},saveAsImage:{show:!0}}},xAxis:[{type:"category",boundaryGap:!1,data:n}],yAxis:[{type:"value"}],series:t}},t.prototype.pagination=function(t){this.page=t,this.status="",this.newList=[],this.products1=[],this.chartOption1=[],this.getI3otpList(this.page)},t.prototype.showJoinPic=function(){var t=this;if(this.join_str.length<=1)return void alert("请添加对比数据后，再点击此‘查看对比图’按钮。");this.search_join_datapoint(),this.isClear=setInterval(function(){t.search_join_datapoint()},18e4),this.lgModal.show()},t.prototype.search_join_datapoint=function(){var t=this;this.size=50;for(var e="",n=0;n<this.join_str.length;n++)n>0&&(e+="_"),e+=this.join_str[n];var r=this.globalService.getTsdbDomain()+"/tsdb/api/getDatapoint.php?size="+this.size+"&cid="+this.cid+"&metric="+e+"&pid="+this.join_pid+"&type=join";this.dataSource2=this.http.get(r).map(function(t){return t.json()}),this.dataSource2.subscribe(function(e){return t.products2=e}),setTimeout(function(){t.chartOption2=t.getValue(2),t.loading=""},5e3)},t.prototype.showChildModal=function(){this.lgModal.show()},t.prototype.hideChildModal=function(){this.lgModal.hide()},t.prototype.notificationExample2=function(t,e){this.cookieStore.in_array(t,this.join_pid)||(this.join_pid.push(t),this.join_str.push(e)),this.isShowJoin=!0},t.prototype.ngOnClose=function(){this.seriesInfo2=[],this.products2=[],this.isFull="none",this.full_screen=[],this.isClear&&clearInterval(this.isClear)},t.prototype.changeStatus=function(t,e){"-"==e?this.status=this.status.replace(","+t+",",""):this.status+=","+t+","},t.prototype.outPid=function(t){var e=this.join_pid.indexOf(t);this.join_pid.splice(e,1),console.log(this.join_pid)},t.prototype.closePid=function(){this.isShowJoin=!1},t}();h([n.i(r.ViewChild)("lgModal"),u("design:type","function"==typeof(g=void 0!==s.h&&s.h)&&g||Object)],f.prototype,"lgModal",void 0),f=h([n.i(i.a)(),n.i(r.Component)({selector:"app-station-chart",template:n("4YPz"),styles:[n("3Cgk")]}),u("design:paramtypes",["function"==typeof(b=void 0!==p.e&&p.e)&&b||Object,"function"==typeof(m=void 0!==a.d&&a.d)&&m||Object,"function"==typeof(v=void 0!==d.a&&d.a)&&v||Object,"function"==typeof(_=void 0!==c.a&&c.a)&&_||Object,"function"==typeof(y=void 0!==l.a&&l.a)&&y||Object])],f);var g,b,m,v,_,y},YQBa:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return o});var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(t){this.el=t,this.width="100%"}return t.prototype.ngOnInit=function(){var t=this;Promise.all([n.e(81).then(n.bind(null,"APA9"))]).then(function(){t.render()})},t.prototype.render=function(){var t=($(this.el.nativeElement.children[0]),this.options||{}),e="";if(t.buttons&&(e+="B"),this.paginationLength&&(e+="l"),this.columnsHide&&(e+="C"),"string"==typeof t.ajax){var n=t.ajax;t.ajax={url:n}}},t}();i([n.i(r.Input)(),a("design:type",Object)],o.prototype,"options",void 0),i([n.i(r.Input)(),a("design:type",Object)],o.prototype,"filter",void 0),i([n.i(r.Input)(),a("design:type",Object)],o.prototype,"detailsFormat",void 0),i([n.i(r.Input)(),a("design:type",Boolean)],o.prototype,"paginationLength",void 0),i([n.i(r.Input)(),a("design:type",Boolean)],o.prototype,"columnsHide",void 0),i([n.i(r.Input)(),a("design:type",String)],o.prototype,"tableClass",void 0),i([n.i(r.Input)(),a("design:type",String)],o.prototype,"width",void 0),o=i([n.i(r.Component)({selector:"sa-datatable",template:'\n      <table class="dataTable responsive {{tableClass}}" width="{{width}}">\n        <ng-content></ng-content>\n      </table>\n',styles:[n("qjzX")]}),a("design:paramtypes",["function"==typeof(s=void 0!==r.ElementRef&&r.ElementRef)&&s||Object])],o);var s},YfZZ:function(t,e,n){"use strict";var r=n("3j3K"),i=n("Gvdl"),a=(n.n(i),n("sWHp"));n.d(e,"a",function(){return l});var o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.todos=[new a.a("Release","Critical"),new a.a("Misc","Important"),new a.a("E-commerce","Important")],this.states=[{name:"Critical",title:"Critical Tasks",icon:"warning"},{name:"Important",title:"Important Tasks",icon:"exclamation"},{name:"Completed",title:"Completed Tasks",icon:"check"}],this.subject=new i.Subject}return t.prototype.createTodo=function(t){t.createdAt=new Date,(t.state="Completed")&&(t.completedAt=new Date),this.todos.push(t),this.subject.next(this.todos)},t.prototype.toggleTodo=function(t){t.completedAt?(t.state="Important",t.completedAt=null):(t.state="Completed",t.completedAt=new Date),this.subject.next(this.todos)},t.prototype.updateTodo=function(t,e){this.todos.find(function(e){return e.id==t}).state=e.name,this.subject.next(this.todos)},t.prototype.deleteTodo=function(t){this.todos.splice(this.todos.indexOf(t),1),this.subject.next(this.todos)},t}();l=o([n.i(r.Injectable)(),s("design:paramtypes",[])],l)},ZZPW:function(t,e,n){"use strict";n("R0Q5"),n("g4xB"),n("EzSG"),n("N56p")},dFVQ:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'全部实时数据\']" icon="file-text-o" ></sa-big-breadcrumbs>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row" *ngIf="products[\'data\'] && products1[\'data\'] && products[\'data\'][0] && is_show_products">\r\n      <div *ngFor="let entry of (products[\'data\'][0][\'info\'] | keys)" >\r\n      <article class="col-sm-3" *ngIf="entry.value.value[0]">\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" color="darken" >\r\n          <header>\r\n            <h2 *ngIf="entry.key == \'ch4\'">甲烷(ch4)</h2>\r\n            <h2 *ngIf="entry.key == \'co\'">一氧化碳(co)</h2>\r\n            <h2 *ngIf="entry.key == \'co2\'">二氧化碳(co2)</h2>\r\n            <h2 *ngIf="entry.key == \'o2\'">氧气(o2)</h2>\r\n            <h2 *ngIf="entry.key == \'tem\'">温度(tem)</h2>\r\n            <h2 *ngIf="entry.key == \'humi\'">湿度(humi)</h2>\r\n            <h2 *ngIf="entry.key == \'eeg\'">脑电(eeg)</h2>\r\n            <h2 *ngIf="entry.key == \'ecg\'">心率(ecg)</h2>\r\n            <h2 *ngIf="entry.key == \'spo2h\'">血氧(spo2h)</h2>\r\n          </header>\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="the-price pricing-big">\r\n                <div class="panel-heading">\r\n                  <h1 class="panel-title font-headline">\r\n                    <span class="txt-color-greenbrigh">{{entry.value.value[0]}}</span>\r\n                    <small class="subscript" >\r\n                      <sub *ngIf="entry.key == \'ch4\' || entry.key == \'co2\' || entry.key == \'o2\' || entry.key == \'humi\'">%</sub>\r\n                      <sub *ngIf="entry.key == \'co\'">PPM</sub>\r\n                      <sub *ngIf="entry.key == \'tem\'">°C</sub>\r\n                    </small>\r\n                    \x3c!-- {{entry.key}}\r\n                     <small class="subscript" ><span>{{entry.value.value[0]}}</span></small>--\x3e\r\n                  </h1>\r\n                </div>\r\n              </div>\r\n              <table class="table table-hover table-striped " style="margin: -5px 0;">\r\n                <thead>\r\n                <tr>\r\n                  <th >时间</th>\r\n                  <th >数据</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr *ngFor="let val of entry.value.value;let idx0=index" [ngStyle]="{\'background-color\': entry.value.color[idx0]}">\r\n                  <td>{{ products[\'data\'][0][\'time\'][idx0] }}</td>\r\n                  <td>{{ val }}</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class="panel-footer no-padding">\r\n                <a (click)="showPic(entry.key);lgModal.show()" class="btn bg-color-greenbrigh txt-color-white btn-block" role="button">\r\n                  查看更多数据\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n      </div>\r\n    </div>\r\n      <div class="row" *ngIf="products1[\'data\'] && products1[\'data\'][0] && is_show_products">\r\n      <div *ngFor="let entry of (products1[\'data\'][0][\'info\'] | keys)">\r\n      <article class="col-sm-3" *ngIf="entry.value.value[0]">\r\n        <sa-widget  [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header>\r\n            <h2 *ngIf="entry.key == \'ch4\'">甲烷(ch4)</h2>\r\n            <h2 *ngIf="entry.key == \'co\'">一氧化碳(co)</h2>\r\n            <h2 *ngIf="entry.key == \'co2\'">二氧化碳(co2)</h2>\r\n            <h2 *ngIf="entry.key == \'o2\'">氧气(o2)</h2>\r\n            <h2 *ngIf="entry.key == \'tem\'">温度(tem)</h2>\r\n            <h2 *ngIf="entry.key == \'humi\'">湿度(humi)</h2>\r\n            <h2 *ngIf="entry.key == \'eeg\'">脑电(eeg)</h2>\r\n            <h2 *ngIf="entry.key == \'ecg\'">心率(ecg)</h2>\r\n            <h2 *ngIf="entry.key == \'spo2h\'">血氧(spo2h)</h2>\r\n          </header>\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="the-price pricing-big">\r\n                <div class="panel-heading">\r\n                  <h1 class="panel-title font-headline">\r\n                    {{entry.value.value[0]}}\r\n                    <small class="subscript" >\r\n                      <sub *ngIf="entry.key == \'ch4\' || entry.key == \'co2\' || entry.key == \'o2\' || entry.key == \'humi\'">%</sub>\r\n                      <sub *ngIf="entry.key == \'co\'">PPM</sub>\r\n                      <sub *ngIf="entry.key == \'tem\'">°C</sub>\r\n                    </small>\r\n                  </h1>\r\n                </div>\r\n              </div>\r\n              <table class="table table-hover " style="margin: -5px 0;">\r\n                <thead>\r\n                <tr>\r\n                  <th >时间</th>\r\n                  <th >数据</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr *ngFor="let val of entry.value.value;let idx1=index" [ngStyle]="{\'background-color\': entry.value.color[idx1]}">\r\n                  <td>{{ products1[\'data\'][0][\'time\'][idx1] }}</td>\r\n                  <td>{{ val }}</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n              <div class="panel-footer no-padding">\r\n                <a (click)="showPic(entry.key);lgModal.show()" class="btn bg-color-greenbrigh txt-color-white btn-block" role="button">\r\n                  查看更多数据\r\n                </a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n      </div>\r\n    </div>\r\n  </sa-widgets-grid>\r\n  <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"\r\n       aria-hidden="true">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="ngOnClose();lgModal.hide()" aria-label="Close">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n          <h4 class="modal-title">数据对比图</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="row">\r\n            <div class="col-sm-12">\r\n              <div class="form-group">\r\n                <button class="btn btn-primary"  (click)="showDayData(\'new\',0)">{{showMetric}}实时数据</button>\r\n                <button class="btn btn-primary"  (click)="showDayData(\'day\',2)">日平均</button>\r\n                </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row text-align-center" *ngIf="!chartOption_">\r\n          <img  src="assets/img/select2-spinner.gif" >\r\n          <h4 class="txt-color-darken" >加载中</h4>\r\n        </div>\r\n        <div class="modal-body" [style.display]="is_show_2">\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div echarts [options]="chartOption_" class="demo-chart" ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="row text-align-center" *ngIf="!chartOption_day" [style.display]="is_show_1">\r\n          <img  src="assets/img/select2-spinner.gif" >\r\n          <h4 class="txt-color-darken" >加载中</h4>\r\n        </div>\r\n        <div class="modal-body" *ngIf="chartOption_day" [style.display]="is_show_1">\r\n\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <div echarts [options]="chartOption_day" class="demo-chart" ></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default" (click)="ngOnClose();lgModal.hide()">\r\n            返回\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--<div class="row" *ngIf="! (products[\'data\'] && products[\'data\'][0])">--\x3e\r\n    \x3c!--<h3>正在努力加载中...</h3>--\x3e\r\n  \x3c!--</div>--\x3e\r\n  \x3c!--加载--\x3e\r\n  <div class="modal-backdrop modal-dialog-head fade in" *ngIf="! (products[\'data\'] && products[\'data\'][0] && products1[\'data\'] && products1[\'data\'][0] && is_show_products)">\r\n    <div class="modal-dialog modal-dialog-loading">\r\n      <div class="row">\r\n        <img  src="assets/img/loading3.gif" >\r\n        <h4 class="txt-color-white" >加载中</h4>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n'},dGcM:function(t,e,n){"use strict";n("NpAM")},"dN/J":function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".font-headline{font-size:38px;font-weight:400}.demo-chart{height:400px}",""]),t.exports=t.exports.toString()},enUl:function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("YQBa");n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=function(){function t(){}return t}();s=o([n.i(r.NgModule)({imports:[i.CommonModule],declarations:[a.a],exports:[a.a]})],s)},f3lI:function(t,e){t.exports='<div class="col-xs-12 col-sm-5 col-md-5 col-lg-8" saSparklineContainer>\r\n  <ul id="sparks" class="">\r\n    <li class="sparks-info">\r\n      <h5> My Income <span class="txt-color-blue">$47,171</span></h5>\r\n      <div class="sparkline txt-color-blue hidden-mobile hidden-md hidden-sm">\r\n        1300, 1877, 2500, 2577, 2000, 2100, 3000, 2700, 3631, 2471, 2700, 3631, 2471\r\n      </div>\r\n    </li>\r\n    <li class="sparks-info">\r\n      <h5> Site Traffic <span class="txt-color-purple"><i class="fa fa-arrow-circle-up"></i>&nbsp;45%</span></h5>\r\n      <div class="sparkline txt-color-purple hidden-mobile hidden-md hidden-sm">\r\n        110,150,300,130,400,240,220,310,220,300, 270, 210\r\n      </div>\r\n    </li>\r\n    <li class="sparks-info">\r\n      <h5> Site Orders <span class="txt-color-greenDark"><i class="fa fa-shopping-cart"></i>&nbsp;2447</span></h5>\r\n      <div class="sparkline txt-color-greenDark hidden-mobile hidden-md hidden-sm">\r\n        110,150,300,130,400,240,220,310,220,300, 270, 210\r\n      </div>\r\n    </li>\r\n  </ul>\r\n</div>\r\n'},fBj0:function(t,e,n){"use strict";var r=n("3j3K"),i=n("R12H"),a=n("ntJC"),o=n("5oXY"),s=n("Fzro"),l=n("NVOs");n.d(e,"a",function(){return p});var c=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(t,e,n,r,i){this.http=e,this.router=n,this.cookiestore=r,this.globalService=i,this.selects=[],this.check=!1,this.broadcastList=[],this.prev=!1,this.next=!1,this.broadcastInfo=[],this.rollback_url="/equipment/phonics-list",this.formModel=t.group({keyword:[""]}),this.getBroadcastList("1"),window.scrollTo(0,0)}return t.prototype.ngOnInit=function(){},t.prototype.getBroadcastList=function(t){var e=this,n=this.globalService.getDomain()+"/api/v1/getBroadcastList?page="+t+"&sid="+this.cookiestore.getCookie("sid");""!=this.formModel.value.keyword.trim()&&(n+="&keyword="+this.formModel.value.keyword.trim()),this.http.get(n).map(function(t){return t.json()}).subscribe(function(t){e.broadcastList=t}),setTimeout(function(){202==e.broadcastList.status&&(e.cookiestore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.broadcastList&&(e.broadcastList.result.current_page==e.broadcastList.result.last_page?e.next=!0:e.next=!1,1==e.broadcastList.result.current_page?e.prev=!0:e.prev=!1),e.selects=[];for(var t=0,n=e.broadcastList.result.data;t<n.length;t++){var r=n[t];e.selects[r.b_id]=!1}e.check=!1},400)},t.prototype.pagination=function(t){this.page=t,this.getBroadcastList(this.page)},t.prototype.onSubmit=function(){if(""==this.formModel.value.keyword.trim())return alert("请输入需要搜索的关键字"),!1;this.getBroadcastList("1")},t.prototype.getBroadcastInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getBroadcastInfo?b_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.broadcastInfo=t})},t.prototype.deleteBroadcast=function(t,e){var n=this;if(this.globalService.demoAlert("",""))return!1;confirm("您确定要删除该条信息吗？")&&(this.http.delete(this.globalService.getDomain()+"/api/v1/deleteBroadcastById?b_id="+t+"&page="+e+"&type=id&sid="+this.cookiestore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){n.broadcastList=t}),setTimeout(function(){202==n.broadcastList.status&&(n.cookiestore.removeAll(n.rollback_url),n.router.navigate(["/auth/login"])),n.broadcastList&&(n.broadcastList.result.current_page==n.broadcastList.result.last_page?n.next=!0:n.next=!1,1==n.broadcastList.result.current_page?n.prev=!0:n.prev=!1)},300))},t.prototype.handle=function(t){var e=t.target,n=e.value,r=e.checked;this.selects[n]=r;for(var i=0,a=0,o=this.selects;a<o.length;a++){0==o[a]&&(i+=1)}this.check=!(i>=1)},t.prototype.changeCheckAll=function(t){var e=this,n=t.target,r=n.checked;this.selects.forEach(function(t,n,i){e.selects[n]=r}),this.check=r},t.prototype.deleteBroadcastAll=function(t){var e=this;if(this.globalService.demoAlert("",""))return!1;if(confirm("删除后将不可恢复，您确定要删除吗？")){var n="";this.selects.forEach(function(t,e,r){1==t&&(n+=e+",")}),this.http.delete(this.globalService.getDomain()+"/api/v1/deleteBroadcastById?ids="+n+"&type=all&page="+t+"&sid="+this.cookiestore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(t){e.broadcastList=t}),setTimeout(function(){alert(e.broadcastList.msg),202==e.broadcastList.status&&(e.cookiestore.removeAll(e.rollback_url),e.router.navigate(["/auth/login"])),e.broadcastList&&(e.broadcastList.result.current_page==e.broadcastList.result.last_page?e.next=!0:e.next=!1,1==e.broadcastList.result.current_page?e.prev=!0:e.prev=!1)},300)}},t.prototype.isDemo=function(t,e){this.globalService.demoAlert(t,e)},t}();p=c([n.i(r.Component)({selector:"app-phonics-list",template:n("SCIK")}),d("design:paramtypes",["function"==typeof(h=void 0!==l.e&&l.e)&&h||Object,"function"==typeof(u=void 0!==s.d&&s.d)&&u||Object,"function"==typeof(f=void 0!==o.a&&o.a)&&f||Object,"function"==typeof(g=void 0!==a.a&&a.a)&&g||Object,"function"==typeof(b=void 0!==i.a&&i.a)&&b||Object])],p);var h,u,f,g,b},fQoN:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'定位数据采集\']" icon="table"\r\n                        class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>\r\n  </div>\r\n\r\n  <sa-widget [editbutton]="false" color="blueDark">\r\n    <header>\r\n      <span class="widget-icon"> <i class="fa fa-table"></i> </span>\r\n      <h2>定位数据采集 </h2>\r\n    </header>\r\n    <div>\r\n\r\n      <div class="widget-body no-padding">\r\n        <div class="row">\r\n          <article class="col-sm-12">\r\n\r\n            <div class="navbar navbar-default">\r\n\r\n\r\n              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n\r\n                <form class="navbar-form navbar-left" role="search" novalidate>\r\n                  \x3c!--筛选--\x3e\r\n                  \x3c!--<div class="form-group">\r\n                    <select class="form-control">\r\n                      <option value =""></option>\r\n                      <option value =""></option>\r\n                      <option value=""></option>\r\n                      <option value=""></option>\r\n                    </select>\r\n                  </div>--\x3e\r\n                  <div class="form-group">\r\n                    <input type="text" name="keyword" maxlength="15"  class="form-control" placeholder="请输入搜索内容">\r\n                  </div>\r\n                  <button type="submit" class="btn btn-default">\r\n                    <i class="glyphicon glyphicon-search"></i>\r\n                    搜索\r\n                  </button>\r\n                </form>\r\n                \x3c!--<ul class="nav navbar-nav navbar-right">\r\n                  <li dropdown class="dropdown">\r\n                    <a (click)="(null)" dropdownToggle>自定义显示内容 <span class="caret"></span></a>\r\n                    <ul *dropdownMenu  role="menu" class="dt-button-collection dropdown-menu" >\r\n                      <li class="dt-button  active"  >\r\n                        <a (click)="(null)">ID</a>\r\n                      </li>\r\n                      <li class="dt-button  active " >\r\n                        <a (click)="(null)" >订单号/合同号</a>\r\n                      </li>\r\n                      <li class="dt-button active " tabindex="0" >\r\n                        <a (click)="(null)">类型</a>\r\n                      </li>\r\n                      <li class="dt-button active " tabindex="0" >\r\n                        <a (click)="(null)">规格/参数</a>\r\n                      </li>\r\n                      <li class="divider"></li>\r\n                      <li class="dt-button  ">\r\n                        <a (click)="(null)">购买公司</a>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </ul>--\x3e\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </article>\r\n        </div>\r\n        <sa-datatable tableClass="table table-striped table-bordered table-hover smart-form">\r\n          <thead>\r\n          <tr>\r\n            <th>基站设备地址</th>\r\n            <th>员工ID</th>\r\n            <th>姓名 </th>\r\n            <th >数据采集时间</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n          <tr style="display: none;">\r\n            <td></td><td></td><td></td><td></td>\r\n          </tr>\r\n          <tr>\r\n            <td>基站设备ID-地址</td>\r\n            <td>与基站连接的员工ID信息（可能是一个或者多个员工ID）</td>\r\n            <td>调用员工ID-姓名</td>\r\n            <td>生成表单时间</td>\r\n          </tr>\r\n          </tbody>\r\n        </sa-datatable>\r\n        \x3c!-- 底部-（分页部分）--\x3e\r\n        <div class="dt-toolbar">\r\n          <div class="text-right">\r\n            <ul class="pagination pagination-sm">\r\n              <li class="disabled">\r\n                <a href="">上一页</a>\r\n              </li>\r\n              <li class="active">\r\n                <a href="">1</a>\r\n              </li>\r\n              <li>\r\n                <a href="">2</a>\r\n              </li>\r\n              <li>\r\n                <a href="">3</a>\r\n              </li>\r\n              <li>\r\n                <a href="">...</a>\r\n              </li>\r\n              <li>\r\n                <a href="">99</a>\r\n              </li>\r\n              <li>\r\n                <a href="">下一页</a>\r\n              </li>\r\n            </ul>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n  </sa-widget>\r\n\r\n\r\n</div>\r\n\r\n'},g4xB:function(t,e,n){"use strict";n("jChl")},hA8a:function(t,e){t.exports='/* jquery.sparkline 2.1.3 - http://omnipotent.net/jquery.sparkline/ \n Licensed under the New BSD License - see above site for details */\n!function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}\')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}\')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{value:map}}\'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g(\'<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)\')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D=\'.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;box-sizing: content-box;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}\',f=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=g=f({fre:/\\{\\{([\\w.]+?)(:(.+?))?\\}\\}/g,precre:/(\\w+)\\.(\\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var e,f,g,h,i,j=this,k=a;return this.format.replace(this.fre,function(){var a;return f=arguments[1],g=arguments[3],e=j.precre.exec(f),e?(i=e[2],f=e[1]):i=!1,h=k[f],h===c?"":g&&b&&b[g]?(a=b[g],a.get?b[g].get(h)||h:b[g][h]||h):(m(h)&&(h=d.get("numberFormatter")?d.get("numberFormatter")(h):r(h,i,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),h)})}}),d.spformat=function(a,b){return new g(a,b)},h=function(a,b,c){return b>a?b:a>c?c:a},i=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},j=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},k=function(a){var b,c=[];for(b=a.length;b--;)c[b]=j(a[b]);return c},l=function(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)a[c]!==b&&e.push(a[c]);return e},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=function(a,b,c,e,f){var g,h;for(a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},n=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},o=function(a){var b,c=0;for(b=a.length;b--;)c+="number"==typeof a[b]?a[b]:0;return c},q=function(a){return d.isArray(a)?a:[a]},p=function(b){var c,d;if(a.createStyleSheet)try{return a.createStyleSheet().cssText=b,void 0}catch(e){d=!0}c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),d?a.styleSheets[a.styleSheets.length-1].cssText=b:c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new H(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c){return new I(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=s=f({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-1/0:parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var b,d,e,f=this.rangelist;if((e=this.map[a])!==c)return e;if(f)for(b=f.length;b--;)if(d=f[b],d[0]<=a&&d[1]>=a)return d[2];return c}}),d.range_map=function(a){return new s(a)},t=f({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new u(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var b,c,e=this.splist,f=e.length,g=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),c=0;f>c;c++)b=e[c],b.clearRegionHighlight()&&(g=!0);g&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var a,b,c,e,f,g=this.splist,h=g.length,i=!1,j=this.$canvas.offset(),k=this.currentPageX-j.left,l=this.currentPageY-j.top;if(this.over){for(c=0;h>c;c++)b=g[c],e=b.setRegionHighlight(this.currentEl,k,l),e&&(i=!0);if(i){if(f=d.Event("sparklineRegionChange"),f.sparklines=this.splist,this.$el.trigger(f),this.tooltip){for(a="",c=0;h>c;c++)b=g[c],a+=b.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}null===e&&this.mouseleave()}}}),u=f({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c,e=b.get("tooltipClassname","jqstooltip"),f=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:f,"class":e}),this.tooltip=d("<div/>",{id:"jqstooltip","class":e}).appendTo(this.container),c=this.tooltip.offset(),this.offsetLeft=c.left,this.offsetTop=c.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){return a?(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),this.hidden&&(this.hidden=!1,this.updatePosition()),void 0):(this.tooltip.css("visibility","hidden"),this.hidden=!0,void 0)},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),E=function(){p(D)},d(E),J=[],d.fn.sparkline=function(b,e){return this.each(function(){var f,g,h=new d.fn.sparkline.options(this,e),i=d(this);if(f=function(){var e,f,g,j,k,l,m;return"html"===b||b===c?(m=this.getAttribute(h.get("tagValuesAttribute")),(m===c||null===m)&&(m=i.html()),e=m.replace(/(^\\s*\x3c!--)|(--\x3e\\s*$)|\\s+/g,"").split(",")):e=b,f="auto"===h.get("width")?e.length*h.get("defaultPixelsPerValue"):h.get("width"),"auto"===h.get("height")?h.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",i.html(j),g=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):g=h.get("height"),h.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?h.get("composite")||k.reset():(k=new t(this,h),d.data(this,"_jqs_mhandler",k))),h.get("composite")&&!d.data(this,"_jqs_vcanvas")?(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0)),void 0):(l=new(d.fn.sparkline[h.get("type")])(this,e,h,f,g),l.render(),k&&k.registerSparkline(l),void 0)},d(this).html()&&!h.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!h.get("composite")&&d.data(this,"_jqs_pending"))for(g=J.length;g;g--)J[g-1][0]==this&&J.splice(g-1,1);J.push([this,f]),d.data(this,"_jqs_pending",!0)}else f.call(this)})},d.fn.sparkline.defaults=e(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=J.length;c>b;b++)a=J[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(J[b][1].call(a),d.data(J[b][0],"_jqs_pending",!1),e.push(b)):d(a).closest("html").length||d.data(a,"_jqs_pending")||(d.data(J[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)J.splice(e[b-1],1)},d.fn.sparkline.options=f({init:function(a,b){var c,e,f,g;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},e=d.fn.sparkline.defaults,f=e.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||f.tagOptionsPrefix),g=this.getTagSetting("type"),c=g===K?e[b.type||f.type]:e[g],this.mergedOptions=d.extend({},f,c,b)},getTagSetting:function(a){var b,d,e,f,g=this.tagOptionsPrefix;if(g===!1||g===c)return K;if(this.tagValCache.hasOwnProperty(a))b=this.tagValCache.key;else{if(b=this.tag.getAttribute(g+a),b===c||null===b)b=K;else if("["===b.substr(0,1))for(b=b.substr(1,b.length-2).split(","),d=b.length;d--;)b[d]=j(b[d].replace(/(^\\s*)|(\\s*$)/g,""));else if("{"===b.substr(0,1))for(e=b.substr(1,b.length-2).split(","),b={},d=e.length;d--;)f=e[d].split(":",2),b[f[0].replace(/(^\\s*)|(\\s*$)/g,"")]=j(f[1].replace(/(^\\s*)|(\\s*$)/g,""));else b=j(b);this.tagValCache.key=b}return b},get:function(a,b){var d,e=this.getTagSetting(a);return e!==K?e:(d=this.mergedOptions[a])===c?b:d}}),d.fn.sparkline._base=f({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(a,b,d){var e,f=this.currentRegion,g=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||0>b||0>d?null:(e=this.getRegion(a,b,d),f!==e?(f!==c&&g&&this.removeHighlight(),this.currentRegion=e,e!==c&&g&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==c?(this.removeHighlight(),this.currentRegion=c,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var a,b,e,f,h,i,j,k,l,m,n,o,p,q,r=this.options,s="",t=[];if(this.currentRegion===c)return"";if(a=this.getCurrentRegionFields(),n=r.get("tooltipFormatter"))return n(this,r,a);if(r.get("tooltipChartTitle")&&(s+=\'<div class="jqs jqstitle">\'+r.get("tooltipChartTitle")+"</div>\\n"),b=this.options.get("tooltipFormat"),!b)return"";if(d.isArray(b)||(b=[b]),d.isArray(a)||(a=[a]),j=this.options.get("tooltipFormatFieldlist"),k=this.options.get("tooltipFormatFieldlistKey"),j&&k){for(l=[],i=a.length;i--;)m=a[i][k],-1!=(q=d.inArray(m,j))&&(l[q]=a[i]);a=l}for(e=b.length,p=a.length,i=0;e>i;i++)for(o=b[i],"string"==typeof o&&(o=new g(o)),f=o.fclass||"jqsfield",q=0;p>q;q++)a[q].isNull&&r.get("tooltipSkipNull")||(d.extend(a[q],{prefix:r.get("tooltipPrefix"),suffix:r.get("tooltipSuffix")}),h=o.render(a[q],r.get("tooltipValueLookups"),r),t.push(\'<div class="\'+f+\'">\'+h+"</div>"));return t.length?s+t.join("\\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var d,e,f,g,i=c.get("highlightColor"),j=c.get("highlightLighten");if(i)return i;if(j&&(d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(f=[],e=4===a.length?16:1,g=0;3>g;g++)f[g]=h(b.round(parseInt(d[g+1],16)*e*j),0,255);return"rgb("+f.join(",")+")"}return a}}),v={changeHighlight:function(a){var b,c=this.currentRegion,e=this.target,f=this.regionShapes[c];f&&(b=this.renderRegion(c,a),d.isArray(b)||d.isArray(f)?(e.replaceWithShapes(f,b),this.regionShapes[c]=d.map(b,function(a){return a.id})):(e.replaceWithShape(f,b),this.regionShapes[c]=b.id))},render:function(){var a,b,c,e,f=this.values,g=this.target,h=this.regionShapes;if(this.cls._super.render.call(this)){for(c=f.length;c--;)if(a=this.renderRegion(c))if(d.isArray(a)){for(b=[],e=a.length;e--;)a[e].append(),b.push(a[e].id);h[c]=b}else a.append(),h[c]=a.id;else h[c]=null;g.render()}}},d.fn.sparkline.line=w=f(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){w._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b){var d,e=this.regionMap;for(d=e.length;d--;)if(null!==e[d]&&b>=e[d][0]&&b<=e[d][1])return e[d][2];return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a,b,d=this.currentRegion,e=this.target,f=this.vertices[d],g=this.options,h=g.get("spotRadius"),i=g.get("highlightSpotColor"),j=g.get("highlightLineColor");f&&(h&&i&&(a=e.drawCircle(f[0],f[1],h,c,i),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),j&&(b=e.drawLine(f[0],this.canvasTop,f[0],this.canvasTop+this.canvasHeight,j),this.highlightLineId=b.id,e.insertAfterShape(this.lastShapeId,b)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var a,c,d,e,f,g=this.values,h=g.length,i=this.xvalues,j=this.yvalues,k=this.yminmax;for(a=0;h>a;a++)c=g[a],d="string"==typeof g[a],e="object"==typeof g[a]&&g[a]instanceof Array,f=d&&g[a].split(":"),d&&2===f.length?(i.push(Number(f[0])),j.push(Number(f[1])),k.push(Number(f[1]))):e?(i.push(c[0]),j.push(c[1]),k.push(c[1])):(i.push(a),null===g[a]||"null"===g[a]?j.push(null):(j.push(Number(c)),k.push(Number(c))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,k),this.miny=this.minyorg=b.min.apply(b,k),this.maxx=b.max.apply(b,i),this.minx=b.min.apply(b,i),this.xvalues=i,this.yvalues=j,this.yminmax=k},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,x,y,z,A,B,C,D,E=this.options,F=this.target,G=this.canvasWidth,H=this.canvasHeight,I=this.vertices,J=E.get("spotRadius"),K=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),B=this.xvalues,C=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(g=h=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,e=this.maxy-this.miny===0?1:this.maxy-this.miny,f=this.yvalues.length-1,J&&(4*J>G||4*J>H)&&(J=0),J&&(z=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(z||E.get("minSpotColor")||E.get("spotColor")&&C[f]===this.miny)&&(H-=b.ceil(J)),(z||E.get("maxSpotColor")||E.get("spotColor")&&C[f]===this.maxy)&&(H-=b.ceil(J),g+=b.ceil(J)),(z||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(C[0]===this.miny||C[0]===this.maxy))&&(h+=b.ceil(J),G-=b.ceil(J)),(z||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(C[f]===this.miny||C[f]===this.maxy))&&(G-=b.ceil(J))),H--,E.get("normalRangeMin")===c||E.get("drawNormalOnTop")||this.drawNormalRange(h,g,H,G,e),j=[],k=[j],q=r=null,t=C.length,D=0;t>D;D++)l=B[D],n=B[D+1],m=C[D],o=h+b.round((l-this.minx)*(G/a)),p=t-1>D?h+b.round((n-this.minx)*(G/a)):G,r=o+(p-o)/2,K[D]=[q||0,r,D],q=r,null===m?D&&(null!==C[D-1]&&(j=[],k.push(j)),I.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),j.length||j.push([o,g+H]),i=[o,g+b.round(H-H*((m-this.miny)/e))],j.push(i),I.push(i));for(u=[],v=[],x=k.length,D=0;x>D;D++)j=k[D],j.length&&(E.get("fillColor")&&(j.push([j[j.length-1][0],g+H]),v.push(j.slice(0)),j.pop()),j.length>2&&(j[0]=[j[0][0],j[1][1]]),u.push(j));for(x=v.length,D=0;x>D;D++)F.drawShape(v[D],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==c&&E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),x=u.length,D=0;x>D;D++)F.drawShape(u[D],E.get("lineColor"),c,E.get("lineWidth")).append();if(J&&E.get("valueSpots"))for(y=E.get("valueSpots"),y.get===c&&(y=new s(y)),D=0;t>D;D++)A=y.get(C[D]),A&&F.drawCircle(h+b.round((B[D]-this.minx)*(G/a)),g+b.round(H-H*((C[D]-this.miny)/e)),J,c,A).append();J&&E.get("spotColor")&&null!==C[f]&&F.drawCircle(h+b.round((B[B.length-1]-this.minx)*(G/a)),g+b.round(H-H*((C[f]-this.miny)/e)),J,c,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(J&&E.get("minSpotColor")&&(l=B[d.inArray(this.minyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.minyorg-this.miny)/e)),J,c,E.get("minSpotColor")).append()),J&&E.get("maxSpotColor")&&(l=B[d.inArray(this.maxyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.maxyorg-this.miny)/e)),J,c,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=g,F.render()}}}),d.fn.sparkline.bar=x=f(d.fn.sparkline._base,v,{type:"bar",init:function(a,e,f,g,i){var m,n,o,p,q,r,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K=parseInt(f.get("barWidth"),10),L=parseInt(f.get("barSpacing"),10),M=f.get("chartRangeMin"),N=f.get("chartRangeMax"),O=f.get("chartRangeClip"),P=1/0,Q=-1/0;for(x._super.init.call(this,a,e,f,g,i),r=0,t=e.length;t>r;r++)H=e[r],m="string"==typeof H&&H.indexOf(":")>-1,(m||d.isArray(H))&&(C=!0,m&&(H=e[r]=k(H.split(":"))),H=l(H,null),n=b.min.apply(b,H),o=b.max.apply(b,H),P>n&&(P=n),o>Q&&(Q=o));this.stacked=C,this.regionShapes={},this.barWidth=K,this.barSpacing=L,this.totalBarWidth=K+L,this.width=g=e.length*K+(e.length-1)*L,this.initTarget(),O&&(A=M===c?-1/0:M,B=N===c?1/0:N),q=[],p=C?[]:q;var R=[],S=[];for(r=0,t=e.length;t>r;r++)if(C)for(D=e[r],e[r]=G=[],R[r]=0,p[r]=S[r]=0,E=0,F=D.length;F>E;E++)H=G[E]=O?h(D[E],A,B):D[E],null!==H&&(H>0&&(R[r]+=H),0>P&&Q>0?0>H?S[r]+=b.abs(H):p[r]+=H:p[r]+=b.abs(H-(0>H?Q:P)),q.push(H));else H=O?h(e[r],A,B):e[r],H=e[r]=j(H),null!==H&&q.push(H);this.max=z=b.max.apply(b,q),this.min=y=b.min.apply(b,q),this.stackMax=Q=C?b.max.apply(b,R):z,this.stackMin=P=C?b.min.apply(b,q):y,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>z)&&(z=f.get("chartRangeMax")),this.zeroAxis=v=f.get("zeroAxis",!0),w=0>=y&&z>=0&&v?0:0==v?y:y>0?y:z,this.xaxisOffset=w,u=C?b.max.apply(b,p)+b.max.apply(b,S):z-y,this.canvasHeightEf=v&&0>y?this.canvasHeight-2:this.canvasHeight-1,w>y?(J=C&&z>=0?Q:z,I=(J-w)/u*this.canvasHeight,I!==b.ceil(I)&&(this.canvasHeightEf-=2,I=b.ceil(I))):I=this.canvasHeight,this.yoffset=I,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.range=u},getRegion:function(a,d){var e=b.floor(d/this.totalBarWidth);return 0>e||e>=this.values.length?c:e},getCurrentRegionFields:function(){var a,b,c=this.currentRegion,d=q(this.values[c]),e=[];for(b=d.length;b--;)a=d[b],e.push({isNull:null===a,value:a,color:this.calcColor(b,a,c),offset:c});return e},calcColor:function(a,b,e){var f,g,h=this.colorMapByIndex,i=this.colorMapByValue,j=this.options;return f=this.stacked?j.get("stackedBarColor"):0>b?j.get("negBarColor"):j.get("barColor"),0===b&&j.get("zeroColor")!==c&&(f=j.get("zeroColor")),i&&(g=i.get(b))?f=g:h&&h.length>e&&(f=h[e]),d.isArray(f)?f[a%f.length]:f},renderRegion:function(a,e){var f,g,h,i,j,k,l,m,o,p,q=this.values[a],r=this.options,s=this.xaxisOffset,t=[],u=this.range,v=this.stacked,w=this.target,x=a*this.totalBarWidth,y=this.canvasHeightEf,z=this.yoffset;if(q=d.isArray(q)?q:[q],l=q.length,m=q[0],i=n(null,q),p=n(s,q,!0),i)return r.get("nullColor")?(h=e?r.get("nullColor"):this.calcHighlightColor(r.get("nullColor"),r),f=z>0?z-1:z,w.drawRect(x,f,this.barWidth-1,0,h,h)):c;for(j=z,k=0;l>k;k++){if(m=q[k],v&&m===s){if(!p||o)continue;o=!0}g=u>0?b.floor(y*(b.abs(m-s)/u))+1:1,s>m||m===s&&0===z?(f=j,j+=g):(f=z-g,z-=g),h=this.calcColor(k,m,a),e&&(h=this.calcHighlightColor(h,r)),t.push(w.drawRect(x,f,this.barWidth-1,g-1,h,h))}return 1===t.length?t[0]:t}}),d.fn.sparkline.tristate=y=f(d.fn.sparkline._base,v,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);y._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c,d,e=this.values,f=this.options,g=this.colorMapByIndex,h=this.colorMapByValue;return c=h&&(d=h.get(a))?d:g&&g.length>b?g[b]:e[b]<0?f.get("negBarColor"):e[b]>0?f.get("posBarColor"):f.get("zeroBarColor")},renderRegion:function(a,c){var d,e,f,g,h,i,j=this.values,k=this.options,l=this.target;return d=l.pixelHeight,f=b.round(d/2),g=a*this.totalBarWidth,j[a]<0?(h=f,e=f-1):j[a]>0?(h=0,e=f-1):(h=f-1,e=2),i=this.calcColor(j[a],a),null!==i?(c&&(i=this.calcHighlightColor(i,k)),l.drawRect(g,h,this.barWidth-1,e-1,i,i)):void 0}}),d.fn.sparkline.discrete=z=f(d.fn.sparkline._base,v,{type:"discrete",init:function(a,e,f,g,h){z._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var d,e,f,g,i=this.values,j=this.options,k=this.min,l=this.max,m=this.range,n=this.interval,o=this.target,p=this.canvasHeight,q=this.lineHeight,r=p-q;return e=h(i[a],k,l),g=a*n,d=b.round(r-r*((e-k)/m)),f=j.get("thresholdColor")&&e<j.get("thresholdValue")?j.get("thresholdColor"):j.get("lineColor"),c&&(f=this.calcHighlightColor(f,j)),o.drawLine(g,d,g,d+q,f)}}),d.fn.sparkline.bullet=A=f(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;A._super.init.call(this,a,d,e,f,g),this.values=d=k(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?0>h?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var b,c=this.currentRegion,d=this.valueShapes[c];switch(delete this.shapes[d],c.substr(0,1)){case"r":b=this.renderRange(c.substr(1),a);break;case"p":b=this.renderPerformance(a);break;case"t":b=this.renderTarget(a)}this.valueShapes[c]=b.id,this.shapes[b.id]=c,this.target.replaceWithShape(d,b)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var a,b,c=this.values.length,d=this.target;if(A._super.render.call(this)){for(a=2;c>a;a++)b=this.renderRange(a).append(),this.shapes[b.id]="r"+a,this.valueShapes["r"+a]=b.id;null!==this.values[1]&&(b=this.renderPerformance().append(),this.shapes[b.id]="p1",this.valueShapes.p1=b.id),null!==this.values[0]&&(b=this.renderTarget().append(),this.shapes[b.id]="t0",this.valueShapes.t0=b.id),d.render()}}}),d.fn.sparkline.pie=B=f(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var h,i=0;if(B._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(h=c.length;h--;)i+=c[h];this.total=i,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var e,f,g,h,i,j=this.target,k=this.options,l=this.radius,m=k.get("borderWidth"),n=k.get("offset"),o=2*b.PI,p=this.values,q=this.total,r=n?2*b.PI*(n/360):0;for(h=p.length,g=0;h>g;g++){if(e=r,f=r,q>0&&(f=r+o*(p[g]/q)),a===g)return i=k.get("sliceColors")[g%k.get("sliceColors").length],d&&(i=this.calcHighlightColor(i,k)),j.drawPieSlice(l,l,l-m,e,f,c,i);\nr=f}},render:function(){var a,d,e=this.target,f=this.values,g=this.options,h=this.radius,i=g.get("borderWidth");if(B._super.render.call(this)){for(i&&e.drawCircle(h,h,b.floor(h-i/2),g.get("borderColor"),c,i).append(),d=f.length;d--;)f[d]&&(a=this.renderSlice(d).append(),this.valueShapes[d]=a.id,this.shapes[a.id]=d);e.render()}}}),d.fn.sparkline.box=C=f(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){C._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var a,d,e,f,g,h,j,k,l,m,n,o=this.target,p=this.values,q=p.length,r=this.options,s=this.canvasWidth,t=this.canvasHeight,u=r.get("chartRangeMin")===c?b.min.apply(b,p):r.get("chartRangeMin"),v=r.get("chartRangeMax")===c?b.max.apply(b,p):r.get("chartRangeMax"),w=0;if(C._super.render.call(this)){if(r.get("raw"))r.get("showOutliers")&&p.length>5?(d=p[0],a=p[1],f=p[2],g=p[3],h=p[4],j=p[5],k=p[6]):(a=p[0],f=p[1],g=p[2],h=p[3],j=p[4]);else if(p.sort(function(a,b){return a-b}),f=i(p,1),g=i(p,2),h=i(p,3),e=h-f,r.get("showOutliers")){for(a=j=c,l=0;q>l;l++)a===c&&p[l]>f-e*r.get("outlierIQR")&&(a=p[l]),p[l]<h+e*r.get("outlierIQR")&&(j=p[l]);d=p[0],k=p[q-1]}else a=p[0],j=p[q-1];this.quartiles=[f,g,h],this.lwhisker=a,this.rwhisker=j,this.loutlier=d,this.routlier=k,n=s/(v-u+1),r.get("showOutliers")&&(w=b.ceil(r.get("spotRadius")),s-=2*b.ceil(r.get("spotRadius")),n=s/(v-u+1),a>d&&o.drawCircle((d-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append(),k>j&&o.drawCircle((k-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append()),o.drawRect(b.round((f-u)*n+w),b.round(.1*t),b.round((h-f)*n),b.round(.8*t),r.get("boxLineColor"),r.get("boxFillColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/2),b.round((f-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/4),b.round((a-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/2),b.round((h-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/4),b.round((j-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((g-u)*n+w),b.round(.1*t),b.round((g-u)*n+w),b.round(.9*t),r.get("medianColor")).append(),r.get("target")&&(m=b.ceil(r.get("spotRadius")),o.drawLine(b.round((r.get("target")-u)*n+w),b.round(t/2-m),b.round((r.get("target")-u)*n+w),b.round(t/2+m),r.get("targetColor")).append(),o.drawLine(b.round((r.get("target")-u)*n+w-m),b.round(t/2),b.round((r.get("target")-u)*n+w+m),b.round(t/2),r.get("targetColor")).append()),o.render()}}}),F=f({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),G=f({_pxregex:/(\\d+)(px)?\\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),this.pixelHeight=e?e[1]:d(c).height(),e=this._pxregex.exec(a),this.pixelWidth=e?e[1]:d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new F(this,c,a,b)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=f(G,{init:function(b,e,f,g){H._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.strokeStyle=a),e.lineWidth=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){var a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var g,h,i=this._getContext(d,e,f);for(i.beginPath(),i.moveTo(b[0][0]+.5,b[0][1]+.5),g=1,h=b.length;h>g;g++)i.lineTo(b[g][0]+.5,b[g][1]+.5);d!==c&&i.stroke(),e!==c&&i.fill(),this.targetX!==c&&this.targetY!==c&&i.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c,d=this.shapeseq;for(this.shapes[b.id]=b,c=d.length;c--;)d[c]==a&&(d[c]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c,d,e,f=this.shapeseq,g={};for(d=a.length;d--;)g[a[d]]=!0;for(d=f.length;d--;)c=f[d],g[c]&&(f.splice(d,1),delete this.shapes[c],e=d);for(d=b.length;d--;)f.splice(e,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(a,b){var c,d=this.shapeseq;for(c=d.length;c--;)if(d[c]===a)return d.splice(c+1,0,b.id),this.shapes[b.id]=b,void 0},removeShapeId:function(a){var b,c=this.shapeseq;for(b=c.length;b--;)if(c[b]===a){c.splice(b,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var a,b,c,d=this.shapeseq,e=this.shapes,f=d.length,g=this._getContext();for(g.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;f>c;c++)a=d[c],b=e[a],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=f(G,{init:function(b,c,e){var f;I._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f=\'<v:group coordorigin="0 0" coordsize="\'+this.pixelWidth+" "+this.pixelHeight+\'" style="position:absolute;top:0;left:0;width:\'+this.pixelWidth+"px;height="+this.pixelHeight+\'px;"></v:group>\',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var g,h,i,j,k,l,m,n=[];for(m=0,l=b.length;l>m;m++)n[m]=""+b[m][0]+","+b[m][1];return g=n.splice(0,1),f=f===c?1:f,h=d===c?\' stroked="false" \':\' strokeWeight="\'+f+\'px" strokeColor="\'+d+\'" \',i=e===c?\' filled="false"\':\' fillColor="\'+e+\'" filled="true" \',j=n[0]===n[n.length-1]?"x ":"",k=\'<v:shape coordorigin="0 0" coordsize="\'+this.pixelWidth+" "+this.pixelHeight+\'"  id="jqsshape\'+a+\'" \'+h+i+\' style="position:absolute;left:0px;top:0px;height:\'+this.pixelHeight+"px;width:"+this.pixelWidth+\'px;padding:0px;margin:0px;"  path="m \'+g+" l "+n.join(", ")+" "+j+\'e"> </v:shape>\'},_drawCircle:function(a,b,d,e,f,g,h){var i,j,k;return b-=e,d-=e,i=f===c?\' stroked="false" \':\' strokeWeight="\'+h+\'px" strokeColor="\'+f+\'" \',j=g===c?\' filled="false"\':\' fillColor="\'+g+\'" filled="true" \',k=\'<v:oval  id="jqsshape\'+a+\'" \'+i+j+\' style="position:absolute;top:\'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+\'px"></v:oval>\'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r;if(g===h)return"";if(h-g===2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?\' stroked="false" \':\' strokeWeight="1px" strokeColor="\'+i+\'" \',q=j===c?\' filled="false"\':\' fillColor="\'+j+\'" filled="true" \',r=\'<v:shape coordorigin="0 0" coordsize="\'+this.pixelWidth+" "+this.pixelHeight+\'"  id="jqsshape\'+a+\'" \'+p+q+\' style="position:absolute;left:0px;top:0px;height:\'+this.pixelHeight+"px;width:"+this.pixelWidth+\'px;padding:0px;margin:0px;"  path="m \'+d+","+e+" wa "+k.join(", ")+\' x e"> </v:shape>\')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var c,e=d("#jqsshape"+a[0]),f="",g=b.length;for(c=0;g>c;c++)f+=this["_draw"+b[c].type].apply(this,b[c].args);for(e[0].outerHTML=f,c=1;c<a.length;c++)d("#jqsshape"+a[c]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a){var b=a.id.substr(8);return b},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math);'},kCVe:function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("sz1r"),o=n("4qOI");n.d(e,"a",function(){return l});var s=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},l=function(){function t(){}return t}();l=s([n.i(r.NgModule)({imports:[i.CommonModule],declarations:[a.a,o.a],exports:[a.a,o.a]})],l)},kMPS:function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,a){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var l=1e3;a&&"number"==typeof a.maxKeys&&(l=a.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var d=0;d<c;++d){var p,h,u,f,g=t[d].replace(s,"%20"),b=g.indexOf(n);b>=0?(p=g.substr(0,b),h=g.substr(b+1)):(p=g,h=""),u=decodeURIComponent(p),f=decodeURIComponent(h),r(o,u)?i(o[u])?o[u].push(f):o[u]=[o[u],f]:o[u]=f}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},l1nf:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'基站设备\']" icon="table"></sa-big-breadcrumbs>\r\n  </div>\r\n  <div class="box-header with-border" >\r\n    <a class="btn btn-success btn-sm" routerLink="/equipment/i3otp/:i_id">\r\n      <span class="glyphicon glyphicon-plus"></span>添加设备</a>\r\n  </div>\r\n  <sa-widget [editbutton]="false" color="blueDark">\r\n    <header>\r\n      <span class="widget-icon"> <i class="fa fa-table"></i> </span>\r\n      <h2>基站设备 </h2>\r\n    </header>\r\n    <div>\r\n      <div class="widget-body no-padding">\r\n        <div class="row">\r\n          <article class="col-sm-12">\r\n            <div class="navbar navbar-default">\r\n              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n                <form class="navbar-form navbar-left" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate>\r\n                  \x3c!--筛选--\x3e\r\n                  \x3c!--<div class="form-group">\r\n                    <select class="form-control">\r\n                      <option value =""></option>\r\n                      <option value =""></option>\r\n                      <option value=""></option>\r\n                      <option value=""></option>\r\n                    </select>\r\n                  </div>--\x3e\r\n                  <div class="form-group">\r\n                    <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                  </div>\r\n                  <button type="submit" class="btn btn-default">\r\n                    <i class="glyphicon glyphicon-search"></i>\r\n                    搜索\r\n                  </button>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </article>\r\n        </div>\r\n        <sa-datatable tableClass="table table-striped table-bordered table-hover smart-form">\r\n          <thead>\r\n          <tr>\r\n            <th>设备ID</th>\r\n            <th>设备ID-名称</th>\r\n            <th>检测气体数据</th>\r\n            <th>温湿度</th>\r\n            <th>采集数据时间</th>\r\n            <th>采集数据地址</th>\r\n            <th>操作</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          <tr style="display: none;">\r\n            <td></td><td></td><td></td><td></td>\r\n            <td></td><td></td><td></td>\r\n          </tr>\r\n          <tr *ngFor="let il of i3otpList.result?.i3otpList?.data">\r\n            <td (click)="getI3otpInfo(il.i3otp_id);"><span class="txt-color-blueLight">●&nbsp;</span><span class="txt-color-green">●&nbsp;</span>{{ il.i3otp_pid }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_name }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_attribute1 }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_attribute2 }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_sensor_intervan }}</td>\r\n            <td (click)="getI3otpInfo(il.i3otp_id);">{{ il.i3otp_address }}</td>\r\n            <td>\r\n              <a class="btn btn-warning btn-xs" [routerLink]="[\'/equipment/i3otp\',il.i3otp_id]"><span class="glyphicon glyphicon-pencil"></span>修改</a>\r\n              <a class="btn btn-danger btn-xs" (click)="deleteI3otp(il.i3otp_id ,i3otpList.result?.i3otpList?.current_page)"><span class="glyphicon glyphicon-remove"></span>删除</a>\r\n            </td>\r\n          </tr>\r\n          </tbody>\r\n        </sa-datatable>\r\n        \x3c!-- 底部-（分页部分）--\x3e\r\n        <div class="dt-toolbar">\r\n          <div class="col-xs-12 col-sm-6 txt-color-grey  ">\r\n            点击每行,在表下面可以看到详细数据\r\n          </div>\r\n          <div class="col-sm-6 col-xs-12 hidden-xs text-right">\r\n            <ul class="pagination">\r\n              <li>\r\n                <a (click)="pagination(i3otpList.result?.i3otpList?.prev_page_url)"><i class="fa fa-arrow-left"></i></a>\r\n              </li>\r\n              <li>\r\n                <a (click)="pagination(i3otpList.result?.i3otpList?.next_page_url)"><i class="fa fa-arrow-right"></i></a>\r\n              </li>\r\n            </ul>\r\n            \x3c!--<ul class="pagination pagination-sm">--\x3e\r\n              \x3c!--<li class="disabled">--\x3e\r\n                \x3c!--<a href="">上一页</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n              \x3c!--<li class="active">--\x3e\r\n                \x3c!--<a href="">1</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n              \x3c!--<li>--\x3e\r\n                \x3c!--<a href="">2</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n              \x3c!--<li>--\x3e\r\n                \x3c!--<a href="">3</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n              \x3c!--<li>--\x3e\r\n                \x3c!--<a href="">...</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n              \x3c!--<li>--\x3e\r\n                \x3c!--<a href="">99</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n              \x3c!--<li>--\x3e\r\n                \x3c!--<a href="">下一页</a>--\x3e\r\n              \x3c!--</li>--\x3e\r\n            \x3c!--</ul>--\x3e\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </sa-widget>\r\n  \x3c!--<app-station-details></app-station-details>--\x3e\r\n\x3c!--详情 start--\x3e\r\n  <sa-widget *ngIf="i3otpInfo.length != 0" [editbutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">\r\n    <header>\r\n      <ul class="nav nav-tabs pull-left in">\r\n        <li [class.active]="state.tabs.demo3==\'hr1\'">\r\n          <a>\r\n            <span class="hidden-mobile"> 详细信息 </span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n    <div>\r\n      <div class="widget-body">\r\n        <tabset>\r\n          <tab [active]="state.tabs.demo3 == \'hr1\'">\r\n            <div class="row">\r\n              <div class="col-sm-4">\r\n                <div class="well">\r\n                  <P class="alert alert-info">基本资料</P>\r\n                  <table class="table table-striped table-forum">\r\n                    <tbody>\r\n                    <tr>\r\n                      <td class="width-120">设备ID:</td>\r\n                      <td class="">{{ i3otpInfo.result?.i3otp_pid }}</td>\r\n                    </tr>\r\n                    <tr><td class="width-120">设备ID-名称:</td>\r\n                      <td class="">{{ i3otpInfo.result?.i3otp_name }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td class="width-120">采集数据时间:</td>\r\n                      <td class="">{{ i3otpInfo.result?.i3otp_sensor_intervan }}</td>\r\n                    </tr>\r\n                    <tr><td class="width-120">采集数据地址:</td>\r\n                      <td class="">{{ i3otpInfo.result?.i3otp_address }}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div class="col-sm-4">\r\n                <div class="well">\r\n                  <P class="alert alert-info">检测气体数据</P>\r\n                  <table class="table table-striped table-forum">\r\n                    <tbody>\r\n                    <tr>\r\n                      <td class="width-120">甲烷:</td>\r\n                      <td class="">{{ i3otpInfo.result?.detail.ch4 }}</td>\r\n                    </tr>\r\n                    <tr><td class="width-120">一氧化碳:</td>\r\n                      <td class="">{{ i3otpInfo.result?.detail.co }}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td class="width-120">二氧化碳:</td>\r\n                      <td class="">{{ i3otpInfo.result?.detail.co2 }}</td>\r\n                    </tr>\r\n                    <tr><td class="width-120">氧气:</td>\r\n                      <td class="">{{ i3otpInfo.result?.detail.o2 }}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n              <div class="col-sm-4">\r\n                <div class="well">\r\n                  <P class="alert alert-info">温湿度</P>\r\n                  <table class="table table-striped table-forum">\r\n                    <tbody>\r\n                    <tr>\r\n                      <td class="width-120">温度:</td>\r\n                      <td class="">{{ i3otpInfo.result?.detail.temp }}</td>\r\n                    </tr>\r\n                    <tr><td class="width-120">湿度:</td>\r\n                      <td class="">{{ i3otpInfo.result?.detail.humi }}</td>\r\n                    </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </tab>\r\n        </tabset>\r\n      </div>\r\n      \x3c!-- end widget content --\x3e\r\n    </div>\r\n    \x3c!-- end widget div --\x3e\r\n  </sa-widget>\r\n  \x3c!--详情 end--\x3e\r\n</div>\r\n\r\n'},lnCK:function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("3yjK");n.d(e,"a",function(){return s});var o=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},s=function(){function t(){}return t}();s=o([n.i(r.NgModule)({imports:[i.CommonModule],declarations:[a.a],exports:[a.a]})],s)},nWJE:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'设备列表\']" icon="table" ></sa-big-breadcrumbs>\r\n  </div>\r\n  <div class="box-header with-border" >\r\n    <a class="btn btn-success btn-sm"  (click)="isDemo(\'/equipment/add-equipment\',\'0\')">\r\n      <span class="glyphicon glyphicon-plus"></span>添加设备</a>\r\n  </div>\r\n  <sa-widgets-grid>\r\n    <div class="row">\r\n      <article class="col-sm-12 ">\r\n        \x3c!-- Widget ID (each widget will need unique ID)--\x3e\r\n        <sa-widget [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header>\r\n            <span class="widget-icon"> <i class="fa fa-comments"></i> </span>\r\n            <h2>设备列表</h2>\r\n          </header>\r\n          <div>\r\n            \x3c!-- widget content --\x3e\r\n            <div class="widget-body no-padding">\r\n              <div class="row">\r\n                <article class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <div class="collapse navbar-collapse" >\r\n                      <form class="navbar-form navbar-left" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate >\r\n                        <div class="form-group">\r\n                          <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                        </div>\r\n                        <button type="submit" class="btn btn-default">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n              <table  class="dataTable responsive table table-striped table-bordered table-hover smart-form" width="100%">\r\n\r\n                <thead>\r\n                <tr>\r\n                  <td>\r\n                    <label class="checkbox">\r\n                      <input name="checkbox-inline" type="checkbox" [checked]="check" (change)="changeCheckAll($event)">\r\n                      <i></i>\r\n                    </label>\r\n                  </td>\r\n                  <th>产品ID</th>\r\n                  <th>产品名称</th>\r\n                  <th>产品类别</th>\r\n                  <th>绑定地址</th>\r\n                  \x3c!--<th>产地</th>--\x3e\r\n                  <th>生产日期</th>\r\n                  <th>设备状态</th>\r\n                  <th>操作</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n\r\n                <tr style="display: none;">\r\n                  <td></td><td></td><td></td><td></td>\r\n                  <td></td><td></td><td></td>\r\n                </tr>\r\n                <tr *ngFor="let il of i3otpList.result?.i3otpList?.data">\r\n                  <td>\r\n                    <label class="checkbox">\r\n                      <input type="checkbox" value="{{ il.i3otp_id }}" [checked]="selects[il.i3otp_id]" (change)="handle($event)">\r\n                      <i></i>\r\n                    </label>\r\n                  </td>\r\n                  <td>{{ il.i3otp_pid }}</td>\r\n                  <td>{{ il.i3otp_name }}</td>\r\n                  <td>{{ il.category_desc }}</td>\r\n                  <td>{{ il.i3otp_address }}</td>\r\n                  <td>{{ il.i3otp_production_date }}</td>\r\n                  <td [ngSwitch]="il.i3otp_status">\r\n                    <span *ngSwitchCase="0">未激活</span>\r\n                    <span *ngSwitchCase="1">使用中</span>\r\n                    <span *ngSwitchCase="2">返厂维修</span>\r\n                    <span *ngSwitchCase="3">报废</span>\r\n                    <span *ngSwitchDefault>未激活</span>\r\n                  </td>\r\n\r\n                  <td >\r\n                    <a class="btn btn-warning btn-xs" (click)="isDemo(\'/equipment/add-equipment\',il.i3otp_id)"><span class="glyphicon glyphicon-pencil"></span>修改</a>\r\n                    <a class="btn btn-danger btn-xs" (click)="deleteI3otp(il.i3otp_id ,i3otpList.result?.i3otpList?.current_page)"><span class="glyphicon glyphicon-remove"></span>删除</a>\r\n                    <a class="btn btn-success btn-xs" (click)="getI3otpInfo(il.i3otp_id);lgModal.show();"><span class="glyphicon glyphicon-zoom-in"></span>详情</a>\r\n                  </td>\r\n                </tr>\r\n                </tbody>\r\n\r\n              </table>\r\n              \x3c!-- 底部-（分页部分）--\x3e\r\n              <div class="dt-toolbar">\r\n                <div class="col-xs-12 col-sm-6">\r\n                  <button  class="btn btn-default" (click)="deleteI3otpAll(i3otpList.result?.current_page)" >\r\n                    <i class="fa fa-trash-o fa-lg"></i>\r\n                    删除所选\r\n                  </button>\r\n                </div>\r\n                <div class="col-sm-6 col-xs-12 hidden-xs text-right">\r\n                  <ul class="pagination pagination-sm">\r\n                    <li *ngFor="let p of i3otpList?.page" class="{{p.class}}">\r\n                      <a (click)="pagination(p.value)" *ngIf="p.method==\'method\'">{{p.text}}</a>\r\n                      <a *ngIf="p.method==\'\'">{{p.text}}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \x3c!-- end widget content --\x3e\r\n          </div>\r\n          \x3c!-- end widget div --\x3e\r\n        </sa-widget>\r\n      </article>\r\n      \x3c!-- END COL --\x3e\r\n    </div>\r\n    \x3c!-- END ROW --\x3e\r\n  </sa-widgets-grid>\r\n\r\n  <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"\r\n       aria-hidden="true">\r\n    <div class="modal-dialog modal-lg">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="lgModal.hide()" aria-label="Close">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n          <h4 class="modal-title">读取产品ID</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          <div class="row">\r\n            <div class="col-sm-12">\r\n              <div class="text-overflow-y" >\r\n                <P class="alert alert-info">基本信息</P>\r\n                <table class="table table-striped table-forum ">\r\n                  <tbody>\r\n                  <tr>\r\n                    <td class="width-120">产品ID：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_pid}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">产品外部编号：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_c_pid}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">产品名称：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_name}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">产品类别：</td>\r\n                    <td class="">{{i3otpInfo.result?.category_desc}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">传感器：</td>\r\n                    <td class="" >\r\n                      <span *ngFor="let jsc of i3otpInfo.result?.show_join_sensor_category">{{jsc}}&nbsp;&nbsp;</span></td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">通信方式：</td>\r\n                    <td class="" >\r\n                      <span *ngFor="let jc of i3otpInfo.result?.show_join_category">{{jc}}&nbsp;&nbsp;</span></td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">Mac：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_mac_addr}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">产地：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_p_origin}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">硬件版本：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_hardware}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">固件版本：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_firmware}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">固件更新日期：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_f_update}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">产品功能：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_spec}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">生产日期：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_production_date}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">内部质检员：</td>\r\n                    <td class="">{{i3otpInfo.result?.u_username}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">内部质检日期：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_qc_date}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">购买公司：</td>\r\n                    <td class="">{{i3otpInfo.result?.c_id}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">订单号：</td>\r\n                    <td class="">{{i3otpInfo.result?.o_id}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">绑定地址：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_address}}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">设备状态：</td>\r\n\r\n                    <td [ngSwitch]="i3otpInfo.result?.i3otp_status">\r\n                      <span *ngSwitchCase="0">未激活</span>\r\n                      <span *ngSwitchCase="1">使用中</span>\r\n                      <span *ngSwitchCase="2">返厂维修</span>\r\n                      <span *ngSwitchCase="3">报废</span>\r\n                      <span *ngSwitchDefault>未激活</span>\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td class="width-120">激活码：</td>\r\n                    <td class="">{{i3otpInfo.result?.i3otp_activation}}</td>\r\n                  </tr>\r\n\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default" (click)="lgModal.hide()">\r\n            返回\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n</div>\r\n\r\n\r\n'},ocpg:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'员工传感数据\']" icon="file-text-o"></sa-big-breadcrumbs>\r\n  </div>\r\n  <sa-widgets-grid>\r\n\r\n    <div class="row">\r\n      <article class="col-sm-12">\r\n        <sa-widget  [editbutton]="false" [deletebutton]="false" color="darken">\r\n          <header><span class="widget-icon"> <i class="fa fa-comments"></i> </span>\r\n            <h2>员工传感数据</h2>\r\n            <div class="jarviswidget-ctrls" role="menu">\r\n              <a routerLink="/equipment/chart-setting" href="javascript:void(0);" class="button-icon jarviswidget-edit-btn" rel="tooltip" title="Edit" data-placement="bottom">\r\n                <i class="fa fa-cog"></i></a>\r\n            </div>\r\n\r\n          </header>\r\n\r\n          <div>\r\n            <div class="widget-body no-padding">\r\n              <div class="row">\r\n                <article class="col-sm-12">\r\n                  <div class="navbar navbar-default">\r\n                    <div class="collapse navbar-collapse" >\r\n                      <form class="navbar-form navbar-left" role="search" [formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate >\r\n                        <div class="form-group">\r\n                          <input type="text" name="keyword" maxlength="15" formControlName="keyword" class="form-control" placeholder="请输入搜索内容">\r\n                        </div>\r\n                        <button type="submit" class="btn btn-default">\r\n                          <i class="glyphicon glyphicon-search"></i>\r\n                          搜索\r\n                        </button>\r\n                      </form>\r\n                    </div>\r\n                  </div>\r\n                </article>\r\n              </div>\r\n\r\n              <div class="dataTables_wrapper">\r\n                <table  class="dataTable responsive table table-striped table-bordered table-hover">\r\n                  <thead>\r\n                  <tr role="row">\r\n                    <th class="details-control sorting_disabled percent-6"></th>\r\n                    <th class="percent-12">\r\n                      姓名\r\n                    </th>\r\n                    <th class="percent-12">\r\n                      设备\r\n                    </th>\r\n                    <th class="percent-34">\r\n                      检测数据\r\n                    </th>\r\n                    <th class="percent-10">\r\n                      状态\r\n                    </th>\r\n                    <th class="percent-10">\r\n                      采集数据时间\r\n                    </th>\r\n                    <th class="percent-16" >操作</th>\r\n                  </tr>\r\n                  </thead>\r\n                </table>\r\n                <table *ngFor="let ll of i3otpList.result?.i3otpList?.data;let ind = index;" class="dataTable responsive table table-striped table-bordered table-hover">\r\n\r\n                  <tbody *ngIf="ll.i3otp_attribute1.length!=0 && newList.length != 0" >\r\n                  <tr role="row" *ngIf="status.indexOf(\',\'+ind+\',\') === -1"  [ngClass]="{ \'odd\' : (ind%2 == 0), \'even\': (ind%2 != 0) }">\r\n                    <td class=" details-control percent-6" (click)="changeStatus(ind,\'+\')" *ngIf="ll.i3otp_attribute1.length!=0 ">\x3c!--|| ll.i3otp_attribute2.length!=0 || ll.i3otp_attribute3.length!=0---\x3e\r\n                    </td>\r\n                    <td class="percent-6" *ngIf="ll.i3otp_attribute1.length==0 ">\x3c!--&& ll.i3otp_attribute2.length==0 && ll.i3otp_attribute3.length==0--\x3e\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{ll.u_username}}\r\n                      <br>\r\n                      <small class="text-muted">\r\n                        <i>ID: {{ll.u_id}}</i>\r\n                      </small>\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{ll.i3otp_name}}\r\n                      <br>\r\n                      <small class="text-muted">\r\n                        <i>ID: {{ll.i3otp_pid}}</i>\r\n                      </small>\r\n                    </td>\r\n                    <td class="percent-34">\r\n                      <a (click)="showLine(ind,i1)" class="btn btn-success btn-xs" *ngFor="let i1 of ll.i3otp_attribute1;let in1 = index;">\r\n                      {{i1}}({{newList[ind][in1].value}}\r\n                      <sub *ngIf="newList[ind][in1].name == \'ch4\' || newList[ind][in1].name == \'co2\' || newList[ind][in1].name == \'o2\' || newList[ind][in1].name == \'humi\'">%</sub>\r\n                      <sub *ngIf="newList[ind][in1].name == \'co\'">PPM</sub>\r\n                      <sub *ngIf="newList[ind][in1].name == \'tem\'">°C</sub>)</a>\r\n                    </td>\r\n                    <td class="percent-10">\r\n                      <i *ngIf="ll.i3otp_status == 0" class="fa fa-circle txt-color-darken font-xs">未激活</i>\r\n                      <i *ngIf="ll.i3otp_status == 1" class="fa fa-circle text-danger font-xs">使用中</i>\r\n                      <i *ngIf="ll.i3otp_status == 2" class="fa fa-circle txt-color-darken font-xs">返厂维修</i>\r\n                      <i *ngIf="ll.i3otp_status == 3" class="fa fa-circle txt-color-darken font-xs">报废</i>\r\n                    </td>\r\n                    <td class="percent-10">{{newList[ind][(newList[ind].length-1)].time}}</td>\r\n                    <td class="percent-16" *ngIf="ll.i3otp_attribute1.length!=0">\x3c!-- || ll.i3otp_attribute2.length!=0 || ll.i3otp_attribute3.length!=0---\x3e\r\n                      <a (click)="notificationExample2(ll.i3otp_pid,ll.i3otp_str)" class="btn btn-primary" ><i class="glyphicon glyphicon-plus"></i>添加对比</a>\r\n                      \x3c!--<a (click)="showJoinPic();lgModal.show()" class="btn btn-warning btn-xs" ><span class="glyphicon glyphicon-adjust"></span>查看对比图</a>--\x3e\r\n                    </td>\r\n                    <td class="percent-16" *ngIf="ll.i3otp_attribute1.length==0">\x3c!-- && ll.i3otp_attribute2.length==0 && ll.i3otp_attribute3.length==0---\x3e\r\n                    </td>\r\n                  </tr>\r\n                  <tr role="row" *ngIf="status.indexOf(\',\'+ind+\',\') != -1" [ngClass]="{ \'odd\' : (ind%2 == 0), \'even\': (ind%2 != 0) ,\'shown\':true} ">\r\n                    <td class="details-control percent-6" (click)="changeStatus(ind,\'-\')" *ngIf="ll.i3otp_attribute1.length!=0">\r\n                    </td>\r\n                    <td class="percent-6" *ngIf="ll.i3otp_attribute1.length==0">\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{ll.u_username}}\r\n                      <br>\r\n                      <small class="text-muted">\r\n                        <i>ID: {{ll.u_id}}</i>\r\n                      </small>\r\n                    </td>\r\n                    <td class="percent-12">\r\n                      {{ll.i3otp_name}}\r\n                      <br>\r\n                      <small class="text-muted">\r\n                        <i>ID: {{ll.i3otp_pid}}</i>\r\n                      </small>\r\n                    </td>\r\n                    <td class="percent-34">\r\n                      <a (click)="showLine(ind,i1)" class="btn btn-success btn-xs" *ngFor="let i1 of ll.i3otp_attribute1;let in1 = index;">\r\n                        {{i1}}({{newList[ind][in1].value}}\r\n                        <sub *ngIf="newList[ind][in1].name == \'ch4\' || newList[ind][in1].name == \'co2\' || newList[ind][in1].name == \'o2\' || newList[ind][in1].name == \'humi\'">%</sub>\r\n                        <sub *ngIf="newList[ind][in1].name == \'co\'">PPM</sub>\r\n                        <sub *ngIf="newList[ind][in1].name == \'tem\'">°C</sub>)</a>\r\n                    </td>\r\n                    <td class="percent-10">\r\n                      <i *ngIf="ll.i3otp_status == 0" class="fa fa-circle txt-color-darken font-xs">未激活</i>\r\n                      <i *ngIf="ll.i3otp_status == 1" class="fa fa-circle text-danger font-xs">使用中</i>\r\n                      <i *ngIf="ll.i3otp_status == 2" class="fa fa-circle txt-color-darken font-xs">返厂维修</i>\r\n                      <i *ngIf="ll.i3otp_status == 3" class="fa fa-circle txt-color-darken font-xs">报废</i>\r\n                    </td>\r\n                    <td class="percent-10">{{ll.i3otp_sensor_intervan}}</td>\r\n                    <td class="percent-16" *ngIf="ll.i3otp_attribute1.length!=0">\r\n                      <a (click)="notificationExample2(ll.i3otp_pid,ll.i3otp_str)" class="btn btn-primary " ><i class="glyphicon glyphicon-plus"></i>添加对比</a>\r\n                    </td>\r\n                    <td class="percent-16" *ngIf="ll.i3otp_attribute1.length==0">\r\n                    </td>\r\n                  </tr>\r\n                  <tr *ngIf="status.indexOf(\',\'+ind+\',\') != -1">\r\n                    <td colspan="7">\r\n                      <table    class="table table-hover table-condensed">\r\n                        <tbody>\r\n                        \x3c!--加载完成隐藏--\x3e\r\n                        <tr *ngIf="!chartOption1[ind]">\r\n                          <td  colspan="2" class="text-align-center" ><img  src="assets/img/select2-spinner.gif" >\r\n                            <h4 class="txt-color-darken" >加载中</h4></td>\r\n                        </tr>\r\n                        \x3c!--<tr *ngIf="chartOption1[ind].legend.data.length == 0">--\x3e\r\n                          \x3c!--<td colspan="2">--\x3e\r\n                            \x3c!--<h4 class="text-align-center" >--\x3e\r\n                              \x3c!--无检测信息--\x3e\r\n                            \x3c!--</h4>--\x3e\r\n                          \x3c!--</td>--\x3e\r\n                        \x3c!--</tr>--\x3e\r\n                        <tr *ngFor="let pc1 of chartOption1[ind];let pic1 = index;">\r\n                          <td class="percent-50" style="border-right:1px solid #ccc;" *ngIf="pic1%2==0">\r\n                            <h4 class="text-align-center" *ngIf="chartOption1[ind][\'l\'+pic1]== 0">\r\n                              {{chartOption1[ind][pic1].legend.data[0]}}无检测信息\r\n                            </h4>\r\n                            <div *ngIf="chartOption1[ind][\'l\'+pic1] > 0" echarts [options]="chartOption1[ind][pic1]" class="demo-chart" ></div>\r\n                          </td>\r\n                          <td class="percent-50" *ngIf="pic1%2==0 && ((pic1+1) < chartOption1[ind].length)">\r\n                            <h4 class="text-align-center" *ngIf="chartOption1[ind][\'l\'+pic1] == 0">\r\n                              {{chartOption1[ind][pic1+1].legend.data[0]}}无检测信息\r\n                            </h4>\r\n                            <div *ngIf="chartOption1[ind][\'l\'+pic1] > 0" echarts [options]="chartOption1[ind][pic1+1]" class="demo-chart" ></div>\r\n                          </td>\r\n                        </tr>\r\n                        <tr>\r\n                          <td colspan="2">\r\n                            <h4 class="text-align-center" >\r\n                              今天的异常数据<a (click)="showAbnormal(ll.u_id,ll.i3otp_pid)"><strong data-toggle="modal" data-target="#myModal" style="color: #a90329;">&nbsp;&nbsp;{{ll.abnormal_count}}&nbsp;&nbsp;</strong></a>条\r\n                            </h4>\r\n                          </td>\r\n                        </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              \x3c!-- 底部-（分页部分）--\x3e\r\n              <div class="dt-toolbar-footer" *ngIf="newList.length == 0">\r\n                <div class="row text-align-center">\r\n                  <img  src="assets/img/select2-spinner.gif" >\r\n                  <h4 class="txt-color-darken" >加载中</h4>\r\n                </div>\r\n              </div>\r\n              <div class="dt-toolbar-footer">\r\n                <div class="col-sm-6 col-xs-12 hidden-xs">\r\n                  <div class="dataTables_info"  role="status" aria-live="polite">\r\n                  </div>\r\n                </div>\r\n                <div class="col-sm-6 col-xs-12 hidden-xs text-right" *ngIf="newList.length != 0">\r\n                  <ul class="pagination pagination-sm">\r\n                    <li *ngFor="let p of i3otpList?.page" class="{{p.class}}">\r\n                      <a (click)="pagination(p.value)" *ngIf="p.method==\'method\'">{{p.text}}</a>\r\n                      <a *ngIf="p.method==\'\'">{{p.text}}</a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </sa-widget>\r\n      </article>\r\n    </div>\r\n  </sa-widgets-grid>\r\n\r\n  <div bsModal #lgModal="bs-modal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"\r\n       aria-hidden="true">\r\n    <div class="modal-dialog modal-lg">\r\n\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          <button type="button" class="close" (click)="ngOnClose();lgModal.hide()" aria-label="Close">\r\n            <span aria-hidden="true">&times;</span>\r\n          </button>\r\n          <h4 class="modal-title">设备数据对比</h4>\r\n        </div>\r\n        <div class="modal-body">\r\n          \x3c!--<div class="row">--\x3e\r\n            \x3c!--<div class="col-sm-12">--\x3e\r\n              \x3c!--<div class="form-group">--\x3e\r\n                \x3c!--&lt;!&ndash;<label>添加或删除对比设备</label>&ndash;&gt;--\x3e\r\n                \x3c!--<select select2 multiple style="width:100%" class="select2">--\x3e\r\n                  \x3c!--<optgroup label="选择设备ID">--\x3e\r\n                    \x3c!--<option value="">12</option>--\x3e\r\n                    \x3c!--<option value="">122</option>--\x3e\r\n                    \x3c!--<option value="" selected="selected">777</option>--\x3e\r\n                    \x3c!--<option value="">77 </option>--\x3e\r\n                  \x3c!--</optgroup>--\x3e\r\n                \x3c!--</select>--\x3e\r\n                \x3c!--<div class="note">--\x3e\r\n                  \x3c!--<strong>备注:</strong> 点击设备名称或名称后面空白区域将弹出下拉框，可以选择添加和取消对比设备。--\x3e\r\n                \x3c!--</div>--\x3e\r\n              \x3c!--</div>--\x3e\r\n            \x3c!--</div>--\x3e\r\n          \x3c!--</div>--\x3e\r\n\r\n          <div class="row">\r\n            <div class="col-md-12">\r\n              <sa-widget [colorbutton]="false" [editbutton]="false" [togglebutton]="false" [deletebutton]="false" [fullscreenbutton]="false" [custombutton]="false">\r\n                <header>\r\n                  <ul id="widget-tab-1" class="nav pull-left" [ngClass]="{\'nav-tabs\' : demoShowTabs, \'nav-pills\': !demoShowTabs }">\r\n                    <li class="success" *ngFor="let char of metric_title;let indet = index;">\r\n                      <a data-toggle="tab" href="#hr{{indet+1}}">  <span class="hidden-mobile hidden-tablet"> {{char}}</span> </a>\r\n                    </li>\r\n                  </ul>\r\n                </header>\r\n                \x3c!-- widget div--\x3e\r\n\r\n                <div>\r\n\r\n                  \x3c!--加载中--\x3e\r\n                  <div class="row text-align-center" *ngIf="loading != \'\'">\r\n                    <img  src="assets/img/select2-spinner.gif" >\r\n                    <h4 class="txt-color-darken" >{{loading}}</h4>\r\n                  </div>\r\n\r\n                  \x3c!-- widget content --\x3e\r\n                  <div class="widget-body no-padding">\r\n                    \x3c!-- widget body text--\x3e\r\n                    <div class="tab-content padding-10">\r\n                      <div *ngFor="let char of chartOption2;let inde = index;" id="hr{{inde+1}}">\x3c!-- [ngClass]="{\'tab-pane fade in success\':inde == 0,\'tab-pane fade\':inde != 0}"--\x3e\r\n                        <div *ngIf="chartOption2[inde].series[0].data.length != 0">\r\n                          <h4 class="alert alert-info"> {{metric_title[inde]}}对比图</h4>\r\n                          <div echarts [options]="chartOption2[inde]" class="demo-chart"></div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                    \x3c!-- end widget body text--\x3e\r\n                    \x3c!-- widget footer --\x3e\r\n                    <div class="widget-footer text-right">\r\n                        <span class="onoffswitch-title">\r\n                            <i class="fa fa-check"></i> 显示为选项卡\r\n                        </span>\r\n                        <span class="onoffswitch">\r\n                            <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="show-tabs" [(ngModel)]="demoShowTabs">\r\n                            <label class="onoffswitch-label" for="show-tabs">\r\n                                <span class="onoffswitch-inner" data-swchon-text="yes" data-swchoff-text="no"></span>\r\n                                <span class="onoffswitch-switch"></span>\r\n                            </label>\r\n                        </span>\r\n                    </div>\r\n                    \x3c!-- end widget footer --\x3e\r\n                  </div>\r\n                  \x3c!-- end widget content --\x3e\r\n                </div>\r\n                \x3c!-- end widget div --\x3e\r\n              </sa-widget>\r\n\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n        <div class="modal-footer">\r\n          <button type="button" class="btn btn-default" (click)="ngOnClose();lgModal.hide()">\r\n            返回\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">\r\n    <div class="modal-dialog">\r\n      <div class="modal-content">\r\n        <div class="modal-header">\r\n          \x3c!-- 关闭按钮 --\x3e\r\n          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\r\n            ×\r\n          </button>\r\n          \x3c!-- 标题 --\x3e\r\n          <h3 class="modal-title" data-ng-bind=\'results.title\'></h3>\r\n          <h4 class="modal-title" id="myModalLabel">\r\n            异常数据<small class="text-muted">\r\n            <i *ngIf="abnormalData?.result">ID: {{abnormalData?.result[0].u_id}}</i>\r\n          </small>\r\n          </h4>\r\n        </div>\r\n        <div class="modal-body">\r\n\r\n          <table class="table table-hover table-bordered">\r\n            <thead>\r\n            <tr>\r\n              <th >名称</th>\r\n              <th>数据</th>\r\n              <th>时间</th>\r\n              <th>位置</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n            <tr class="danger" *ngFor="let a of abnormalData?.result">\r\n              <td>\r\n                <strong>{{a.name}}</strong>\r\n              </td>\r\n              <td>{{a.a_value}}%</td>\r\n              <td>{{a.a_time}}</td>\r\n              <td>{{a.i3otp_address}}</td>\r\n            </tr>\r\n\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div class="modal-footer">\r\n\r\n          <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>\r\n        </div>\r\n      </div>\x3c!-- /.modal-content --\x3e\r\n    </div>\x3c!-- /.modal --\x3e\r\n  </div>\r\n\r\n  \x3c!--数据对比--\x3e\r\n\r\n  <div  class="bigBox animated fadeIn fast" style="border:6px solid #3276b1;" *ngIf="isShowJoin">\r\n    <h4 (click)="closePid()">人员数据对比 <i class="botClose fa fa-times" ></i></h4>\r\n    <ul *ngIf="join_pid.length > 0">\r\n      <li *ngFor="let p of join_pid"> <i class="fa fa-times" (click)="outPid(p)"></i>ID: {{p}}</li>\r\n    </ul>\r\n    <ul *ngIf="join_pid.length == 0">\r\n      <li> 还没有可对比的数据！</li>\r\n    </ul>\r\n    <p class="text-align-center">\r\n      <a class="btn btn-info" (click)="showJoinPic();lgModal.show()">详情</a>\r\n    </p>\r\n  </div>\r\n\r\n</div>\r\n\r\n\r\n\r\n'},pvSQ:function(t,e,n){"use strict";var r=n("3j3K"),i=n("2Je8"),a=n("NVOs"),o=n("Fzro"),s=n("5oXY"),l=n("Exih"),c=n("65Up"),d=(n.n(c),n("47rR")),p=n("SbvU"),h=n("xA9f"),u=n("Na7Z"),f=n("ZFXo"),g=n("ynTK"),b=n("IoIA"),m=n("kCVe"),v=n("xc2x"),_=n("lnCK");n.d(e,"a",function(){return x});var y=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},x=function(){function t(){}return t}();x=y([n.i(r.NgModule)({imports:[i.CommonModule,a.a,o.a,s.b],declarations:[],exports:[i.CommonModule,a.a,o.a,s.b,l.a,l.b,l.c,l.d,l.e,l.f,l.g,c.PopoverModule,d.a,p.a,f.a,v.a,_.a,m.a,u.a,g.a,b.a,h.a]})],x)},qPg7:function(t,e){t.exports='<div id="content">\r\n  <div class="row">\r\n    <sa-big-breadcrumbs [items]="[\'设备管理\', \'信标\']" icon="table"\r\n                        class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></sa-big-breadcrumbs>\r\n  </div>\r\n\r\n  <sa-widget [editbutton]="false" color="blueDark">\r\n    <header>\r\n      <span class="widget-icon"> <i class="fa fa-table"></i> </span>\r\n      <h2>设备使用记录表 </h2>\r\n    </header>\r\n    <div>\r\n\r\n      <div class="widget-body no-padding">\r\n        <div class="row">\r\n          <article class="col-sm-12">\r\n\r\n            <div class="navbar navbar-default">\r\n\r\n\r\n              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\r\n\r\n                <form class="navbar-form navbar-left" role="search" novalidate>\r\n                  \x3c!--筛选--\x3e\r\n                  \x3c!--<div class="form-group">\r\n                    <select class="form-control">\r\n                      <option value =""></option>\r\n                      <option value =""></option>\r\n                      <option value=""></option>\r\n                      <option value=""></option>\r\n                    </select>\r\n                  </div>--\x3e\r\n                  <div class="form-group">\r\n                    <input type="text" name="keyword" maxlength="15"  class="form-control" placeholder="请输入搜索内容">\r\n                  </div>\r\n                  <button type="submit" class="btn btn-default">\r\n                    <i class="glyphicon glyphicon-search"></i>\r\n                    搜索\r\n                  </button>\r\n                </form>\r\n                \x3c!--<ul class="nav navbar-nav navbar-right">\r\n                  <li dropdown class="dropdown">\r\n                    <a (click)="(null)" dropdownToggle>自定义显示内容 <span class="caret"></span></a>\r\n                    <ul *dropdownMenu  role="menu" class="dt-button-collection dropdown-menu" >\r\n                      <li class="dt-button  active"  >\r\n                        <a (click)="(null)">ID</a>\r\n                      </li>\r\n                      <li class="dt-button  active " >\r\n                        <a (click)="(null)" >订单号/合同号</a>\r\n                      </li>\r\n                      <li class="dt-button active " tabindex="0" >\r\n                        <a (click)="(null)">类型</a>\r\n                      </li>\r\n                      <li class="dt-button active " tabindex="0" >\r\n                        <a (click)="(null)">规格/参数</a>\r\n                      </li>\r\n                      <li class="divider"></li>\r\n                      <li class="dt-button  ">\r\n                        <a (click)="(null)">购买公司</a>\r\n                      </li>\r\n                    </ul>\r\n                  </li>\r\n                </ul>--\x3e\r\n\r\n              </div>\r\n\r\n            </div>\r\n          </article>\r\n        </div>\r\n        <sa-datatable tableClass="table table-striped table-bordered table-hover smart-form">\r\n          <thead>\r\n          <tr>\r\n            <th>设备ID</th>\r\n            <th>姓名 </th>\r\n            <th >绑定时间</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n\r\n          <tr style="display: none;">\r\n            <td></td><td></td><td></td>\r\n          </tr>\r\n          <tr>\r\n            <td>安全帽ID</td>\r\n            <td>员工ID-姓名</td>\r\n            <td>设备插卡时间</td>\r\n          </tr>\r\n          </tbody>\r\n        </sa-datatable>\r\n        \x3c!-- 底部-（分页部分）--\x3e\r\n        <div class="dt-toolbar">\r\n          <div class="text-right">\r\n            <ul class="pagination pagination-sm">\r\n              <li class="disabled">\r\n                <a href="">上一页</a>\r\n              </li>\r\n              <li class="active">\r\n                <a href="">1</a>\r\n              </li>\r\n              <li>\r\n                <a href="">2</a>\r\n              </li>\r\n              <li>\r\n                <a href="">3</a>\r\n              </li>\r\n              <li>\r\n                <a href="">...</a>\r\n              </li>\r\n              <li>\r\n                <a href="">99</a>\r\n              </li>\r\n              <li>\r\n                <a href="">下一页</a>\r\n              </li>\r\n            </ul>\r\n\r\n          </div>\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n    </div>\r\n\r\n  </sa-widget>\r\n\r\n\r\n</div>\r\n\r\n'},qjzX:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,'table.dataTable{clear:both;margin-top:6px!important;margin-bottom:6px!important;max-width:none!important;border-collapse:separate!important}table.dataTable td,table.dataTable th{box-sizing:content-box}table.dataTable td.dataTables_empty,table.dataTable th.dataTables_empty{text-align:center}table.dataTable.nowrap td,table.dataTable.nowrap th{white-space:nowrap}div.dataTables_wrapper div.dataTables_length label{font-weight:400;text-align:left;white-space:nowrap}div.dataTables_wrapper div.dataTables_length select{width:75px;display:inline-block}div.dataTables_wrapper div.dataTables_filter{text-align:right}div.dataTables_wrapper div.dataTables_filter label{font-weight:400;white-space:nowrap;text-align:left}div.dataTables_wrapper div.dataTables_filter input{margin-left:.5em;display:inline-block;width:auto}div.dataTables_wrapper div.dataTables_info{padding-top:8px;white-space:nowrap}div.dataTables_wrapper div.dataTables_paginate{margin:0;white-space:nowrap;text-align:right}div.dataTables_wrapper div.dataTables_paginate ul.pagination{margin:2px 0;white-space:nowrap}div.dataTables_wrapper div.dataTables_processing{position:absolute;top:50%;left:50%;width:200px;margin-left:-100px;margin-top:-26px;text-align:center;padding:1em 0}table.dataTable thead>tr>td.sorting,table.dataTable thead>tr>td.sorting_asc,table.dataTable thead>tr>td.sorting_desc,table.dataTable thead>tr>th.sorting,table.dataTable thead>tr>th.sorting_asc,table.dataTable thead>tr>th.sorting_desc{padding-right:30px}table.dataTable thead>tr>td:active,table.dataTable thead>tr>th:active{outline:none}table.dataTable thead .sorting,table.dataTable thead .sorting_asc,table.dataTable thead .sorting_asc_disabled,table.dataTable thead .sorting_desc,table.dataTable thead .sorting_desc_disabled{cursor:pointer;position:relative}table.dataTable thead .sorting:after,table.dataTable thead .sorting_asc:after,table.dataTable thead .sorting_asc_disabled:after,table.dataTable thead .sorting_desc:after,table.dataTable thead .sorting_desc_disabled:after{position:absolute;bottom:8px;right:8px;display:block;font-family:Glyphicons Halflings;opacity:.5}table.dataTable thead .sorting:after{opacity:.2;content:"\\E150"}table.dataTable thead .sorting_asc:after{content:"\\E155"}table.dataTable thead .sorting_desc:after{content:"\\E156"}table.dataTable thead .sorting_asc_disabled:after,table.dataTable thead .sorting_desc_disabled:after{color:#eee}div.dataTables_scrollHead table.dataTable{margin-bottom:0!important}div.dataTables_scrollBody table{border-top:none;margin-top:0!important;margin-bottom:0!important}div.dataTables_scrollBody table thead .sorting:after,div.dataTables_scrollBody table thead .sorting_asc:after,div.dataTables_scrollBody table thead .sorting_desc:after{display:none}div.dataTables_scrollBody table tbody tr:first-child td,div.dataTables_scrollBody table tbody tr:first-child th{border-top:none}div.dataTables_scrollFoot table{margin-top:0!important;border-top:none}@media screen and (max-width:767px){div.dataTables_wrapper div.dataTables_filter,div.dataTables_wrapper div.dataTables_info,div.dataTables_wrapper div.dataTables_length,div.dataTables_wrapper div.dataTables_paginate{text-align:center}}table.dataTable.table-condensed>thead>tr>th{padding-right:20px}table.dataTable.table-condensed .sorting:after,table.dataTable.table-condensed .sorting_asc:after,table.dataTable.table-condensed .sorting_desc:after{top:6px;right:6px}table.table-bordered.dataTable td,table.table-bordered.dataTable th{border-left-width:0}table.table-bordered.dataTable td:last-child,table.table-bordered.dataTable th:last-child{border-right-width:0}div.dataTables_scrollHead table.table-bordered,table.table-bordered.dataTable tbody td,table.table-bordered.dataTable tbody th{border-bottom-width:0}div.table-responsive>div.dataTables_wrapper>div.row{margin:0}div.table-responsive>div.dataTables_wrapper>div.row>div[class^=col-]:first-child{padding-left:0}div.table-responsive>div.dataTables_wrapper>div.row>div[class^=col-]:last-child{padding-right:0}div.dt-button-info{position:fixed;top:50%;left:50%;width:400px;margin-top:-100px;margin-left:-200px;background-color:#fff;border:2px solid #111;box-shadow:3px 3px 8px rgba(0,0,0,.3);border-radius:3px;text-align:center;z-index:21}div.dt-button-info h2{padding:.5em;margin:0;font-weight:400;border-bottom:1px solid #ddd;background-color:#f3f3f3}div.dt-button-info>div{padding:1em}ul.dt-button-collection.dropdown-menu{display:block;z-index:2002;-webkit-column-gap:8px;-ms-column-gap:8px;-o-column-gap:8px;column-gap:8px}ul.dt-button-collection.dropdown-menu.fixed{position:fixed;top:50%;left:50%;margin-left:-75px;border-radius:0}ul.dt-button-collection.dropdown-menu.fixed.two-column{margin-left:-150px}ul.dt-button-collection.dropdown-menu.fixed.three-column{margin-left:-225px}ul.dt-button-collection.dropdown-menu.fixed.four-column{margin-left:-300px}ul.dt-button-collection.dropdown-menu>*{-webkit-column-break-inside:avoid;break-inside:avoid}ul.dt-button-collection.dropdown-menu.two-column{width:300px;padding-bottom:1px;-webkit-column-count:2;-ms-column-count:2;-o-column-count:2;column-count:2}ul.dt-button-collection.dropdown-menu.three-column{width:450px;padding-bottom:1px;-webkit-column-count:3;-ms-column-count:3;-o-column-count:3;column-count:3}ul.dt-button-collection.dropdown-menu.four-column{width:600px;padding-bottom:1px;-webkit-column-count:4;-ms-column-count:4;-o-column-count:4;column-count:4}div.dt-button-background{position:fixed;top:0;left:0;width:100%;height:100%;z-index:2001}@media screen and (max-width:767px){div.dt-buttons{float:none;width:100%;text-align:center;margin-bottom:.5em}div.dt-buttons a.btn{float:none}}table.DTCR_clonedTable.dataTable{position:absolute!important;background-color:hsla(0,0%,100%,.7);z-index:202}div.DTCR_pointer{width:1px;background-color:#337ab7;z-index:201}table.dataTable.dtr-inline.collapsed>tbody>tr>td.child,table.dataTable.dtr-inline.collapsed>tbody>tr>td.dataTables_empty,table.dataTable.dtr-inline.collapsed>tbody>tr>th.child{cursor:default!important}table.dataTable.dtr-inline.collapsed>tbody>tr>td.child:before,table.dataTable.dtr-inline.collapsed>tbody>tr>td.dataTables_empty:before,table.dataTable.dtr-inline.collapsed>tbody>tr>th.child:before{display:none!important}table.dataTable.dtr-inline.collapsed>tbody>tr>td:first-child,table.dataTable.dtr-inline.collapsed>tbody>tr>th:first-child{position:relative;padding-left:30px;cursor:pointer}table.dataTable.dtr-inline.collapsed>tbody>tr>td:first-child:before,table.dataTable.dtr-inline.collapsed>tbody>tr>th:first-child:before{top:9px;left:4px;height:14px;width:14px;display:block;position:absolute;color:#fff;border:2px solid #fff;border-radius:14px;box-shadow:0 0 3px #444;box-sizing:content-box;text-align:center;font-family:Courier New,Courier,monospace;line-height:14px;content:"+";background-color:#337ab7}table.dataTable.dtr-inline.collapsed>tbody>tr.parent>td:first-child:before,table.dataTable.dtr-inline.collapsed>tbody>tr.parent>th:first-child:before{content:"-";background-color:#d33333}table.dataTable.dtr-inline.collapsed>tbody>tr.child td:before{display:none}table.dataTable.dtr-inline.collapsed.compact>tbody>tr>td:first-child,table.dataTable.dtr-inline.collapsed.compact>tbody>tr>th:first-child{padding-left:27px}table.dataTable.dtr-inline.collapsed.compact>tbody>tr>td:first-child:before,table.dataTable.dtr-inline.collapsed.compact>tbody>tr>th:first-child:before{top:5px;left:4px;height:14px;width:14px;border-radius:14px;line-height:14px;text-indent:3px}table.dataTable.dtr-column>tbody>tr>td.control,table.dataTable.dtr-column>tbody>tr>th.control{position:relative;cursor:pointer}table.dataTable.dtr-column>tbody>tr>td.control:before,table.dataTable.dtr-column>tbody>tr>th.control:before{top:50%;left:50%;height:16px;width:16px;margin-top:-10px;margin-left:-10px;display:block;position:absolute;color:#fff;border:2px solid #fff;border-radius:14px;box-shadow:0 0 3px #444;box-sizing:content-box;text-align:center;font-family:Courier New,Courier,monospace;line-height:14px;content:"+";background-color:#337ab7}table.dataTable.dtr-column>tbody>tr.parent td.control:before,table.dataTable.dtr-column>tbody>tr.parent th.control:before{content:"-";background-color:#d33333}table.dataTable>tbody>tr.child{padding:.5em 1em}table.dataTable>tbody>tr.child:hover{background:transparent!important}table.dataTable>tbody>tr.child ul.dtr-details{display:inline-block;list-style-type:none;margin:0;padding:0}table.dataTable>tbody>tr.child ul.dtr-details li{border-bottom:1px solid #efefef;padding:.5em 0}table.dataTable>tbody>tr.child ul.dtr-details li:first-child{padding-top:0}table.dataTable>tbody>tr.child ul.dtr-details li:last-child{border-bottom:none}table.dataTable>tbody>tr.child span.dtr-title{display:inline-block;min-width:75px;font-weight:700}div.dtr-modal{position:fixed;box-sizing:border-box;top:0;left:0;height:100%;width:100%;z-index:100;padding:10em 1em}div.dtr-modal div.dtr-modal-display{position:absolute;top:0;left:0;bottom:0;right:0;width:50%;height:50%;margin:auto;z-index:102;overflow:auto;background-color:#f5f5f7;border:1px solid #000;border-radius:.5em;box-shadow:0 12px 30px rgba(0,0,0,.6)}div.dtr-modal div.dtr-modal-content{position:relative;padding:1em}div.dtr-modal div.dtr-modal-close{position:absolute;top:6px;right:6px;width:22px;height:22px;border:1px solid #eaeaea;background-color:#f9f9f9;text-align:center;border-radius:3px;cursor:pointer;z-index:12}div.dtr-modal div.dtr-modal-close:hover{background-color:#eaeaea}div.dtr-modal div.dtr-modal-background{position:fixed;top:0;left:0;right:0;bottom:0;z-index:101;background:rgba(0,0,0,.6)}@media screen and (max-width:767px){div.dtr-modal div.dtr-modal-display{width:95%}}div.dtr-bs-modal table.table tr:first-child td{border-top:none}table.dataTable tbody>tr.selected,table.dataTable tbody>tr>.selected{background-color:#08c}table.dataTable.display tbody>tr.odd.selected,table.dataTable.display tbody>tr.odd>.selected,table.dataTable.stripe tbody>tr.odd.selected,table.dataTable.stripe tbody>tr.odd>.selected{background-color:#0085c7}table.dataTable.display tbody>tr.selected:hover,table.dataTable.display tbody>tr>.selected:hover,table.dataTable.hover tbody>tr.selected:hover,table.dataTable.hover tbody>tr>.selected:hover{background-color:#0083c5}table.dataTable.display tbody>tr.selected>.sorting_1,table.dataTable.display tbody>tr.selected>.sorting_2,table.dataTable.display tbody>tr.selected>.sorting_3,table.dataTable.display tbody>tr>.selected,table.dataTable.order-column tbody>tr.selected>.sorting_1,table.dataTable.order-column tbody>tr.selected>.sorting_2,table.dataTable.order-column tbody>tr.selected>.sorting_3,table.dataTable.order-column tbody>tr>.selected{background-color:#0085c8}table.dataTable.display tbody>tr.odd.selected>.sorting_1,table.dataTable.order-column.stripe tbody>tr.odd.selected>.sorting_1{background-color:#0081c1}table.dataTable.display tbody>tr.odd.selected>.sorting_2,table.dataTable.order-column.stripe tbody>tr.odd.selected>.sorting_2{background-color:#0082c2}table.dataTable.display tbody>tr.odd.selected>.sorting_3,table.dataTable.order-column.stripe tbody>tr.odd.selected>.sorting_3{background-color:#0083c4}table.dataTable.display tbody>tr.even.selected>.sorting_1,table.dataTable.order-column.stripe tbody>tr.even.selected>.sorting_1{background-color:#0085c8}table.dataTable.display tbody>tr.even.selected>.sorting_2,table.dataTable.order-column.stripe tbody>tr.even.selected>.sorting_2{background-color:#0086ca}table.dataTable.display tbody>tr.even.selected>.sorting_3,table.dataTable.order-column.stripe tbody>tr.even.selected>.sorting_3{background-color:#0087cb}table.dataTable.display tbody>tr.odd>.selected,table.dataTable.order-column.stripe tbody>tr.odd>.selected{background-color:#0081c1}table.dataTable.display tbody>tr.even>.selected,table.dataTable.order-column.stripe tbody>tr.even>.selected{background-color:#0085c8}table.dataTable.display tbody>tr.selected:hover>.sorting_1,table.dataTable.order-column.hover tbody>tr.selected:hover>.sorting_1{background-color:#007dbb}table.dataTable.display tbody>tr.selected:hover>.sorting_2,table.dataTable.order-column.hover tbody>tr.selected:hover>.sorting_2{background-color:#007ebd}table.dataTable.display tbody>tr.selected:hover>.sorting_3,table.dataTable.order-column.hover tbody>tr.selected:hover>.sorting_3{background-color:#007fbf}table.dataTable.display tbody>tr:hover>.selected,table.dataTable.display tbody>tr>.selected:hover,table.dataTable.order-column.hover tbody>tr:hover>.selected,table.dataTable.order-column.hover tbody>tr>.selected:hover{background-color:#007dbb}table.dataTable td.select-checkbox{position:relative}table.dataTable td.select-checkbox:after,table.dataTable td.select-checkbox:before{display:block;position:absolute;top:1.2em;left:50%;width:12px;height:12px;box-sizing:border-box}table.dataTable td.select-checkbox:before{content:" ";margin-top:-6px;margin-left:-6px;border:1px solid #000;border-radius:3px}table.dataTable tr.selected td.select-checkbox:after{content:"\\2714";margin-top:-11px;margin-left:-4px;text-align:center;text-shadow:1px 1px #b0bed9,-1px -1px #b0bed9,1px -1px #b0bed9,-1px 1px #b0bed9}div.dataTables_wrapper span.select-info,div.dataTables_wrapper span.select-item{margin-left:.5em}@media screen and (max-width:640px){div.dataTables_wrapper span.select-info,div.dataTables_wrapper span.select-item{margin-left:0;display:block}}table.dataTable tbody td.selected,table.dataTable tbody th.selected,table.dataTable tbody tr.selected{color:#fff}table.dataTable tbody td.selected a,table.dataTable tbody th.selected a,table.dataTable tbody tr.selected a{color:#a2d4ed}',""]),t.exports=t.exports.toString()},"r+Jc":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.canDeactivate=function(t){return!!window.confirm("离开此页面将停止对最新数据的显示，您确定要离开此页面吗？")&&(t.ngOnDestroy(),!0)},t}()},r276:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(){}return t.prototype.canDeactivate=function(t){return!!window.confirm("离开此页面将停止对最新数据的显示，您确定要离开此页面吗？")&&(t.ngOnDestroy(),!0)},t}()},rBuf:function(t,e,n){"use strict";var r=n("3j3K"),i=n("D1Z2"),a=n("NVOs"),o=n("Fzro"),s=n("5oXY"),l=n("ntJC"),c=n("R12H"),d=n("1nuA");n.n(d);n.d(e,"a",function(){return u});var p=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},h=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(t,e,n,r,i,a){this.http=e,this.router=n,this.routInfo=r,this.cookieStore=i,this.globalService=a,this.i3otpList=[],this.i_id=0,this.i3otp_info=[],this.selects=[],this.rollback_url="/equipment/i3otp",this.formModel=t.group({i3otp_id:[""],i3otp_pid:[""],i3otp_category:[""],i3otp_name:[""],i3otp_address:[""],i3otp_status:[""],i3otp_attribute:[""],i3otp_sensor_intervan:[""],i3otp_productiondate:[""],u_id:[""],i3otp_qc_date:[""],i3otp_activation:[""],o_id:[""]})}return t.prototype.handle=function(t){var e=t.target,r=e.value,i=e.checked;this.selects[r]=i,console.log("this.selects"),console.log(this.selects),console.log(n.i(d.stringify)(this.selects))},t.prototype.ngOnInit=function(){this.i_id=this.routInfo.snapshot.params.i_id,0!=this.i_id?(this.getI3otpInfo(this.i_id),this.rollback_url+="/"+this.i_id):this.rollback_url+="/0",this.getI3otpDefault()},t.prototype.getKeys=function(t){return Object.keys(t)},t.prototype.getI3otpInfo=function(t){var e=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpInfo?i_id="+t).map(function(t){return t.json()}).subscribe(function(t){e.i3otp_info=t}),setTimeout(function(){console.log("this.i3otp_info:---"),console.log(e.i3otp_info),e.formModel.patchValue({i3otp_id:e.i3otp_info.result.i3otp_id,i3otp_pid:e.i3otp_info.result.i3otp_pid,i3otp_category:e.i3otp_info.result.i3otp_category,i3otp_name:e.i3otp_info.result.i3otp_name,i3otp_address:e.i3otp_info.result.i3otp_address,u_id:e.i3otp_info.result.u_id,i3otp_sensor_intervan:e.i3otp_info.result.i3otp_sensor_intervan,i3otp_productiondate:e.i3otp_info.result.i3otp_productiondate,i3otp_qc_date:e.i3otp_info.result.i3otp_qc_date,o_id:e.i3otp_info.result.o_id,i3otp_activation:e.i3otp_info.result.i3otp_activation,i3otp_status:e.i3otp_info.result.i3otp_status}),e.u_id_default=e.i3otp_info.result.u_id,e.o_id_default=e.i3otp_info.result.o_id,e.i3otp_category_default=e.i3otp_info.result.i3otp_category;for(var t=0,n=e.i3otp_info.result.i3otp_attribute;t<n.length;t++)for(var r=n[t],i=0,a=e.getKeys(r);i<a.length;i++){var o=a[i];e.selects[o]=r[o]}},500)},t.prototype.getI3otpDefault=function(){var t=this;this.http.get(this.globalService.getDomain()+"/api/v1/getI3otpDefault?sid="+this.cookieStore.getCookie("sid")).map(function(t){return t.json()}).subscribe(function(e){t.i3otpList=e}),setTimeout(function(){console.log("this.i3otpList"),console.log(t.i3otpList),202==t.i3otpList.status&&(alert(t.i3otpList.msg),t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"])),0==t.i_id&&(t.u_id_default=t.i3otpList.result.userList.length>=1?t.i3otpList.result.userList[0].id:0,t.o_id_default=t.i3otpList.result.orderList.length>=1?t.i3otpList.result.orderList[0].o_id:0,t.i3otp_category_default=1)},500)},t.prototype.onSubmit=function(){var t=this;return""==this.formModel.value.i_number.trim()?(alert("请填写设备编号！"),!1):""==this.formModel.value.i_name.trim()?(alert("请填写设备名称！"),!1):void this.http.post(this.globalService.getDomain()+"/api/v1/addI3otp",{i3otp_id:this.formModel.value.i3otp_id,i3otp_pid:this.formModel.value.i3otp_pid,i3otp_category:this.formModel.value.i3otp_category,i3otp_name:this.formModel.value.i3otp_name,i3otp_address:this.formModel.value.i3otp_address,u_id:this.formModel.value.u_id,i3otp_status:this.formModel.value.i3otp_status,i3otp_attribute:n.i(d.stringify)(this.selects),i3otp_sensor_intervan:this.formModel.value.i3otp_sensor_intervan,i3otp_productiondate:this.formModel.value.i3otp_productiondate,i3otp_qc_date:this.formModel.value.i3otp_qc_date,o_id:this.formModel.value.o_id,i3otp_activation:this.formModel.value.i3otp_activation,sid:this.cookieStore.getCookie("sid")}).subscribe(function(e){var n=JSON.parse(e._body);alert(n.msg),200==n.status?1==n.result?t.router.navigateByUrl("/equipment/helmet-list"):2==n.result&&t.router.navigateByUrl("/equipment/station-list"):202==n.status&&(t.cookieStore.removeAll(t.rollback_url),t.router.navigate(["/auth/login"]))},function(t){console.log("PATCH call in error",t)})},t}();u=p([n.i(i.a)(),n.i(r.Component)({selector:"add-i3otp",template:n("MTSd")}),h("design:paramtypes",["function"==typeof(f=void 0!==a.e&&a.e)&&f||Object,"function"==typeof(g=void 0!==o.d&&o.d)&&g||Object,"function"==typeof(b=void 0!==s.a&&s.a)&&b||Object,"function"==typeof(m=void 0!==s.c&&s.c)&&m||Object,"function"==typeof(v=void 0!==l.a&&l.a)&&v||Object,"function"==typeof(_=void 0!==c.a&&c.a)&&_||Object])],u);var f,g,b,m,v,_},sVpQ:function(t,e,n){"use strict";var r=n("3j3K");n.d(e,"a",function(){return o});var i=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},o=function(){function t(){}return t.prototype.ngOnInit=function(){},t}();o=i([n.i(r.Component)({selector:"app-equipment-beacon",template:n("qPg7")}),a("design:paramtypes",[])],o)},sWHp:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(){function t(e,n){this.id=""+t._id++,this.title=e,this.state=n,this.createdAt=new Date}return t}();r._id=0},sgBC:function(t,e,n){n("P+fo")(n("hA8a"))},sz1r:function(t,e,n){"use strict";var r=n("3j3K"),i=n("CmaY");n.n(i);n.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},o=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.container=t,this.counter=0}return t.prototype.render=function(){$(".easy-pie-chart",this.container.nativeElement).each(function(t,e){var n=$(e),r=n.css("color")||n.data("pie-color"),i=n.data("pie-track-color")||"rgba(0,0,0,0.04)",a=parseInt(n.data("pie-size"))||25;n.easyPieChart({barColor:r,trackColor:i,scaleColor:!1,lineCap:"butt",lineWidth:a/8.5,animate:1500,rotate:-90,size:a,onStep:function(t,e,n){$(this.el).find(".percent").text(Math.round(n))}})})},t.prototype.ngAfterContentChecked=function(){var t=this,e=$(".easy-pie-chart").length;e!=this.counter&&(this.counter=e,setTimeout(function(){t.render()},25))},t.prototype.ngAfterContentInit=function(){this.render()},t}();s=a([n.i(r.Directive)({selector:"[saEasyPieChartContainer]"}),o("design:paramtypes",["function"==typeof(l=void 0!==r.ElementRef&&r.ElementRef)&&l||Object])],s);var l},uyj9:function(t,e,n){"use strict";n("Jh0d")},xS9c:function(t,e){t.exports='/**!\n * easyPieChart\n * Lightweight plugin to render simple, animated and retina optimized pie charts\n *\n * @license \n * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)\n * @version 2.1.6\n **/\n!function(a,b){"object"==typeof exports?module.exports=b(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],b):b(a.jQuery)}(this,function(a){var b=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-0.5+b.rotate/180)*Math.PI);var g=(b.size-b.lineWidth)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.strokeStyle=a,e.lineWidth=b,e.stroke()},i=function(){var a,c;e.lineWidth=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.trackWidth||b.lineWidth,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this.draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.lineWidth,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this.draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)},c=function(a,c){var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof b)d.renderer=b;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");d.renderer=SVGRenderer}var e={},f=0,g=function(){this.el=a,this.options=e;for(var b in d)d.hasOwnProperty(b)&&(e[b]=c&&"undefined"!=typeof c[b]?c[b]:d[b],"function"==typeof e[b]&&(e[b]=e[b].bind(this)));e.easing="string"==typeof e.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[e.easing])?jQuery.easing[e.easing]:d.easing,"number"==typeof e.animate&&(e.animate={duration:e.animate,enabled:!0}),"boolean"!=typeof e.animate||e.animate||(e.animate={duration:1e3,enabled:e.animate}),this.renderer=new e.renderer(a,e),this.renderer.draw(f),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),e.animate.enabled?this.renderer.animate(f,a):this.renderer.draw(a),f=a,this}.bind(this),this.disableAnimation=function(){return e.animate.enabled=!1,this},this.enableAnimation=function(){return e.animate.enabled=!0,this},g()};a.fn.easyPieChart=function(b){return this.each(function(){var d;a.data(this,"easyPieChart")||(d=a.extend({},b,a(this).data()),a.data(this,"easyPieChart",new c(this,d)))})}});'},xaZU:function(t,e,n){"use strict";function r(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var i=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,s){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?r(o(t),function(o){var s=encodeURIComponent(i(o))+n;return a(t[o])?r(t[o],function(t){return s+encodeURIComponent(i(t))}).join(e):s+encodeURIComponent(i(t[o]))}).join(e):s?encodeURIComponent(i(s))+n+encodeURIComponent(i(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},xavB:function(t,e,n){e=t.exports=n("FZ+f")(!1),e.push([t.i,".demo-chart{height:400px}.div-block{display:inline-block;width:25%}",""]),t.exports=t.exports.toString()},xc2x:function(t,e,n){"use strict";var r=n("3j3K"),i=n("NVOs"),a=n("2Je8"),o=n("3bjF"),s=n("V9dY");n.d(e,"a",function(){return c});var l=this&&this.__decorate||function(t,e,n,r){var i,a=arguments.length,o=a<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(o=(a<3?i(o):a>3?i(e,n,o):i(e,n))||o);return a>3&&o&&Object.defineProperty(e,n,o),o},c=function(){function t(){}return t}();c=l([n.i(r.NgModule)({imports:[i.a,a.CommonModule],declarations:[],exports:[o.a,s.a]})],c)},yajt:function(t,e,n){"use strict";n("npGc"),n("0Pwg"),n("mLdU"),n("pNfa"),n("eHhq")}});