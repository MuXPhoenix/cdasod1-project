webpackJsonp([84,112],{Z4Dj:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=n("3j3K"),o=n("2Je8"),i=n("qljg"),a=n("oPVd"),l=n("NVOs"),s=n("ntJC"),c=n("jfyD"),d=(n.n(c),n("Fzro"));n.d(r,"LoginModule",function(){return p});var u=this&&this.__decorate||function(e,r,n,t){var o,i=arguments.length,a=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,n):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,n,t);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(r,n,a):o(r,n))||a);return i>3&&a&&Object.defineProperty(r,n,a),a},p=function(){function e(){}return e}();p=u([n.i(t.NgModule)({imports:[o.CommonModule,l.a,i.a,d.a],declarations:[a.a],providers:[s.a,c.CookieService]})],p)},d9eW:function(e,r){e.exports='<header id="header" class="animated fadeInDown">\r\n\r\n  <div id="logo-group">\r\n    <span id="logo"> <img src="assets/img/logo.png" alt="I3OT"> </span>\r\n  </div>\r\n\r\n  <span id="extr-page-header-space"> <span class="hidden-mobile hiddex-xs">需要一个新帐户吗?</span> <a routerLink="/auth/register" class="btn btn-danger">注册账户</a> </span>\r\n\r\n</header>\r\n<div id="main" role="main" class="animated fadeInDown">\r\n\r\n  <div id="content" class="container">\r\n    <div class="row">\r\n      <div class="col-xs-12 col-sm-12 col-md-7 col-lg-8 hidden-xs hidden-sm text-align-center">\r\n\r\n\r\n        <div class="hero">\r\n\r\n        </div>\r\n        <div class="row">\r\n          <div class="col-xs-12 col-sm-12">\r\n            <h5 class=" txt-color-red login-header-big">演示账号</h5>\r\n\r\n            <p>\r\n              企业登录：（客户ID:demo 用户ID：ux9528 密码：123456）\r\n            </p>\r\n          </div>\r\n\r\n        </div>\r\n\r\n\r\n      </div>\r\n\r\n\r\n      <div class="col-xs-12 col-sm-12 col-md-5 col-lg-4">\r\n\r\n        <div class="well no-padding">\r\n\r\n          <ul id="myTab" class="nav nav-tabs text-align-center" >\r\n            <li class="active"  style="width: 50%;">\r\n              <a href="#home" data-toggle="tab">\r\n                个人登录\r\n              </a>\r\n            </li>\r\n            <li style="width: 50%;"><a href="#ios" data-toggle="tab" >企业登录</a></li>\r\n          </ul>\r\n          <div id="myTabContent" class="tab-content">\r\n            <div class="tab-pane fade in active" id="home">\r\n              <form class="smart-form client-form" (ngSubmit)="onSubmit(myForm.value, myForm.valid)" #myForm="ngForm" novalidate>\r\n                <fieldset>\r\n\r\n                  <section>\r\n                    <label class="label">用户名或手机号码</label>\r\n                    <label class="input"> <i class="icon-append fa fa-user"></i>\r\n                      <input class="form-control" placeholder="请输入用户名或手机号码" type="text" minlength="1" ngModel required name="uNumber" disabled="disabled">\r\n                    </label>\r\n                  </section>\r\n\r\n                  <section>\r\n                    <label class="label">密码</label>\r\n                    <label class="input"> <i class="icon-append fa fa-lock"></i>\r\n                      <input class="form-control" disabled="disabled" placeholder="请输入密码" type="password" name="password" ngModel minlength="6" data-smart-validate-input="" data-required="" data-minlength="3"  >\r\n                      <b class="tooltip tooltip-top-right"><i class="fa fa-lock txt-color-teal"></i>密码最小长度是6</b>\r\n\r\n                    </label>\r\n                    <div class="note">\r\n                      <a routerLink="/auth/forgot-password">找回密码</a>\r\n                    </div>\r\n                  </section>\r\n                  <section>\r\n                    <label class="checkbox">\r\n                      <input type="checkbox" name="remember" checked>\r\n                      <i></i>记住密码，下次自动登录</label>\r\n                  </section>\r\n\r\n                  <p class="txt-color-red">暂不开放</p>\r\n                </fieldset>\r\n\r\n\r\n\r\n\r\n                <footer>\r\n                  <button class="btn btn-primary" [disabled]="!myForm.form.valid">\r\n                    登录\r\n                  </button>\r\n                </footer>\r\n              </form>\r\n\r\n            </div>\r\n            <div class="tab-pane fade" id="ios">\r\n              <form class="smart-form client-form" (ngSubmit)="onSubmit(myForm.value, myForm.valid)" #myForm="ngForm" novalidate>\r\n                <fieldset>\r\n                  <section>\r\n                    <label class="label">客户ID</label>\r\n                    <label class="input"> <i class="icon-append fa fa-user"></i>\r\n                      <input type="text" placeholder="请输入客户ID"  minlength="1" ngModel required name="cNumber">\r\n                    </label>\r\n                  </section>\r\n\r\n                  <section>\r\n                    <label class="label">用户ID</label>\r\n                    <label class="input"> <i class="icon-append fa fa-user"></i>\r\n                      <input type="text" placeholder="请输入用户ID" minlength="1" ngModel required name="uNumber">\r\n                    </label>\r\n                  </section>\r\n\r\n                  <section>\r\n                    <label class="label">密码</label>\r\n                    <label class="input"> <i class="icon-append fa fa-lock"></i>\r\n                      <input placeholder="请输入密码"  type="password" name="password" ngModel minlength="6" data-smart-validate-input="" data-required="" data-minlength="3" data-message="Please enter your email password">\r\n                      <b [hidden]="!myForm.form.hasError(\'minlength\',\'password\')" class="tooltip tooltip-top-right"><i class="fa fa-lock txt-color-teal"></i>密码最小长度是6</b>\r\n\r\n\r\n                    </label>\r\n                    <div class="note">\r\n                      <a routerLink="/auth/forgot-password">找回密码</a>\r\n                    </div>\r\n                  </section>\r\n                  <section>\r\n                    <label class="checkbox">\r\n                      <input type="checkbox" name="remember" checked>\r\n                      <i></i>记住密码，下次自动登录</label>\r\n                  </section>\r\n                </fieldset>\r\n                <footer>\r\n                  <button class="btn btn-primary" [disabled]="!myForm.form.valid">\r\n                    登录\r\n                  </button>\r\n                </footer>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n\r\n        <h5 class="text-center"> -使用第三方账号 -</h5>\r\n        <ul class="list-inline text-center icon-set">\r\n          <li>\r\n            <a (click)="(null)" ><i class="icon-set_wechat"></i></a>\r\n          </li>\r\n          <li>\r\n            <a (click)="(null)" ><i class="icon-set_nailing"></i></a>\r\n          </li>\r\n        </ul>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},oPVd:function(e,r,n){"use strict";var t=n("3j3K"),o=n("5oXY"),i=n("Fzro"),a=n("ntJC"),l=n("R12H");n.d(r,"a",function(){return d});var s=this&&this.__decorate||function(e,r,n,t){var o,i=arguments.length,a=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,n):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,n,t);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(r,n,a):o(r,n))||a);return i>3&&a&&Object.defineProperty(r,n,a),a},c=this&&this.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)},d=function(){function e(e,r,n,t){this.http=e,this.cookieStoreService=r,this.router=n,this.globalService=t,this.loginInfo=[],this.username="",this.uid=0,this.cid=0,this.headers=new i.b({"Content-Type":"application/x-www"}),this.options=new i.c({headers:this.headers}),window.scrollTo(0,0)}return e.prototype.ngOnInit=function(){this.cookieStoreService.getCookie("username")&&this.router.navigate(["/dashboard/dynamic-wall"])},e.prototype.login=function(e){var r=this;this.http.post(this.globalService.getDomain()+"/api/v1/login",{cNumber:e.cNumber,uNumber:e.uNumber,password:e.password}).subscribe(function(e){var n=JSON.parse(e._body);200!=n.status&&alert(n.msg),200==n.status?(r.cookieStoreService.setCookie("urole",n.result.u_role),r.cookieStoreService.setCookie("username",n.result.u_username),r.cookieStoreService.setCookie("u_avatar",null==n.result.u_avatar?"":n.result.u_avatar),r.cookieStoreService.setCookie("uid",n.result.id),r.cookieStoreService.setCookie("cid",n.result.c_id),r.cookieStoreService.setCookie("c_name",n.result.c_name),r.cookieStoreService.setCookie("sid",n.sid),r.username=n.result.u_username,r.uid=n.result.id,r.cid=n.result.c_id,r.cookieStoreService.getCookie("rollback")?r.router.navigate([r.cookieStoreService.getCookie("rollback")]):r.router.navigate(["/dashboard/dynamic-wall"])):202==n.status&&(r.cookieStoreService.removeAll(),r.router.navigate(["/auth/login"]))})},e.prototype.onSubmit=function(e,r){this.login(e)},e}();d=s([n.i(t.Component)({selector:"app-login",template:n("d9eW")}),c("design:paramtypes",["function"==typeof(u=void 0!==i.d&&i.d)&&u||Object,"function"==typeof(p=void 0!==a.a&&a.a)&&p||Object,"function"==typeof(m=void 0!==o.a&&o.a)&&m||Object,"function"==typeof(f=void 0!==l.a&&l.a)&&f||Object])],d);var u,p,m,f},qljg:function(e,r,n){"use strict";var t=n("3j3K"),o=n("5oXY"),i=n("oPVd");n.d(r,"a",function(){return s});var a=this&&this.__decorate||function(e,r,n,t){var o,i=arguments.length,a=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,n):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,n,t);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(a=(i<3?o(a):i>3?o(r,n,a):o(r,n))||a);return i>3&&a&&Object.defineProperty(r,n,a),a},l=[{path:"",component:i.a}],s=function(){function e(){}return e}();s=a([n.i(t.NgModule)({imports:[o.b.forChild(l)],exports:[o.b],providers:[]})],s)}});