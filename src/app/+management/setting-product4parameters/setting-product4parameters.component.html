<div id="content">
  <div class="row">
    <sa-big-breadcrumbs [items]="['产品管理', '产品规格/参数设置']" icon="pencil-square-o" class="col-xs-12 col-sm-9 col-md-9 col-lg-9"></sa-big-breadcrumbs>
  </div>
  <sa-widget [editbutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">
    <header>
      <ul class="nav nav-tabs pull-left in">

        <li [class.active]="state.tabs.demo2=='tab-r1'" class="active">
          <a (click)="state.tabs.demo2 = 'tab-r1'">规格/参数</a>
        </li>
      </ul>
    </header>
    <div>
      <div class="widget-body">
        <tabset>
          <tab [active]="state.tabs.demo2 == 'tab-r1'">

            <tabset class="padding-10">

              <tab [active]="state.tabs.demo2 == 'tab-r1'">

                <div class="row">

                  <article class="col-sm-4">

                    <sa-widget class="jarviswidget well" [colorbutton]="false" [editbutton]="false" [togglebutton]="false"
                               [deletebutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">

                      <div>
                        <div class="widget-body no-padding">
                          <alert type="info" class="no-margin" >
                            <i class="fa-fw fa fa-plus"></i>
                            添加规格/参数
                          </alert>
                          <!--[formGroup]="formModel" (ngSubmit)="onSubmit()" novalidate-->
                          <form class="smart-form ">
                            <input  type="hidden" name="edit_key"  [(ngModel)]="edit_key">

                            <fieldset>

                              <section >
                                <label class="label">类型</label>
                                <div class="col col-8">
                                  <label class="select">
                                    <!--formControlName="category_id"-->
                                    <select name="category_id" [(ngModel)]="category_id">
                                      <option *ngFor="let cl of parentCategoryList" value="{{cl.category_id}}" [selected]="cl.category_id == select_id">
                                        <b *ngIf="cl.category_depth == 0">{{cl.category_desc}}</b>
                                        <b *ngIf="cl.category_depth != 0">--{{cl.category_desc}}</b>
                                      </option>
                                    </select>
                                  </label>
                                </div>
                                <div class="col col-4">
                                  <button type="button" class="btn btn-primary btn-sm btn-block" [routerLink]="['/management/product3type']">
                                    添加类型
                                  </button>
                                </div>
                              </section>

                            </fieldset>
                            <fieldset>
                              <section >
                                <label class="label ">参数名称</label>
                                <label class="input">
                                  <input  type="text" name="category_tab_name"  [(ngModel)]="category_tab_name" placeholder="请输入参数名称">
                                </label>
                              </section>
                              <section>
                                <label class="label">参数内容</label>
                                <label class="textarea textarea-resizable">
                                  <textarea class="custom-scroll" rows="5" name="category_tab_value"  [(ngModel)]="category_tab_value"></textarea>
                                </label>
                              </section>

                            </fieldset>
                            <footer>
                              <button (click)="onSubmit()"  type="button" class="btn btn-primary">
                                保存
                              </button>

                            </footer>
                          </form>

                        </div>
                      </div>

                    </sa-widget>


                  </article>

                  <article class="col-sm-8">

                    <sa-widget class="jarviswidget well" [colorbutton]="false" [editbutton]="false" [togglebutton]="false"
                               [deletebutton]="false" [fullscreenbutton]="false" [custombutton]="false" [sortable]="false">


                      <div>
                        <div class="widget-body no-padding">
                          <alert type="info" class="no-margin" >
                            <i class="fa-fw fa fa-spoon"></i>
                            规格/参数
                          </alert>
                          <form class="smart-form ">
                            <fieldset>
                              <div class="row">
                                <label class="label col col-2">选择类型</label>
                                <section class="col col-10">
                                  <label class="select">
                                    <select name="select_category_id" [(ngModel)]="select_category_id" (change)="getSpecification()" >
                                      <option *ngFor="let cl of categoryList.result" value="{{cl.category_id}}" [selected]="select_id == cl.category_id">
                                        <b *ngIf="cl.category_depth == 0">{{cl.category_desc}}</b>
                                        <b *ngIf="cl.category_depth != 0">--{{cl.category_desc}}</b>
                                      </option>
                                    </select> <i></i> </label>
                                </section>
                              </div>
                            </fieldset>
                          </form>
                          <div class="table-responsive">
                            <table class="table table-hover table-bordered">
                              <thead>
                              <tr>
                                <th>规格/参数</th>
                                <th>参数内容</th>
                                <th>操作</th>
                              </tr>
                              </thead>
                              <tbody>
                              <tr *ngFor="let cl of (specification.result | keys)">
                                <td>{{cl.value.specification_name}}</td>
                                <td>{{cl.value.specification_value}}</td>
                                <td>
                                  <div *ngIf="cid == super_admin_id || select_cid == cid">
                                    <a class="btn btn-warning btn-xs" (click)="editSpecification(cl.key,cl.value.specification_name,cl.value.specification_value)"><span class="glyphicon glyphicon-pencil"></span>修改</a>
                                    <a class="btn btn-danger btn-xs" (click)="deleteSpecification(cl.key)"><span class="glyphicon glyphicon-remove"></span>删除</a>
                                  </div>
                                  <div *ngIf="cid != super_admin_id && select_cid != cid"><a class="btn btn-danger btn-xs">无权操作</a></div>
                                </td>
                              </tr>
                              </tbody>
                            </table>
                            <!--<div class="dataTables_paginate">-->
                              <!--<ul class="pagination">-->
                                <!--<li>-->
                                  <!--<a (click)="(null)"><i class="fa fa-arrow-left"></i></a>-->
                                <!--</li>-->
                                <!--<li>-->
                                  <!--<a (click)="(null)">1</a>-->
                                <!--</li>-->
                                <!--<li>-->
                                  <!--<a (click)="(null)"><i class="fa fa-arrow-right"></i></a>-->
                                <!--</li>-->
                              <!--</ul>-->
                            <!--</div>-->
                          </div>
                        </div>
                      </div>
                    </sa-widget>
                  </article>
                </div>
              </tab>
            </tabset>
          </tab>
        </tabset>
      </div>
    </div>
  </sa-widget>
</div>
